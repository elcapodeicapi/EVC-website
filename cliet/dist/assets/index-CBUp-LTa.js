function kS(t,e){for(var n=0;n<e.length;n++){const s=e[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in t)){const r=Object.getOwnPropertyDescriptor(s,i);r&&Object.defineProperty(t,i,r.get?r:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Fb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Gb={exports:{}},hd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DS=Symbol.for("react.transitional.element"),OS=Symbol.for("react.fragment");function Kb(t,e,n){var s=null;if(n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:DS,type:t,key:s,ref:e!==void 0?e:null,props:n}}hd.Fragment=OS;hd.jsx=Kb;hd.jsxs=Kb;Gb.exports=hd;var u=Gb.exports,Qb={exports:{}},ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ip=Symbol.for("react.transitional.element"),MS=Symbol.for("react.portal"),VS=Symbol.for("react.fragment"),US=Symbol.for("react.strict_mode"),LS=Symbol.for("react.profiler"),PS=Symbol.for("react.consumer"),zS=Symbol.for("react.context"),BS=Symbol.for("react.forward_ref"),qS=Symbol.for("react.suspense"),HS=Symbol.for("react.memo"),$b=Symbol.for("react.lazy"),FS=Symbol.for("react.activity"),g0=Symbol.iterator;function GS(t){return t===null||typeof t!="object"?null:(t=g0&&t[g0]||t["@@iterator"],typeof t=="function"?t:null)}var Yb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xb=Object.assign,Wb={};function Ua(t,e,n){this.props=t,this.context=e,this.refs=Wb,this.updater=n||Yb}Ua.prototype.isReactComponent={};Ua.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ua.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jb(){}Jb.prototype=Ua.prototype;function rp(t,e,n){this.props=t,this.context=e,this.refs=Wb,this.updater=n||Yb}var ap=rp.prototype=new Jb;ap.constructor=rp;Xb(ap,Ua.prototype);ap.isPureReactComponent=!0;var y0=Array.isArray;function Cf(){}var Ge={H:null,A:null,T:null,S:null},Zb=Object.prototype.hasOwnProperty;function lp(t,e,n){var s=n.ref;return{$$typeof:ip,type:t,key:e,ref:s!==void 0?s:null,props:n}}function KS(t,e){return lp(t.type,e,t.props)}function op(t){return typeof t=="object"&&t!==null&&t.$$typeof===ip}function QS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _0=/\/+/g;function Nh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QS(""+t.key):e.toString(36)}function $S(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(Cf,Cf):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function zr(t,e,n,s,i){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"bigint":case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case ip:case MS:a=!0;break;case $b:return a=t._init,zr(a(t._payload),e,n,s,i)}}if(a)return i=i(t),a=s===""?"."+Nh(t,0):s,y0(i)?(n="",a!=null&&(n=a.replace(_0,"$&/")+"/"),zr(i,e,n,"",function(d){return d})):i!=null&&(op(i)&&(i=KS(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(_0,"$&/")+"/")+a)),e.push(i)),1;a=0;var l=s===""?".":s+":";if(y0(t))for(var c=0;c<t.length;c++)s=t[c],r=l+Nh(s,c),a+=zr(s,e,n,r,i);else if(c=GS(t),typeof c=="function")for(t=c.call(t),c=0;!(s=t.next()).done;)s=s.value,r=l+Nh(s,c++),a+=zr(s,e,n,r,i);else if(r==="object"){if(typeof t.then=="function")return zr($S(t),e,n,s,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return a}function gc(t,e,n){if(t==null)return t;var s=[],i=0;return zr(t,s,"","",function(r){return e.call(n,r,i++)}),s}function YS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var v0=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},XS={map:gc,forEach:function(t,e,n){gc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gc(t,function(){e++}),e},toArray:function(t){return gc(t,function(e){return e})||[]},only:function(t){if(!op(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ue.Activity=FS;ue.Children=XS;ue.Component=Ua;ue.Fragment=VS;ue.Profiler=LS;ue.PureComponent=rp;ue.StrictMode=US;ue.Suspense=qS;ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ge;ue.__COMPILER_RUNTIME={__proto__:null,c:function(t){return Ge.H.useMemoCache(t)}};ue.cache=function(t){return function(){return t.apply(null,arguments)}};ue.cacheSignal=function(){return null};ue.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var s=Xb({},t.props),i=t.key;if(e!=null)for(r in e.key!==void 0&&(i=""+e.key),e)!Zb.call(e,r)||r==="key"||r==="__self"||r==="__source"||r==="ref"&&e.ref===void 0||(s[r]=e[r]);var r=arguments.length-2;if(r===1)s.children=n;else if(1<r){for(var a=Array(r),l=0;l<r;l++)a[l]=arguments[l+2];s.children=a}return lp(t.type,i,s)};ue.createContext=function(t){return t={$$typeof:zS,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:PS,_context:t},t};ue.createElement=function(t,e,n){var s,i={},r=null;if(e!=null)for(s in e.key!==void 0&&(r=""+e.key),e)Zb.call(e,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(i[s]=e[s]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(s in a=t.defaultProps,a)i[s]===void 0&&(i[s]=a[s]);return lp(t,r,i)};ue.createRef=function(){return{current:null}};ue.forwardRef=function(t){return{$$typeof:BS,render:t}};ue.isValidElement=op;ue.lazy=function(t){return{$$typeof:$b,_payload:{_status:-1,_result:t},_init:YS}};ue.memo=function(t,e){return{$$typeof:HS,type:t,compare:e===void 0?null:e}};ue.startTransition=function(t){var e=Ge.T,n={};Ge.T=n;try{var s=t(),i=Ge.S;i!==null&&i(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(Cf,v0)}catch(r){v0(r)}finally{e!==null&&n.types!==null&&(e.types=n.types),Ge.T=e}};ue.unstable_useCacheRefresh=function(){return Ge.H.useCacheRefresh()};ue.use=function(t){return Ge.H.use(t)};ue.useActionState=function(t,e,n){return Ge.H.useActionState(t,e,n)};ue.useCallback=function(t,e){return Ge.H.useCallback(t,e)};ue.useContext=function(t){return Ge.H.useContext(t)};ue.useDebugValue=function(){};ue.useDeferredValue=function(t,e){return Ge.H.useDeferredValue(t,e)};ue.useEffect=function(t,e){return Ge.H.useEffect(t,e)};ue.useEffectEvent=function(t){return Ge.H.useEffectEvent(t)};ue.useId=function(){return Ge.H.useId()};ue.useImperativeHandle=function(t,e,n){return Ge.H.useImperativeHandle(t,e,n)};ue.useInsertionEffect=function(t,e){return Ge.H.useInsertionEffect(t,e)};ue.useLayoutEffect=function(t,e){return Ge.H.useLayoutEffect(t,e)};ue.useMemo=function(t,e){return Ge.H.useMemo(t,e)};ue.useOptimistic=function(t,e){return Ge.H.useOptimistic(t,e)};ue.useReducer=function(t,e,n){return Ge.H.useReducer(t,e,n)};ue.useRef=function(t){return Ge.H.useRef(t)};ue.useState=function(t){return Ge.H.useState(t)};ue.useSyncExternalStore=function(t,e,n){return Ge.H.useSyncExternalStore(t,e,n)};ue.useTransition=function(){return Ge.H.useTransition()};ue.version="19.2.0";Qb.exports=ue;var A=Qb.exports;const fu=Fb(A),WS=kS({__proto__:null,default:fu},[A]);var ex={exports:{}},fd={},tx={exports:{}},nx={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,V){var O=P.length;P.push(V);e:for(;0<O;){var K=O-1>>>1,Q=P[K];if(0<i(Q,V))P[K]=V,P[O]=Q,O=K;else break e}}function n(P){return P.length===0?null:P[0]}function s(P){if(P.length===0)return null;var V=P[0],O=P.pop();if(O!==V){P[0]=O;e:for(var K=0,Q=P.length,pe=Q>>>1;K<pe;){var ne=2*(K+1)-1,Ue=P[ne],G=ne+1,W=P[G];if(0>i(Ue,O))G<Q&&0>i(W,Ue)?(P[K]=W,P[G]=O,K=G):(P[K]=Ue,P[ne]=O,K=ne);else if(G<Q&&0>i(W,O))P[K]=W,P[G]=O,K=G;else break e}}return V}function i(P,V){var O=P.sortIndex-V.sortIndex;return O!==0?O:P.id-V.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],d=[],h=1,m=null,p=3,y=!1,C=!1,j=!1,D=!1,T=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function k(P){for(var V=n(d);V!==null;){if(V.callback===null)s(d);else if(V.startTime<=P)s(d),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(d)}}function U(P){if(j=!1,k(P),!C)if(n(c)!==null)C=!0,z||(z=!0,I());else{var V=n(d);V!==null&&me(U,V.startTime-P)}}var z=!1,w=-1,_=5,v=-1;function S(){return D?!0:!(t.unstable_now()-v<_)}function R(){if(D=!1,z){var P=t.unstable_now();v=P;var V=!0;try{e:{C=!1,j&&(j=!1,b(w),w=-1),y=!0;var O=p;try{t:{for(k(P),m=n(c);m!==null&&!(m.expirationTime>P&&S());){var K=m.callback;if(typeof K=="function"){m.callback=null,p=m.priorityLevel;var Q=K(m.expirationTime<=P);if(P=t.unstable_now(),typeof Q=="function"){m.callback=Q,k(P),V=!0;break t}m===n(c)&&s(c),k(P)}else s(c);m=n(c)}if(m!==null)V=!0;else{var pe=n(d);pe!==null&&me(U,pe.startTime-P),V=!1}}break e}finally{m=null,p=O,y=!1}V=void 0}}finally{V?I():z=!1}}}var I;if(typeof x=="function")I=function(){x(R)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,ae=N.port2;N.port1.onmessage=R,I=function(){ae.postMessage(null)}}else I=function(){T(R,0)};function me(P,V){w=T(function(){P(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var O=p;p=V;try{return P()}finally{p=O}},t.unstable_requestPaint=function(){D=!0},t.unstable_runWithPriority=function(P,V){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var O=p;p=P;try{return V()}finally{p=O}},t.unstable_scheduleCallback=function(P,V,O){var K=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?K+O:K):O=K,P){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=O+Q,P={id:h++,callback:V,priorityLevel:P,startTime:O,expirationTime:Q,sortIndex:-1},O>K?(P.sortIndex=O,e(d,P),n(c)===null&&P===n(d)&&(j?(b(w),w=-1):j=!0,me(U,O-K))):(P.sortIndex=Q,e(c,P),C||y||(C=!0,z||(z=!0,I()))),P},t.unstable_shouldYield=S,t.unstable_wrapCallback=function(P){var V=p;return function(){var O=p;p=V;try{return P.apply(this,arguments)}finally{p=O}}}})(nx);tx.exports=nx;var JS=tx.exports,sx={exports:{}},Ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZS=A;function ix(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function qs(){}var qt={d:{f:qs,r:function(){throw Error(ix(522))},D:qs,C:qs,L:qs,m:qs,X:qs,S:qs,M:qs},p:0,findDOMNode:null},e2=Symbol.for("react.portal");function t2(t,e,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:e2,key:s==null?null:""+s,children:t,containerInfo:e,implementation:n}}var Ml=ZS.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function md(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=qt;Ht.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ix(299));return t2(t,e,null,n)};Ht.flushSync=function(t){var e=Ml.T,n=qt.p;try{if(Ml.T=null,qt.p=2,t)return t()}finally{Ml.T=e,qt.p=n,qt.d.f()}};Ht.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,qt.d.C(t,e))};Ht.prefetchDNS=function(t){typeof t=="string"&&qt.d.D(t)};Ht.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,s=md(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,r=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?qt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:s,integrity:i,fetchPriority:r}):n==="script"&&qt.d.X(t,{crossOrigin:s,integrity:i,fetchPriority:r,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Ht.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=md(e.as,e.crossOrigin);qt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&qt.d.M(t)};Ht.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,s=md(n,e.crossOrigin);qt.d.L(t,n,{crossOrigin:s,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Ht.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=md(e.as,e.crossOrigin);qt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else qt.d.m(t)};Ht.requestFormReset=function(t){qt.d.r(t)};Ht.unstable_batchedUpdates=function(t,e){return t(e)};Ht.useFormState=function(t,e,n){return Ml.H.useFormState(t,e,n)};Ht.useFormStatus=function(){return Ml.H.useHostTransitionStatus()};Ht.version="19.2.0";function rx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rx)}catch(t){console.error(t)}}rx(),sx.exports=Ht;var n2=sx.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gt=JS,ax=A,s2=n2;function H(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function lx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ko(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ox(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cx(t){if(t.tag===31){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b0(t){if(ko(t)!==t)throw Error(H(188))}function i2(t){var e=t.alternate;if(!e){if(e=ko(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(i===null)break;var r=i.alternate;if(r===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return b0(i),t;if(r===s)return b0(i),e;r=r.sibling}throw Error(H(188))}if(n.return!==s.return)n=i,s=r;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a)throw Error(H(189))}}if(n.alternate!==s)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function ux(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=ux(t),e!==null)return e;t=t.sibling}return null}var Ke=Object.assign,r2=Symbol.for("react.element"),yc=Symbol.for("react.transitional.element"),Tl=Symbol.for("react.portal"),Qr=Symbol.for("react.fragment"),dx=Symbol.for("react.strict_mode"),Rf=Symbol.for("react.profiler"),hx=Symbol.for("react.consumer"),hs=Symbol.for("react.context"),cp=Symbol.for("react.forward_ref"),If=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),up=Symbol.for("react.memo"),Fs=Symbol.for("react.lazy"),kf=Symbol.for("react.activity"),a2=Symbol.for("react.memo_cache_sentinel"),x0=Symbol.iterator;function gl(t){return t===null||typeof t!="object"?null:(t=x0&&t[x0]||t["@@iterator"],typeof t=="function"?t:null)}var l2=Symbol.for("react.client.reference");function Df(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===l2?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qr:return"Fragment";case Rf:return"Profiler";case dx:return"StrictMode";case If:return"Suspense";case jf:return"SuspenseList";case kf:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Tl:return"Portal";case hs:return t.displayName||"Context";case hx:return(t._context.displayName||"Context")+".Consumer";case cp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case up:return e=t.displayName||null,e!==null?e:Df(t.type)||"Memo";case Fs:e=t._payload,t=t._init;try{return Df(t(e))}catch{}}return null}var Al=Array.isArray,re=ax.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ce=s2.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,sr={pending:!1,data:null,method:null,action:null},Of=[],$r=-1;function Jn(t){return{current:t}}function xt(t){0>$r||(t.current=Of[$r],Of[$r]=null,$r--)}function Pe(t,e){$r++,Of[$r]=t.current,t.current=e}var qn=Jn(null),io=Jn(null),oi=Jn(null),mu=Jn(null);function pu(t,e){switch(Pe(oi,e),Pe(io,t),Pe(qn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?N_(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=N_(e),t=kw(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}xt(qn),Pe(qn,t)}function ya(){xt(qn),xt(io),xt(oi)}function Mf(t){t.memoizedState!==null&&Pe(mu,t);var e=qn.current,n=kw(e,t.type);e!==n&&(Pe(io,t),Pe(qn,n))}function gu(t){io.current===t&&(xt(qn),xt(io)),mu.current===t&&(xt(mu),go._currentValue=sr)}var Ch,E0;function Wi(t){if(Ch===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ch=e&&e[1]||"",E0=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ch+t+E0}var Rh=!1;function Ih(t,e){if(!t||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(y){var p=y}Reflect.construct(t,[],m)}else{try{m.call()}catch(y){p=y}t.call(m.prototype)}}else{try{throw Error()}catch(y){p=y}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(y){if(y&&p&&typeof y.stack=="string")return[y.stack,p.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),a=r[0],l=r[1];if(a&&l){var c=a.split(`
`),d=l.split(`
`);for(i=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;i<d.length&&!d[i].includes("DetermineComponentFrameRoot");)i++;if(s===c.length||i===d.length)for(s=c.length-1,i=d.length-1;1<=s&&0<=i&&c[s]!==d[i];)i--;for(;1<=s&&0<=i;s--,i--)if(c[s]!==d[i]){if(s!==1||i!==1)do if(s--,i--,0>i||c[s]!==d[i]){var h=`
`+c[s].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=s&&0<=i);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Wi(n):""}function o2(t,e){switch(t.tag){case 26:case 27:case 5:return Wi(t.type);case 16:return Wi("Lazy");case 13:return t.child!==e&&e!==null?Wi("Suspense Fallback"):Wi("Suspense");case 19:return Wi("SuspenseList");case 0:case 15:return Ih(t.type,!1);case 11:return Ih(t.type.render,!1);case 1:return Ih(t.type,!0);case 31:return Wi("Activity");default:return""}}function w0(t){try{var e="",n=null;do e+=o2(t,n),n=t,t=t.return;while(t);return e}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Vf=Object.prototype.hasOwnProperty,dp=gt.unstable_scheduleCallback,jh=gt.unstable_cancelCallback,c2=gt.unstable_shouldYield,u2=gt.unstable_requestPaint,ln=gt.unstable_now,d2=gt.unstable_getCurrentPriorityLevel,fx=gt.unstable_ImmediatePriority,mx=gt.unstable_UserBlockingPriority,yu=gt.unstable_NormalPriority,h2=gt.unstable_LowPriority,px=gt.unstable_IdlePriority,f2=gt.log,m2=gt.unstable_setDisableYieldValue,Do=null,on=null;function ti(t){if(typeof f2=="function"&&m2(t),on&&typeof on.setStrictMode=="function")try{on.setStrictMode(Do,t)}catch{}}var cn=Math.clz32?Math.clz32:y2,p2=Math.log,g2=Math.LN2;function y2(t){return t>>>=0,t===0?32:31-(p2(t)/g2|0)|0}var _c=256,vc=262144,bc=4194304;function Ji(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function pd(t,e,n){var s=t.pendingLanes;if(s===0)return 0;var i=0,r=t.suspendedLanes,a=t.pingedLanes;t=t.warmLanes;var l=s&134217727;return l!==0?(s=l&~r,s!==0?i=Ji(s):(a&=l,a!==0?i=Ji(a):n||(n=l&~t,n!==0&&(i=Ji(n))))):(l=s&~r,l!==0?i=Ji(l):a!==0?i=Ji(a):n||(n=s&~t,n!==0&&(i=Ji(n)))),i===0?0:e!==0&&e!==i&&!(e&r)&&(r=i&-i,n=e&-e,r>=n||r===32&&(n&4194048)!==0)?e:i}function Oo(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function _2(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gx(){var t=bc;return bc<<=1,!(bc&62914560)&&(bc=4194304),t}function kh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mo(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function v2(t,e,n,s,i,r){var a=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,c=t.expirationTimes,d=t.hiddenUpdates;for(n=a&~n;0<n;){var h=31-cn(n),m=1<<h;l[h]=0,c[h]=-1;var p=d[h];if(p!==null)for(d[h]=null,h=0;h<p.length;h++){var y=p[h];y!==null&&(y.lane&=-536870913)}n&=~m}s!==0&&yx(t,s,0),r!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=r&~(a&~e))}function yx(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var s=31-cn(e);t.entangledLanes|=e,t.entanglements[s]=t.entanglements[s]|1073741824|n&261930}function _x(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var s=31-cn(n),i=1<<s;i&e|t[s]&e&&(t[s]|=e),n&=~i}}function vx(t,e){var n=e&-e;return n=n&42?1:hp(n),n&(t.suspendedLanes|e)?0:n}function hp(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function fp(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function bx(){var t=Ce.p;return t!==0?t:(t=window.event,t===void 0?32:Hw(t.type))}function T0(t,e){var n=Ce.p;try{return Ce.p=t,e()}finally{Ce.p=n}}var Vi=Math.random().toString(36).slice(2),St="__reactFiber$"+Vi,Wt="__reactProps$"+Vi,La="__reactContainer$"+Vi,Uf="__reactEvents$"+Vi,b2="__reactListeners$"+Vi,x2="__reactHandles$"+Vi,A0="__reactResources$"+Vi,Vo="__reactMarker$"+Vi;function mp(t){delete t[St],delete t[Wt],delete t[Uf],delete t[b2],delete t[x2]}function Yr(t){var e=t[St];if(e)return e;for(var n=t.parentNode;n;){if(e=n[La]||n[St]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=k_(t);t!==null;){if(n=t[St])return n;t=k_(t)}return e}t=n,n=t.parentNode}return null}function Pa(t){if(t=t[St]||t[La]){var e=t.tag;if(e===5||e===6||e===13||e===31||e===26||e===27||e===3)return t}return null}function Sl(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(H(33))}function aa(t){var e=t[A0];return e||(e=t[A0]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function bt(t){t[Vo]=!0}var xx=new Set,Ex={};function Tr(t,e){_a(t,e),_a(t+"Capture",e)}function _a(t,e){for(Ex[t]=e,t=0;t<e.length;t++)xx.add(e[t])}var E2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),S0={},N0={};function w2(t){return Vf.call(N0,t)?!0:Vf.call(S0,t)?!1:E2.test(t)?N0[t]=!0:(S0[t]=!0,!1)}function zc(t,e,n){if(w2(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var s=e.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function xc(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function is(t,e,n,s){if(s===null)t.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+s)}}function mn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wx(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T2(t,e,n){var s=Object.getOwnPropertyDescriptor(t.constructor.prototype,e);if(!t.hasOwnProperty(e)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var i=s.get,r=s.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:s.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lf(t){if(!t._valueTracker){var e=wx(t)?"checked":"value";t._valueTracker=T2(t,e,""+t[e])}}function Tx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=wx(t)?t.checked?"true":"false":t.value),t=s,t!==n?(e.setValue(t),!0):!1}function _u(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var A2=/[\n"\\]/g;function yn(t){return t.replace(A2,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function Pf(t,e,n,s,i,r,a,l){t.name="",a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"?t.type=a:t.removeAttribute("type"),e!=null?a==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+mn(e)):t.value!==""+mn(e)&&(t.value=""+mn(e)):a!=="submit"&&a!=="reset"||t.removeAttribute("value"),e!=null?zf(t,a,mn(e)):n!=null?zf(t,a,mn(n)):s!=null&&t.removeAttribute("value"),i==null&&r!=null&&(t.defaultChecked=!!r),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+mn(l):t.removeAttribute("name")}function Ax(t,e,n,s,i,r,a,l){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(t.type=r),e!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||e!=null)){Lf(t);return}n=n!=null?""+mn(n):"",e=e!=null?""+mn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}s=s??i,s=typeof s!="function"&&typeof s!="symbol"&&!!s,t.checked=l?t.checked:!!s,t.defaultChecked=!!s,a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.name=a),Lf(t)}function zf(t,e,n){e==="number"&&_u(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function la(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+mn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,s&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Sx(t,e,n){if(e!=null&&(e=""+mn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+mn(n):""}function Nx(t,e,n,s){if(e==null){if(s!=null){if(n!=null)throw Error(H(92));if(Al(s)){if(1<s.length)throw Error(H(93));s=s[0]}n=s}n==null&&(n=""),e=n}n=mn(e),t.defaultValue=n,s=t.textContent,s===n&&s!==""&&s!==null&&(t.value=s),Lf(t)}function va(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var S2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function C0(t,e,n){var s=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":s?t.setProperty(e,n):typeof n!="number"||n===0||S2.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function Cx(t,e,n){if(e!=null&&typeof e!="object")throw Error(H(62));if(t=t.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||e!=null&&e.hasOwnProperty(s)||(s.indexOf("--")===0?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="");for(var i in e)s=e[i],e.hasOwnProperty(i)&&n[i]!==s&&C0(t,i,s)}else for(var r in e)e.hasOwnProperty(r)&&C0(t,r,e[r])}function pp(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var N2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),C2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Bc(t){return C2.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function fs(){}var Bf=null;function gp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xr=null,oa=null;function R0(t){var e=Pa(t);if(e&&(t=e.stateNode)){var n=t[Wt]||null;e:switch(t=e.stateNode,e.type){case"input":if(Pf(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+yn(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=s[Wt]||null;if(!i)throw Error(H(90));Pf(s,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)s=n[e],s.form===t.form&&Tx(s)}break e;case"textarea":Sx(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&la(t,!!n.multiple,e,!1)}}}var Dh=!1;function Rx(t,e,n){if(Dh)return t(e,n);Dh=!0;try{var s=t(e);return s}finally{if(Dh=!1,(Xr!==null||oa!==null)&&(Nd(),Xr&&(e=Xr,t=oa,oa=Xr=null,R0(e),t)))for(e=0;e<t.length;e++)R0(t[e])}}function ro(t,e){var n=t.stateNode;if(n===null)return null;var s=n[Wt]||null;if(s===null)return null;n=s[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(t=t.type,s=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!s;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var xs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qf=!1;if(xs)try{var yl={};Object.defineProperty(yl,"passive",{get:function(){qf=!0}}),window.addEventListener("test",yl,yl),window.removeEventListener("test",yl,yl)}catch{qf=!1}var ni=null,yp=null,qc=null;function Ix(){if(qc)return qc;var t,e=yp,n=e.length,s,i="value"in ni?ni.value:ni.textContent,r=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(s=1;s<=a&&e[n-s]===i[r-s];s++);return qc=i.slice(t,1<s?1-s:void 0)}function Hc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ec(){return!0}function I0(){return!1}function Jt(t){function e(n,s,i,r,a){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ec:I0,this.isPropagationStopped=I0,this}return Ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ec)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ec)},persist:function(){},isPersistent:Ec}),e}var Ar={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gd=Jt(Ar),Uo=Ke({},Ar,{view:0,detail:0}),R2=Jt(Uo),Oh,Mh,_l,yd=Ke({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_p,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_l&&(_l&&t.type==="mousemove"?(Oh=t.screenX-_l.screenX,Mh=t.screenY-_l.screenY):Mh=Oh=0,_l=t),Oh)},movementY:function(t){return"movementY"in t?t.movementY:Mh}}),j0=Jt(yd),I2=Ke({},yd,{dataTransfer:0}),j2=Jt(I2),k2=Ke({},Uo,{relatedTarget:0}),Vh=Jt(k2),D2=Ke({},Ar,{animationName:0,elapsedTime:0,pseudoElement:0}),O2=Jt(D2),M2=Ke({},Ar,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),V2=Jt(M2),U2=Ke({},Ar,{data:0}),k0=Jt(U2),L2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},P2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=z2[t])?!!e[t]:!1}function _p(){return B2}var q2=Ke({},Uo,{key:function(t){if(t.key){var e=L2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?P2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_p,charCode:function(t){return t.type==="keypress"?Hc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),H2=Jt(q2),F2=Ke({},yd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),D0=Jt(F2),G2=Ke({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_p}),K2=Jt(G2),Q2=Ke({},Ar,{propertyName:0,elapsedTime:0,pseudoElement:0}),$2=Jt(Q2),Y2=Ke({},yd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X2=Jt(Y2),W2=Ke({},Ar,{newState:0,oldState:0}),J2=Jt(W2),Z2=[9,13,27,32],vp=xs&&"CompositionEvent"in window,Vl=null;xs&&"documentMode"in document&&(Vl=document.documentMode);var eN=xs&&"TextEvent"in window&&!Vl,jx=xs&&(!vp||Vl&&8<Vl&&11>=Vl),O0=" ",M0=!1;function kx(t,e){switch(t){case"keyup":return Z2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Wr=!1;function tN(t,e){switch(t){case"compositionend":return Dx(e);case"keypress":return e.which!==32?null:(M0=!0,O0);case"textInput":return t=e.data,t===O0&&M0?null:t;default:return null}}function nN(t,e){if(Wr)return t==="compositionend"||!vp&&kx(t,e)?(t=Ix(),qc=yp=ni=null,Wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jx&&e.locale!=="ko"?null:e.data;default:return null}}var sN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function V0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sN[t.type]:e==="textarea"}function Ox(t,e,n,s){Xr?oa?oa.push(s):oa=[s]:Xr=s,e=Vu(e,"onChange"),0<e.length&&(n=new gd("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var Ul=null,ao=null;function iN(t){Rw(t,0)}function _d(t){var e=Sl(t);if(Tx(e))return t}function U0(t,e){if(t==="change")return e}var Mx=!1;if(xs){var Uh;if(xs){var Lh="oninput"in document;if(!Lh){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),Lh=typeof L0.oninput=="function"}Uh=Lh}else Uh=!1;Mx=Uh&&(!document.documentMode||9<document.documentMode)}function P0(){Ul&&(Ul.detachEvent("onpropertychange",Vx),ao=Ul=null)}function Vx(t){if(t.propertyName==="value"&&_d(ao)){var e=[];Ox(e,ao,t,gp(t)),Rx(iN,e)}}function rN(t,e,n){t==="focusin"?(P0(),Ul=e,ao=n,Ul.attachEvent("onpropertychange",Vx)):t==="focusout"&&P0()}function aN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _d(ao)}function lN(t,e){if(t==="click")return _d(e)}function oN(t,e){if(t==="input"||t==="change")return _d(e)}function cN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:cN;function lo(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Vf.call(e,i)||!dn(t[i],e[i]))return!1}return!0}function z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function B0(t,e){var n=z0(t);t=0;for(var s;n;){if(n.nodeType===3){if(s=t+n.textContent.length,t<=e&&s>=e)return{node:n,offset:e-t};t=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z0(n)}}function Ux(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ux(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lx(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=_u(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=_u(t.document)}return e}function bp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var uN=xs&&"documentMode"in document&&11>=document.documentMode,Jr=null,Hf=null,Ll=null,Ff=!1;function q0(t,e,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ff||Jr==null||Jr!==_u(s)||(s=Jr,"selectionStart"in s&&bp(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ll&&lo(Ll,s)||(Ll=s,s=Vu(Hf,"onSelect"),0<s.length&&(e=new gd("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=Jr)))}function Xi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Zr={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionrun:Xi("Transition","TransitionRun"),transitionstart:Xi("Transition","TransitionStart"),transitioncancel:Xi("Transition","TransitionCancel"),transitionend:Xi("Transition","TransitionEnd")},Ph={},Px={};xs&&(Px=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Sr(t){if(Ph[t])return Ph[t];if(!Zr[t])return t;var e=Zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Px)return Ph[t]=e[n];return t}var zx=Sr("animationend"),Bx=Sr("animationiteration"),qx=Sr("animationstart"),dN=Sr("transitionrun"),hN=Sr("transitionstart"),fN=Sr("transitioncancel"),Hx=Sr("transitionend"),Fx=new Map,Gf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gf.push("scrollEnd");function Dn(t,e){Fx.set(t,e),Tr(e,[t])}var vu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},fn=[],ea=0,xp=0;function vd(){for(var t=ea,e=xp=ea=0;e<t;){var n=fn[e];fn[e++]=null;var s=fn[e];fn[e++]=null;var i=fn[e];fn[e++]=null;var r=fn[e];if(fn[e++]=null,s!==null&&i!==null){var a=s.pending;a===null?i.next=i:(i.next=a.next,a.next=i),s.pending=i}r!==0&&Gx(n,i,r)}}function bd(t,e,n,s){fn[ea++]=t,fn[ea++]=e,fn[ea++]=n,fn[ea++]=s,xp|=s,t.lanes|=s,t=t.alternate,t!==null&&(t.lanes|=s)}function Ep(t,e,n,s){return bd(t,e,n,s),bu(t)}function Nr(t,e){return bd(t,null,null,e),bu(t)}function Gx(t,e,n){t.lanes|=n;var s=t.alternate;s!==null&&(s.lanes|=n);for(var i=!1,r=t.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),r.tag===22&&(t=r.stateNode,t===null||t._visibility&1||(i=!0)),t=r,r=r.return;return t.tag===3?(r=t.stateNode,i&&e!==null&&(i=31-cn(n),t=r.hiddenUpdates,s=t[i],s===null?t[i]=[e]:s.push(e),e.lane=n|536870912),r):null}function bu(t){if(50<Ql)throw Ql=0,hm=null,Error(H(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var ta={};function mN(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,e,n,s){return new mN(t,e,n,s)}function wp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ys(t,e){var n=t.alternate;return n===null?(n=nn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function Kx(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Fc(t,e,n,s,i,r){var a=0;if(s=t,typeof t=="function")wp(t)&&(a=1);else if(typeof t=="string")a=vC(t,n,qn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case kf:return t=nn(31,n,e,i),t.elementType=kf,t.lanes=r,t;case Qr:return ir(n.children,i,r,e);case dx:a=8,i|=24;break;case Rf:return t=nn(12,n,e,i|2),t.elementType=Rf,t.lanes=r,t;case If:return t=nn(13,n,e,i),t.elementType=If,t.lanes=r,t;case jf:return t=nn(19,n,e,i),t.elementType=jf,t.lanes=r,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hs:a=10;break e;case hx:a=9;break e;case cp:a=11;break e;case up:a=14;break e;case Fs:a=16,s=null;break e}a=29,n=Error(H(130,t===null?"null":typeof t,"")),s=null}return e=nn(a,n,e,i),e.elementType=t,e.type=s,e.lanes=r,e}function ir(t,e,n,s){return t=nn(7,t,s,e),t.lanes=n,t}function zh(t,e,n){return t=nn(6,t,null,e),t.lanes=n,t}function Qx(t){var e=nn(18,null,null,0);return e.stateNode=t,e}function Bh(t,e,n){return e=nn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var H0=new WeakMap;function _n(t,e){if(typeof t=="object"&&t!==null){var n=H0.get(t);return n!==void 0?n:(e={value:t,source:e,stack:w0(e)},H0.set(t,e),e)}return{value:t,source:e,stack:w0(e)}}var na=[],sa=0,xu=null,oo=0,pn=[],gn=0,wi=null,Ln=1,Pn="";function us(t,e){na[sa++]=oo,na[sa++]=xu,xu=t,oo=e}function $x(t,e,n){pn[gn++]=Ln,pn[gn++]=Pn,pn[gn++]=wi,wi=t;var s=Ln;t=Pn;var i=32-cn(s)-1;s&=~(1<<i),n+=1;var r=32-cn(e)+i;if(30<r){var a=i-i%5;r=(s&(1<<a)-1).toString(32),s>>=a,i-=a,Ln=1<<32-cn(e)+i|n<<i|s,Pn=r+t}else Ln=1<<r|n<<i|s,Pn=t}function Tp(t){t.return!==null&&(us(t,1),$x(t,1,0))}function Ap(t){for(;t===xu;)xu=na[--sa],na[sa]=null,oo=na[--sa],na[sa]=null;for(;t===wi;)wi=pn[--gn],pn[gn]=null,Pn=pn[--gn],pn[gn]=null,Ln=pn[--gn],pn[gn]=null}function Yx(t,e){pn[gn++]=Ln,pn[gn++]=Pn,pn[gn++]=wi,Ln=e.id,Pn=e.overflow,wi=t}var Nt=null,He=null,Te=!1,ci=null,vn=!1,Kf=Error(H(519));function Ti(t){var e=Error(H(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw co(_n(e,t)),Kf}function F0(t){var e=t.stateNode,n=t.type,s=t.memoizedProps;switch(e[St]=t,e[Wt]=s,n){case"dialog":ye("cancel",e),ye("close",e);break;case"iframe":case"object":case"embed":ye("load",e);break;case"video":case"audio":for(n=0;n<mo.length;n++)ye(mo[n],e);break;case"source":ye("error",e);break;case"img":case"image":case"link":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"input":ye("invalid",e),Ax(e,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ye("invalid",e);break;case"textarea":ye("invalid",e),Nx(e,s.value,s.defaultValue,s.children)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||s.suppressHydrationWarning===!0||jw(e.textContent,n)?(s.popover!=null&&(ye("beforetoggle",e),ye("toggle",e)),s.onScroll!=null&&ye("scroll",e),s.onScrollEnd!=null&&ye("scrollend",e),s.onClick!=null&&(e.onclick=fs),e=!0):e=!1,e||Ti(t,!0)}function G0(t){for(Nt=t.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:vn=!1;return;case 27:case 3:vn=!0;return;default:Nt=Nt.return}}function Lr(t){if(t!==Nt)return!1;if(!Te)return G0(t),Te=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||ym(t.type,t.memoizedProps)),n=!n),n&&He&&Ti(t),G0(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));He=j_(t)}else if(e===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));He=j_(t)}else e===27?(e=He,Ui(t.type)?(t=xm,xm=null,He=t):He=e):He=Nt?wn(t.stateNode.nextSibling):null;return!0}function fr(){He=Nt=null,Te=!1}function qh(){var t=ci;return t!==null&&(Qt===null?Qt=t:Qt.push.apply(Qt,t),ci=null),t}function co(t){ci===null?ci=[t]:ci.push(t)}var Qf=Jn(null),Cr=null,ms=null;function Ks(t,e,n){Pe(Qf,e._currentValue),e._currentValue=n}function _s(t){t._currentValue=Qf.current,xt(Qf)}function $f(t,e,n){for(;t!==null;){var s=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,s!==null&&(s.childLanes|=e)):s!==null&&(s.childLanes&e)!==e&&(s.childLanes|=e),t===n)break;t=t.return}}function Yf(t,e,n,s){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var r=i.dependencies;if(r!==null){var a=i.child;r=r.firstContext;e:for(;r!==null;){var l=r;r=i;for(var c=0;c<e.length;c++)if(l.context===e[c]){r.lanes|=n,l=r.alternate,l!==null&&(l.lanes|=n),$f(r.return,n,t),s||(a=null);break e}r=l.next}}else if(i.tag===18){if(a=i.return,a===null)throw Error(H(341));a.lanes|=n,r=a.alternate,r!==null&&(r.lanes|=n),$f(a,n,t),a=null}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}}function za(t,e,n,s){t=null;for(var i=e,r=!1;i!==null;){if(!r){if(i.flags&524288)r=!0;else if(i.flags&262144)break}if(i.tag===10){var a=i.alternate;if(a===null)throw Error(H(387));if(a=a.memoizedProps,a!==null){var l=i.type;dn(i.pendingProps.value,a.value)||(t!==null?t.push(l):t=[l])}}else if(i===mu.current){if(a=i.alternate,a===null)throw Error(H(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(go):t=[go])}i=i.return}t!==null&&Yf(e,t,n,s),e.flags|=262144}function Eu(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function mr(t){Cr=t,ms=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Rt(t){return Xx(Cr,t)}function wc(t,e){return Cr===null&&mr(t),Xx(t,e)}function Xx(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},ms===null){if(t===null)throw Error(H(308));ms=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else ms=ms.next=e;return n}var pN=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,s){t.push(s)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},gN=gt.unstable_scheduleCallback,yN=gt.unstable_NormalPriority,ct={$$typeof:hs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sp(){return{controller:new pN,data:new Map,refCount:0}}function Lo(t){t.refCount--,t.refCount===0&&gN(yN,function(){t.controller.abort()})}var Pl=null,Xf=0,ba=0,ca=null;function _N(t,e){if(Pl===null){var n=Pl=[];Xf=0,ba=Wp(),ca={status:"pending",value:void 0,then:function(s){n.push(s)}}}return Xf++,e.then(K0,K0),e}function K0(){if(--Xf===0&&Pl!==null){ca!==null&&(ca.status="fulfilled");var t=Pl;Pl=null,ba=0,ca=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function vN(t,e){var n=[],s={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){s.status="fulfilled",s.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(s.status="rejected",s.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),s}var Q0=re.S;re.S=function(t,e){uw=ln(),typeof e=="object"&&e!==null&&typeof e.then=="function"&&_N(t,e),Q0!==null&&Q0(t,e)};var rr=Jn(null);function Np(){var t=rr.current;return t!==null?t:Ve.pooledCache}function Gc(t,e){e===null?Pe(rr,rr.current):Pe(rr,e.pool)}function Wx(){var t=Np();return t===null?null:{parent:ct._currentValue,pool:t}}var Ba=Error(H(460)),Cp=Error(H(474)),xd=Error(H(542)),wu={then:function(){}};function $0(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Jx(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(fs,fs),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,X0(t),t;default:if(typeof e.status=="string")e.then(fs,fs);else{if(t=Ve,t!==null&&100<t.shellSuspendCounter)throw Error(H(482));t=e,t.status="pending",t.then(function(s){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=s}},function(s){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=s}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,X0(t),t}throw ar=e,Ba}}function Zi(t){try{var e=t._init;return e(t._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(ar=n,Ba):n}}var ar=null;function Y0(){if(ar===null)throw Error(H(459));var t=ar;return ar=null,t}function X0(t){if(t===Ba||t===xd)throw Error(H(483))}var ua=null,uo=0;function Tc(t){var e=uo;return uo+=1,ua===null&&(ua=[]),Jx(ua,t,e)}function vl(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Ac(t,e){throw e.$$typeof===r2?Error(H(525)):(t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function Zx(t){function e(T,b){if(t){var x=T.deletions;x===null?(T.deletions=[b],T.flags|=16):x.push(b)}}function n(T,b){if(!t)return null;for(;b!==null;)e(T,b),b=b.sibling;return null}function s(T){for(var b=new Map;T!==null;)T.key!==null?b.set(T.key,T):b.set(T.index,T),T=T.sibling;return b}function i(T,b){return T=ys(T,b),T.index=0,T.sibling=null,T}function r(T,b,x){return T.index=x,t?(x=T.alternate,x!==null?(x=x.index,x<b?(T.flags|=67108866,b):x):(T.flags|=67108866,b)):(T.flags|=1048576,b)}function a(T){return t&&T.alternate===null&&(T.flags|=67108866),T}function l(T,b,x,k){return b===null||b.tag!==6?(b=zh(x,T.mode,k),b.return=T,b):(b=i(b,x),b.return=T,b)}function c(T,b,x,k){var U=x.type;return U===Qr?h(T,b,x.props.children,k,x.key):b!==null&&(b.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Fs&&Zi(U)===b.type)?(b=i(b,x.props),vl(b,x),b.return=T,b):(b=Fc(x.type,x.key,x.props,null,T.mode,k),vl(b,x),b.return=T,b)}function d(T,b,x,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=Bh(x,T.mode,k),b.return=T,b):(b=i(b,x.children||[]),b.return=T,b)}function h(T,b,x,k,U){return b===null||b.tag!==7?(b=ir(x,T.mode,k,U),b.return=T,b):(b=i(b,x),b.return=T,b)}function m(T,b,x){if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return b=zh(""+b,T.mode,x),b.return=T,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case yc:return x=Fc(b.type,b.key,b.props,null,T.mode,x),vl(x,b),x.return=T,x;case Tl:return b=Bh(b,T.mode,x),b.return=T,b;case Fs:return b=Zi(b),m(T,b,x)}if(Al(b)||gl(b))return b=ir(b,T.mode,x,null),b.return=T,b;if(typeof b.then=="function")return m(T,Tc(b),x);if(b.$$typeof===hs)return m(T,wc(T,b),x);Ac(T,b)}return null}function p(T,b,x,k){var U=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return U!==null?null:l(T,b,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case yc:return x.key===U?c(T,b,x,k):null;case Tl:return x.key===U?d(T,b,x,k):null;case Fs:return x=Zi(x),p(T,b,x,k)}if(Al(x)||gl(x))return U!==null?null:h(T,b,x,k,null);if(typeof x.then=="function")return p(T,b,Tc(x),k);if(x.$$typeof===hs)return p(T,b,wc(T,x),k);Ac(T,x)}return null}function y(T,b,x,k,U){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return T=T.get(x)||null,l(b,T,""+k,U);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case yc:return T=T.get(k.key===null?x:k.key)||null,c(b,T,k,U);case Tl:return T=T.get(k.key===null?x:k.key)||null,d(b,T,k,U);case Fs:return k=Zi(k),y(T,b,x,k,U)}if(Al(k)||gl(k))return T=T.get(x)||null,h(b,T,k,U,null);if(typeof k.then=="function")return y(T,b,x,Tc(k),U);if(k.$$typeof===hs)return y(T,b,x,wc(b,k),U);Ac(b,k)}return null}function C(T,b,x,k){for(var U=null,z=null,w=b,_=b=0,v=null;w!==null&&_<x.length;_++){w.index>_?(v=w,w=null):v=w.sibling;var S=p(T,w,x[_],k);if(S===null){w===null&&(w=v);break}t&&w&&S.alternate===null&&e(T,w),b=r(S,b,_),z===null?U=S:z.sibling=S,z=S,w=v}if(_===x.length)return n(T,w),Te&&us(T,_),U;if(w===null){for(;_<x.length;_++)w=m(T,x[_],k),w!==null&&(b=r(w,b,_),z===null?U=w:z.sibling=w,z=w);return Te&&us(T,_),U}for(w=s(w);_<x.length;_++)v=y(w,T,_,x[_],k),v!==null&&(t&&v.alternate!==null&&w.delete(v.key===null?_:v.key),b=r(v,b,_),z===null?U=v:z.sibling=v,z=v);return t&&w.forEach(function(R){return e(T,R)}),Te&&us(T,_),U}function j(T,b,x,k){if(x==null)throw Error(H(151));for(var U=null,z=null,w=b,_=b=0,v=null,S=x.next();w!==null&&!S.done;_++,S=x.next()){w.index>_?(v=w,w=null):v=w.sibling;var R=p(T,w,S.value,k);if(R===null){w===null&&(w=v);break}t&&w&&R.alternate===null&&e(T,w),b=r(R,b,_),z===null?U=R:z.sibling=R,z=R,w=v}if(S.done)return n(T,w),Te&&us(T,_),U;if(w===null){for(;!S.done;_++,S=x.next())S=m(T,S.value,k),S!==null&&(b=r(S,b,_),z===null?U=S:z.sibling=S,z=S);return Te&&us(T,_),U}for(w=s(w);!S.done;_++,S=x.next())S=y(w,T,_,S.value,k),S!==null&&(t&&S.alternate!==null&&w.delete(S.key===null?_:S.key),b=r(S,b,_),z===null?U=S:z.sibling=S,z=S);return t&&w.forEach(function(I){return e(T,I)}),Te&&us(T,_),U}function D(T,b,x,k){if(typeof x=="object"&&x!==null&&x.type===Qr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case yc:e:{for(var U=x.key;b!==null;){if(b.key===U){if(U=x.type,U===Qr){if(b.tag===7){n(T,b.sibling),k=i(b,x.props.children),k.return=T,T=k;break e}}else if(b.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===Fs&&Zi(U)===b.type){n(T,b.sibling),k=i(b,x.props),vl(k,x),k.return=T,T=k;break e}n(T,b);break}else e(T,b);b=b.sibling}x.type===Qr?(k=ir(x.props.children,T.mode,k,x.key),k.return=T,T=k):(k=Fc(x.type,x.key,x.props,null,T.mode,k),vl(k,x),k.return=T,T=k)}return a(T);case Tl:e:{for(U=x.key;b!==null;){if(b.key===U)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){n(T,b.sibling),k=i(b,x.children||[]),k.return=T,T=k;break e}else{n(T,b);break}else e(T,b);b=b.sibling}k=Bh(x,T.mode,k),k.return=T,T=k}return a(T);case Fs:return x=Zi(x),D(T,b,x,k)}if(Al(x))return C(T,b,x,k);if(gl(x)){if(U=gl(x),typeof U!="function")throw Error(H(150));return x=U.call(x),j(T,b,x,k)}if(typeof x.then=="function")return D(T,b,Tc(x),k);if(x.$$typeof===hs)return D(T,b,wc(T,x),k);Ac(T,x)}return typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint"?(x=""+x,b!==null&&b.tag===6?(n(T,b.sibling),k=i(b,x),k.return=T,T=k):(n(T,b),k=zh(x,T.mode,k),k.return=T,T=k),a(T)):n(T,b)}return function(T,b,x,k){try{uo=0;var U=D(T,b,x,k);return ua=null,U}catch(w){if(w===Ba||w===xd)throw w;var z=nn(29,w,null,T.mode);return z.lanes=k,z.return=T,z}finally{}}}var pr=Zx(!0),eE=Zx(!1),Gs=!1;function Rp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ui(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function di(t,e,n){var s=t.updateQueue;if(s===null)return null;if(s=s.shared,Ne&2){var i=s.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),s.pending=e,e=bu(t),Gx(t,null,n),e}return bd(t,s,e,n),bu(t)}function zl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,_x(t,n)}}function Hh(t,e){var n=t.updateQueue,s=t.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?i=r=a:r=r.next=a,n=n.next}while(n!==null);r===null?i=r=e:r=r.next=e}else i=r=e;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var Jf=!1;function Bl(){if(Jf){var t=ca;if(t!==null)throw t}}function ql(t,e,n,s){Jf=!1;var i=t.updateQueue;Gs=!1;var r=i.firstBaseUpdate,a=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?r=d:a.next=d,a=c;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==a&&(l===null?h.firstBaseUpdate=d:l.next=d,h.lastBaseUpdate=c))}if(r!==null){var m=i.baseState;a=0,h=d=c=null,l=r;do{var p=l.lane&-536870913,y=p!==l.lane;if(y?(we&p)===p:(s&p)===p){p!==0&&p===ba&&(Jf=!0),h!==null&&(h=h.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var C=t,j=l;p=e;var D=n;switch(j.tag){case 1:if(C=j.payload,typeof C=="function"){m=C.call(D,m,p);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=j.payload,p=typeof C=="function"?C.call(D,m,p):C,p==null)break e;m=Ke({},m,p);break e;case 2:Gs=!0}}p=l.callback,p!==null&&(t.flags|=64,y&&(t.flags|=8192),y=i.callbacks,y===null?i.callbacks=[p]:y.push(p))}else y={lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(d=h=y,c=m):h=h.next=y,a|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;y=l,l=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);h===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=h,r===null&&(i.shared.lanes=0),Si|=a,t.lanes=a,t.memoizedState=m}}function tE(t,e){if(typeof t!="function")throw Error(H(191,t));t.call(e)}function nE(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)tE(n[t],e)}var xa=Jn(null),Tu=Jn(0);function W0(t,e){t=As,Pe(Tu,t),Pe(xa,e),As=t|e.baseLanes}function Zf(){Pe(Tu,As),Pe(xa,xa.current)}function Ip(){As=Tu.current,xt(xa),xt(Tu)}var hn=Jn(null),En=null;function Qs(t){var e=t.alternate;Pe(st,st.current&1),Pe(hn,t),En===null&&(e===null||xa.current!==null||e.memoizedState!==null)&&(En=t)}function em(t){Pe(st,st.current),Pe(hn,t),En===null&&(En=t)}function sE(t){t.tag===22?(Pe(st,st.current),Pe(hn,t),En===null&&(En=t)):$s()}function $s(){Pe(st,st.current),Pe(hn,hn.current)}function tn(t){xt(hn),En===t&&(En=null),xt(st)}var st=Jn(0);function Au(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||vm(n)||bm(n)))return e}else if(e.tag===19&&(e.memoizedProps.revealOrder==="forwards"||e.memoizedProps.revealOrder==="backwards"||e.memoizedProps.revealOrder==="unstable_legacy-backwards"||e.memoizedProps.revealOrder==="together")){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Es=0,de=null,Oe=null,lt=null,Su=!1,da=!1,gr=!1,Nu=0,ho=0,ha=null,bN=0;function Je(){throw Error(H(321))}function jp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function kp(t,e,n,s,i,r){return Es=r,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,re.H=t===null||t.memoizedState===null?OE:Hp,gr=!1,r=n(s,i),gr=!1,da&&(r=rE(e,n,s,i)),iE(t),r}function iE(t){re.H=fo;var e=Oe!==null&&Oe.next!==null;if(Es=0,lt=Oe=de=null,Su=!1,ho=0,ha=null,e)throw Error(H(300));t===null||dt||(t=t.dependencies,t!==null&&Eu(t)&&(dt=!0))}function rE(t,e,n,s){de=t;var i=0;do{if(da&&(ha=null),ho=0,da=!1,25<=i)throw Error(H(301));if(i+=1,lt=Oe=null,t.updateQueue!=null){var r=t.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}re.H=ME,r=e(n,s)}while(da);return r}function xN(){var t=re.H,e=t.useState()[0];return e=typeof e.then=="function"?Po(e):e,t=t.useState()[0],(Oe!==null?Oe.memoizedState:null)!==t&&(de.flags|=1024),e}function Dp(){var t=Nu!==0;return Nu=0,t}function Op(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function Mp(t){if(Su){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Su=!1}Es=0,lt=Oe=de=null,da=!1,ho=Nu=0,ha=null}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?de.memoizedState=lt=t:lt=lt.next=t,lt}function rt(){if(Oe===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=Oe.next;var e=lt===null?de.memoizedState:lt.next;if(e!==null)lt=e,Oe=t;else{if(t===null)throw de.alternate===null?Error(H(467)):Error(H(310));Oe=t,t={memoizedState:Oe.memoizedState,baseState:Oe.baseState,baseQueue:Oe.baseQueue,queue:Oe.queue,next:null},lt===null?de.memoizedState=lt=t:lt=lt.next=t}return lt}function Ed(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Po(t){var e=ho;return ho+=1,ha===null&&(ha=[]),t=Jx(ha,t,e),e=de,(lt===null?e.memoizedState:lt.next)===null&&(e=e.alternate,re.H=e===null||e.memoizedState===null?OE:Hp),t}function wd(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Po(t);if(t.$$typeof===hs)return Rt(t)}throw Error(H(438,String(t)))}function Vp(t){var e=null,n=de.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var s=de.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(e={data:s.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=Ed(),de.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),s=0;s<t;s++)n[s]=a2;return e.index++,n}function ws(t,e){return typeof e=="function"?e(t):e}function Kc(t){var e=rt();return Up(e,Oe,t)}function Up(t,e,n){var s=t.queue;if(s===null)throw Error(H(311));s.lastRenderedReducer=n;var i=t.baseQueue,r=s.pending;if(r!==null){if(i!==null){var a=i.next;i.next=r.next,r.next=a}e.baseQueue=i=r,s.pending=null}if(r=t.baseState,i===null)t.memoizedState=r;else{e=i.next;var l=a=null,c=null,d=e,h=!1;do{var m=d.lane&-536870913;if(m!==d.lane?(we&m)===m:(Es&m)===m){var p=d.revertLane;if(p===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),m===ba&&(h=!0);else if((Es&p)===p){d=d.next,p===ba&&(h=!0);continue}else m={lane:0,revertLane:d.revertLane,gesture:null,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(l=c=m,a=r):c=c.next=m,de.lanes|=p,Si|=p;m=d.action,gr&&n(r,m),r=d.hasEagerState?d.eagerState:n(r,m)}else p={lane:m,revertLane:d.revertLane,gesture:d.gesture,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null},c===null?(l=c=p,a=r):c=c.next=p,de.lanes|=m,Si|=m;d=d.next}while(d!==null&&d!==e);if(c===null?a=r:c.next=l,!dn(r,t.memoizedState)&&(dt=!0,h&&(n=ca,n!==null)))throw n;t.memoizedState=r,t.baseState=a,t.baseQueue=c,s.lastRenderedState=r}return i===null&&(s.lanes=0),[t.memoizedState,s.dispatch]}function Fh(t){var e=rt(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do r=t(r,a.action),a=a.next;while(a!==i);dn(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function aE(t,e,n){var s=de,i=rt(),r=Te;if(r){if(n===void 0)throw Error(H(407));n=n()}else n=e();var a=!dn((Oe||i).memoizedState,n);if(a&&(i.memoizedState=n,dt=!0),i=i.queue,Lp(cE.bind(null,s,i,t),[t]),i.getSnapshot!==e||a||lt!==null&&lt.memoizedState.tag&1){if(s.flags|=2048,Ea(9,{destroy:void 0},oE.bind(null,s,i,n,e),null),Ve===null)throw Error(H(349));r||Es&127||lE(s,e,n)}return n}function lE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e=Ed(),de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oE(t,e,n,s){e.value=n,e.getSnapshot=s,uE(e)&&dE(t)}function cE(t,e,n){return n(function(){uE(e)&&dE(t)})}function uE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function dE(t){var e=Nr(t,2);e!==null&&Xt(e,t,2)}function tm(t){var e=Bt();if(typeof t=="function"){var n=t;if(t=n(),gr){ti(!0);try{n()}finally{ti(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:t},e}function hE(t,e,n,s){return t.baseState=n,Up(t,Oe,typeof s=="function"?s:ws)}function EN(t,e,n,s,i){if(Ad(t))throw Error(H(485));if(t=e.action,t!==null){var r={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(a){r.listeners.push(a)}};re.T!==null?n(!0):r.isTransition=!1,s(r),n=e.pending,n===null?(r.next=e.pending=r,fE(e,r)):(r.next=n.next,e.pending=n.next=r)}}function fE(t,e){var n=e.action,s=e.payload,i=t.state;if(e.isTransition){var r=re.T,a={};re.T=a;try{var l=n(i,s),c=re.S;c!==null&&c(a,l),J0(t,e,l)}catch(d){nm(t,e,d)}finally{r!==null&&a.types!==null&&(r.types=a.types),re.T=r}}else try{r=n(i,s),J0(t,e,r)}catch(d){nm(t,e,d)}}function J0(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Z0(t,e,s)},function(s){return nm(t,e,s)}):Z0(t,e,n)}function Z0(t,e,n){e.status="fulfilled",e.value=n,mE(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,fE(t,n)))}function nm(t,e,n){var s=t.pending;if(t.pending=null,s!==null){s=s.next;do e.status="rejected",e.reason=n,mE(e),e=e.next;while(e!==s)}t.action=null}function mE(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function pE(t,e){return e}function e_(t,e){if(Te){var n=Ve.formState;if(n!==null){e:{var s=de;if(Te){if(He){t:{for(var i=He,r=vn;i.nodeType!==8;){if(!r){i=null;break t}if(i=wn(i.nextSibling),i===null){i=null;break t}}r=i.data,i=r==="F!"||r==="F"?i:null}if(i){He=wn(i.nextSibling),s=i.data==="F!";break e}}Ti(s)}s=!1}s&&(e=n[0])}}return n=Bt(),n.memoizedState=n.baseState=e,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pE,lastRenderedState:e},n.queue=s,n=jE.bind(null,de,s),s.dispatch=n,s=tm(!1),r=qp.bind(null,de,!1,s.queue),s=Bt(),i={state:e,dispatch:null,action:t,pending:null},s.queue=i,n=EN.bind(null,de,i,r,n),i.dispatch=n,s.memoizedState=t,[e,n,!1]}function t_(t){var e=rt();return gE(e,Oe,t)}function gE(t,e,n){if(e=Up(t,e,pE)[0],t=Kc(ws)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var s=Po(e)}catch(a){throw a===Ba?xd:a}else s=e;e=rt();var i=e.queue,r=i.dispatch;return n!==e.memoizedState&&(de.flags|=2048,Ea(9,{destroy:void 0},wN.bind(null,i,n),null)),[s,r,t]}function wN(t,e){t.action=e}function n_(t){var e=rt(),n=Oe;if(n!==null)return gE(e,n,t);rt(),e=e.memoizedState,n=rt();var s=n.queue.dispatch;return n.memoizedState=t,[e,s,!1]}function Ea(t,e,n,s){return t={tag:t,create:n,deps:s,inst:e,next:null},e=de.updateQueue,e===null&&(e=Ed(),de.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function yE(){return rt().memoizedState}function Qc(t,e,n,s){var i=Bt();de.flags|=t,i.memoizedState=Ea(1|e,{destroy:void 0},n,s===void 0?null:s)}function Td(t,e,n,s){var i=rt();s=s===void 0?null:s;var r=i.memoizedState.inst;Oe!==null&&s!==null&&jp(s,Oe.memoizedState.deps)?i.memoizedState=Ea(e,r,n,s):(de.flags|=t,i.memoizedState=Ea(1|e,r,n,s))}function s_(t,e){Qc(8390656,8,t,e)}function Lp(t,e){Td(2048,8,t,e)}function TN(t){de.flags|=4;var e=de.updateQueue;if(e===null)e=Ed(),de.updateQueue=e,e.events=[t];else{var n=e.events;n===null?e.events=[t]:n.push(t)}}function _E(t){var e=rt().memoizedState;return TN({ref:e,nextImpl:t}),function(){if(Ne&2)throw Error(H(440));return e.impl.apply(void 0,arguments)}}function vE(t,e){return Td(4,2,t,e)}function bE(t,e){return Td(4,4,t,e)}function xE(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function EE(t,e,n){n=n!=null?n.concat([t]):null,Td(4,4,xE.bind(null,e,t),n)}function Pp(){}function wE(t,e){var n=rt();e=e===void 0?null:e;var s=n.memoizedState;return e!==null&&jp(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function TE(t,e){var n=rt();e=e===void 0?null:e;var s=n.memoizedState;if(e!==null&&jp(e,s[1]))return s[0];if(s=t(),gr){ti(!0);try{t()}finally{ti(!1)}}return n.memoizedState=[s,e],s}function zp(t,e,n){return n===void 0||Es&1073741824&&!(we&261930)?t.memoizedState=e:(t.memoizedState=n,t=hw(),de.lanes|=t,Si|=t,n)}function AE(t,e,n,s){return dn(n,e)?n:xa.current!==null?(t=zp(t,n,s),dn(t,e)||(dt=!0),t):!(Es&42)||Es&1073741824&&!(we&261930)?(dt=!0,t.memoizedState=n):(t=hw(),de.lanes|=t,Si|=t,e)}function SE(t,e,n,s,i){var r=Ce.p;Ce.p=r!==0&&8>r?r:8;var a=re.T,l={};re.T=l,qp(t,!1,e,n);try{var c=i(),d=re.S;if(d!==null&&d(l,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=vN(c,s);Hl(t,e,h,un(t))}else Hl(t,e,s,un(t))}catch(m){Hl(t,e,{then:function(){},status:"rejected",reason:m},un())}finally{Ce.p=r,a!==null&&l.types!==null&&(a.types=l.types),re.T=a}}function AN(){}function sm(t,e,n,s){if(t.tag!==5)throw Error(H(476));var i=NE(t).queue;SE(t,i,e,sr,n===null?AN:function(){return CE(t),n(s)})}function NE(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:sr,baseState:sr,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:sr},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function CE(t){var e=NE(t);e.next===null&&(e=t.alternate.memoizedState),Hl(t,e.next.queue,{},un())}function Bp(){return Rt(go)}function RE(){return rt().memoizedState}function IE(){return rt().memoizedState}function SN(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=un();t=ui(n);var s=di(e,t,n);s!==null&&(Xt(s,e,n),zl(s,e,n)),e={cache:Sp()},t.payload=e;return}e=e.return}}function NN(t,e,n){var s=un();n={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ad(t)?kE(e,n):(n=Ep(t,e,n,s),n!==null&&(Xt(n,t,s),DE(n,e,s)))}function jE(t,e,n){var s=un();Hl(t,e,n,s)}function Hl(t,e,n,s){var i={lane:s,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ad(t))kE(e,i);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,l=r(a,n);if(i.hasEagerState=!0,i.eagerState=l,dn(l,a))return bd(t,e,i,0),Ve===null&&vd(),!1}catch{}finally{}if(n=Ep(t,e,i,s),n!==null)return Xt(n,t,s),DE(n,e,s),!0}return!1}function qp(t,e,n,s){if(s={lane:2,revertLane:Wp(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ad(t)){if(e)throw Error(H(479))}else e=Ep(t,n,s,2),e!==null&&Xt(e,t,2)}function Ad(t){var e=t.alternate;return t===de||e!==null&&e===de}function kE(t,e){da=Su=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function DE(t,e,n){if(n&4194048){var s=e.lanes;s&=t.pendingLanes,n|=s,e.lanes=n,_x(t,n)}}var fo={readContext:Rt,use:wd,useCallback:Je,useContext:Je,useEffect:Je,useImperativeHandle:Je,useLayoutEffect:Je,useInsertionEffect:Je,useMemo:Je,useReducer:Je,useRef:Je,useState:Je,useDebugValue:Je,useDeferredValue:Je,useTransition:Je,useSyncExternalStore:Je,useId:Je,useHostTransitionStatus:Je,useFormState:Je,useActionState:Je,useOptimistic:Je,useMemoCache:Je,useCacheRefresh:Je};fo.useEffectEvent=Je;var OE={readContext:Rt,use:wd,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:s_,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,Qc(4194308,4,xE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Qc(4194308,4,t,e)},useInsertionEffect:function(t,e){Qc(4,2,t,e)},useMemo:function(t,e){var n=Bt();e=e===void 0?null:e;var s=t();if(gr){ti(!0);try{t()}finally{ti(!1)}}return n.memoizedState=[s,e],s},useReducer:function(t,e,n){var s=Bt();if(n!==void 0){var i=n(e);if(gr){ti(!0);try{n(e)}finally{ti(!1)}}}else i=e;return s.memoizedState=s.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},s.queue=t,t=t.dispatch=NN.bind(null,de,t),[s.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:function(t){t=tm(t);var e=t.queue,n=jE.bind(null,de,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:Pp,useDeferredValue:function(t,e){var n=Bt();return zp(n,t,e)},useTransition:function(){var t=tm(!1);return t=SE.bind(null,de,t.queue,!0,!1),Bt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var s=de,i=Bt();if(Te){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),Ve===null)throw Error(H(349));we&127||lE(s,e,n)}i.memoizedState=n;var r={value:n,getSnapshot:e};return i.queue=r,s_(cE.bind(null,s,r,t),[t]),s.flags|=2048,Ea(9,{destroy:void 0},oE.bind(null,s,r,n,e),null),n},useId:function(){var t=Bt(),e=Ve.identifierPrefix;if(Te){var n=Pn,s=Ln;n=(s&~(1<<32-cn(s)-1)).toString(32)+n,e="_"+e+"R_"+n,n=Nu++,0<n&&(e+="H"+n.toString(32)),e+="_"}else n=bN++,e="_"+e+"r_"+n.toString(32)+"_";return t.memoizedState=e},useHostTransitionStatus:Bp,useFormState:e_,useActionState:e_,useOptimistic:function(t){var e=Bt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=qp.bind(null,de,!0,n),n.dispatch=e,[t,e]},useMemoCache:Vp,useCacheRefresh:function(){return Bt().memoizedState=SN.bind(null,de)},useEffectEvent:function(t){var e=Bt(),n={impl:t};return e.memoizedState=n,function(){if(Ne&2)throw Error(H(440));return n.impl.apply(void 0,arguments)}}},Hp={readContext:Rt,use:wd,useCallback:wE,useContext:Rt,useEffect:Lp,useImperativeHandle:EE,useInsertionEffect:vE,useLayoutEffect:bE,useMemo:TE,useReducer:Kc,useRef:yE,useState:function(){return Kc(ws)},useDebugValue:Pp,useDeferredValue:function(t,e){var n=rt();return AE(n,Oe.memoizedState,t,e)},useTransition:function(){var t=Kc(ws)[0],e=rt().memoizedState;return[typeof t=="boolean"?t:Po(t),e]},useSyncExternalStore:aE,useId:RE,useHostTransitionStatus:Bp,useFormState:t_,useActionState:t_,useOptimistic:function(t,e){var n=rt();return hE(n,Oe,t,e)},useMemoCache:Vp,useCacheRefresh:IE};Hp.useEffectEvent=_E;var ME={readContext:Rt,use:wd,useCallback:wE,useContext:Rt,useEffect:Lp,useImperativeHandle:EE,useInsertionEffect:vE,useLayoutEffect:bE,useMemo:TE,useReducer:Fh,useRef:yE,useState:function(){return Fh(ws)},useDebugValue:Pp,useDeferredValue:function(t,e){var n=rt();return Oe===null?zp(n,t,e):AE(n,Oe.memoizedState,t,e)},useTransition:function(){var t=Fh(ws)[0],e=rt().memoizedState;return[typeof t=="boolean"?t:Po(t),e]},useSyncExternalStore:aE,useId:RE,useHostTransitionStatus:Bp,useFormState:n_,useActionState:n_,useOptimistic:function(t,e){var n=rt();return Oe!==null?hE(n,Oe,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:Vp,useCacheRefresh:IE};ME.useEffectEvent=_E;function Gh(t,e,n,s){e=t.memoizedState,n=n(s,e),n=n==null?e:Ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var im={enqueueSetState:function(t,e,n){t=t._reactInternals;var s=un(),i=ui(s);i.payload=e,n!=null&&(i.callback=n),e=di(t,i,s),e!==null&&(Xt(e,t,s),zl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=un(),i=ui(s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=di(t,i,s),e!==null&&(Xt(e,t,s),zl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),s=ui(n);s.tag=2,e!=null&&(s.callback=e),e=di(t,s,n),e!==null&&(Xt(e,t,n),zl(e,t,n))}};function i_(t,e,n,s,i,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(s,r,a):e.prototype&&e.prototype.isPureReactComponent?!lo(n,s)||!lo(i,r):!0}function r_(t,e,n,s){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,s),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&im.enqueueReplaceState(e,e.state,null)}function yr(t,e){var n=e;if("ref"in e){n={};for(var s in e)s!=="ref"&&(n[s]=e[s])}if(t=t.defaultProps){n===e&&(n=Ke({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}function VE(t){vu(t)}function UE(t){console.error(t)}function LE(t){vu(t)}function Cu(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(s){setTimeout(function(){throw s})}}function a_(t,e,n){try{var s=t.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function rm(t,e,n){return n=ui(n),n.tag=3,n.payload={element:null},n.callback=function(){Cu(t,e)},n}function PE(t){return t=ui(t),t.tag=3,t}function zE(t,e,n,s){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=s.value;t.payload=function(){return i(r)},t.callback=function(){a_(e,n,s)}}var a=n.stateNode;a!==null&&typeof a.componentDidCatch=="function"&&(t.callback=function(){a_(e,n,s),typeof i!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var l=s.stack;this.componentDidCatch(s.value,{componentStack:l!==null?l:""})})}function CN(t,e,n,s,i){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(e=n.alternate,e!==null&&za(e,n,i,!0),n=hn.current,n!==null){switch(n.tag){case 31:case 13:return En===null?Du():n.alternate===null&&Ze===0&&(Ze=3),n.flags&=-257,n.flags|=65536,n.lanes=i,s===wu?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([s]):e.add(s),nf(t,s,i)),!1;case 22:return n.flags|=65536,s===wu?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([s]):n.add(s)),nf(t,s,i)),!1}throw Error(H(435,n.tag))}return nf(t,s,i),Du(),!1}if(Te)return e=hn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,s!==Kf&&(t=Error(H(422),{cause:s}),co(_n(t,n)))):(s!==Kf&&(e=Error(H(423),{cause:s}),co(_n(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,s=_n(s,n),i=rm(t.stateNode,s,i),Hh(t,i),Ze!==4&&(Ze=2)),!1;var r=Error(H(520),{cause:s});if(r=_n(r,n),Kl===null?Kl=[r]:Kl.push(r),Ze!==4&&(Ze=2),e===null)return!0;s=_n(s,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=rm(n.stateNode,s,t),Hh(n,t),!1;case 1:if(e=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(hi===null||!hi.has(r))))return n.flags|=65536,i&=-i,n.lanes|=i,i=PE(i),zE(i,t,n,s),Hh(n,i),!1}n=n.return}while(n!==null);return!1}var Fp=Error(H(461)),dt=!1;function Tt(t,e,n,s){e.child=t===null?eE(e,null,n,s):pr(e,t.child,n,s)}function l_(t,e,n,s,i){n=n.render;var r=e.ref;if("ref"in s){var a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}else a=s;return mr(e),s=kp(t,e,n,a,r,i),l=Dp(),t!==null&&!dt?(Op(t,e,i),Ts(t,e,i)):(Te&&l&&Tp(e),e.flags|=1,Tt(t,e,s,i),e.child)}function o_(t,e,n,s,i){if(t===null){var r=n.type;return typeof r=="function"&&!wp(r)&&r.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=r,BE(t,e,r,s,i)):(t=Fc(n.type,null,s,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!Gp(t,i)){var a=r.memoizedProps;if(n=n.compare,n=n!==null?n:lo,n(a,s)&&t.ref===e.ref)return Ts(t,e,i)}return e.flags|=1,t=ys(r,s),t.ref=e.ref,t.return=e,e.child=t}function BE(t,e,n,s,i){if(t!==null){var r=t.memoizedProps;if(lo(r,s)&&t.ref===e.ref)if(dt=!1,e.pendingProps=s=r,Gp(t,i))t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,Ts(t,e,i)}return am(t,e,n,s,i)}function qE(t,e,n,s){var i=s.children,r=t!==null?t.memoizedState:null;if(t===null&&e.stateNode===null&&(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if(e.flags&128){if(r=r!==null?r.baseLanes|n:n,t!==null){for(s=e.child=t.child,i=0;s!==null;)i=i|s.lanes|s.childLanes,s=s.sibling;s=i&~r}else s=0,e.child=null;return c_(t,e,r,n,s)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Gc(e,r!==null?r.cachePool:null),r!==null?W0(e,r):Zf(),sE(e);else return s=e.lanes=536870912,c_(t,e,r!==null?r.baseLanes|n:n,n,s)}else r!==null?(Gc(e,r.cachePool),W0(e,r),$s(),e.memoizedState=null):(t!==null&&Gc(e,null),Zf(),$s());return Tt(t,e,i,n),e.child}function Nl(t,e){return t!==null&&t.tag===22||e.stateNode!==null||(e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),e.sibling}function c_(t,e,n,s,i){var r=Np();return r=r===null?null:{parent:ct._currentValue,pool:r},e.memoizedState={baseLanes:n,cachePool:r},t!==null&&Gc(e,null),Zf(),sE(e),t!==null&&za(t,e,s,!0),e.childLanes=i,null}function $c(t,e){return e=Ru({mode:e.mode,children:e.children},t.mode),e.ref=t.ref,t.child=e,e.return=t,e}function u_(t,e,n){return pr(e,t.child,null,n),t=$c(e,e.pendingProps),t.flags|=2,tn(e),e.memoizedState=null,t}function RN(t,e,n){var s=e.pendingProps,i=(e.flags&128)!==0;if(e.flags&=-129,t===null){if(Te){if(s.mode==="hidden")return t=$c(e,s),e.lanes=536870912,Nl(null,t);if(em(e),(t=He)?(t=Ow(t,vn),t=t!==null&&t.data==="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:wi!==null?{id:Ln,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Qx(t),n.return=e,e.child=n,Nt=e,He=null)):t=null,t===null)throw Ti(e);return e.lanes=536870912,null}return $c(e,s)}var r=t.memoizedState;if(r!==null){var a=r.dehydrated;if(em(e),i)if(e.flags&256)e.flags&=-257,e=u_(t,e,n);else if(e.memoizedState!==null)e.child=t.child,e.flags|=128,e=null;else throw Error(H(558));else if(dt||za(t,e,n,!1),i=(n&t.childLanes)!==0,dt||i){if(s=Ve,s!==null&&(a=vx(s,n),a!==0&&a!==r.retryLane))throw r.retryLane=a,Nr(t,a),Xt(s,t,a),Fp;Du(),e=u_(t,e,n)}else t=r.treeContext,He=wn(a.nextSibling),Nt=e,Te=!0,ci=null,vn=!1,t!==null&&Yx(e,t),e=$c(e,s),e.flags|=4096;return e}return t=ys(t.child,{mode:s.mode,children:s.children}),t.ref=e.ref,e.child=t,t.return=e,t}function Yc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(H(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function am(t,e,n,s,i){return mr(e),n=kp(t,e,n,s,void 0,i),s=Dp(),t!==null&&!dt?(Op(t,e,i),Ts(t,e,i)):(Te&&s&&Tp(e),e.flags|=1,Tt(t,e,n,i),e.child)}function d_(t,e,n,s,i,r){return mr(e),e.updateQueue=null,n=rE(e,s,n,i),iE(t),s=Dp(),t!==null&&!dt?(Op(t,e,r),Ts(t,e,r)):(Te&&s&&Tp(e),e.flags|=1,Tt(t,e,n,r),e.child)}function h_(t,e,n,s,i){if(mr(e),e.stateNode===null){var r=ta,a=n.contextType;typeof a=="object"&&a!==null&&(r=Rt(a)),r=new n(s,r),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=im,e.stateNode=r,r._reactInternals=e,r=e.stateNode,r.props=s,r.state=e.memoizedState,r.refs={},Rp(e),a=n.contextType,r.context=typeof a=="object"&&a!==null?Rt(a):ta,r.state=e.memoizedState,a=n.getDerivedStateFromProps,typeof a=="function"&&(Gh(e,n,a,s),r.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(a=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),a!==r.state&&im.enqueueReplaceState(r,r.state,null),ql(e,s,r,i),Bl(),r.state=e.memoizedState),typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!0}else if(t===null){r=e.stateNode;var l=e.memoizedProps,c=yr(n,l);r.props=c;var d=r.context,h=n.contextType;a=ta,typeof h=="object"&&h!==null&&(a=Rt(h));var m=n.getDerivedStateFromProps;h=typeof m=="function"||typeof r.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,h||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(l||d!==a)&&r_(e,r,s,a),Gs=!1;var p=e.memoizedState;r.state=p,ql(e,s,r,i),Bl(),d=e.memoizedState,l||p!==d||Gs?(typeof m=="function"&&(Gh(e,n,m,s),d=e.memoizedState),(c=Gs||i_(e,n,c,s,p,d,a))?(h||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(e.flags|=4194308)):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=s,e.memoizedState=d),r.props=s,r.state=d,r.context=a,s=c):(typeof r.componentDidMount=="function"&&(e.flags|=4194308),s=!1)}else{r=e.stateNode,Wf(t,e),a=e.memoizedProps,h=yr(n,a),r.props=h,m=e.pendingProps,p=r.context,d=n.contextType,c=ta,typeof d=="object"&&d!==null&&(c=Rt(d)),l=n.getDerivedStateFromProps,(d=typeof l=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(a!==m||p!==c)&&r_(e,r,s,c),Gs=!1,p=e.memoizedState,r.state=p,ql(e,s,r,i),Bl();var y=e.memoizedState;a!==m||p!==y||Gs||t!==null&&t.dependencies!==null&&Eu(t.dependencies)?(typeof l=="function"&&(Gh(e,n,l,s),y=e.memoizedState),(h=Gs||i_(e,n,h,s,p,y,c)||t!==null&&t.dependencies!==null&&Eu(t.dependencies))?(d||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,y,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,y,c)),typeof r.componentDidUpdate=="function"&&(e.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=s,e.memoizedState=y),r.props=s,r.state=y,r.context=c,s=h):(typeof r.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),s=!1)}return r=s,Yc(t,e),s=(e.flags&128)!==0,r||s?(r=e.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:r.render(),e.flags|=1,t!==null&&s?(e.child=pr(e,t.child,null,i),e.child=pr(e,null,n,i)):Tt(t,e,n,i),e.memoizedState=r.state,t=e.child):t=Ts(t,e,i),t}function f_(t,e,n,s){return fr(),e.flags|=256,Tt(t,e,n,s),e.child}var Kh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qh(t){return{baseLanes:t,cachePool:Wx()}}function $h(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=sn),t}function HE(t,e,n){var s=e.pendingProps,i=!1,r=(e.flags&128)!==0,a;if((a=r)||(a=t!==null&&t.memoizedState===null?!1:(st.current&2)!==0),a&&(i=!0,e.flags&=-129),a=(e.flags&32)!==0,e.flags&=-33,t===null){if(Te){if(i?Qs(e):$s(),(t=He)?(t=Ow(t,vn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(e.memoizedState={dehydrated:t,treeContext:wi!==null?{id:Ln,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},n=Qx(t),n.return=e,e.child=n,Nt=e,He=null)):t=null,t===null)throw Ti(e);return bm(t)?e.lanes=32:e.lanes=536870912,null}var l=s.children;return s=s.fallback,i?($s(),i=e.mode,l=Ru({mode:"hidden",children:l},i),s=ir(s,i,n,null),l.return=e,s.return=e,l.sibling=s,e.child=l,s=e.child,s.memoizedState=Qh(n),s.childLanes=$h(t,a,n),e.memoizedState=Kh,Nl(null,s)):(Qs(e),lm(e,l))}var c=t.memoizedState;if(c!==null&&(l=c.dehydrated,l!==null)){if(r)e.flags&256?(Qs(e),e.flags&=-257,e=Yh(t,e,n)):e.memoizedState!==null?($s(),e.child=t.child,e.flags|=128,e=null):($s(),l=s.fallback,i=e.mode,s=Ru({mode:"visible",children:s.children},i),l=ir(l,i,n,null),l.flags|=2,s.return=e,l.return=e,s.sibling=l,e.child=s,pr(e,t.child,null,n),s=e.child,s.memoizedState=Qh(n),s.childLanes=$h(t,a,n),e.memoizedState=Kh,e=Nl(null,s));else if(Qs(e),bm(l)){if(a=l.nextSibling&&l.nextSibling.dataset,a)var d=a.dgst;a=d,s=Error(H(419)),s.stack="",s.digest=a,co({value:s,source:null,stack:null}),e=Yh(t,e,n)}else if(dt||za(t,e,n,!1),a=(n&t.childLanes)!==0,dt||a){if(a=Ve,a!==null&&(s=vx(a,n),s!==0&&s!==c.retryLane))throw c.retryLane=s,Nr(t,s),Xt(a,t,s),Fp;vm(l)||Du(),e=Yh(t,e,n)}else vm(l)?(e.flags|=192,e.child=t.child,e=null):(t=c.treeContext,He=wn(l.nextSibling),Nt=e,Te=!0,ci=null,vn=!1,t!==null&&Yx(e,t),e=lm(e,s.children),e.flags|=4096);return e}return i?($s(),l=s.fallback,i=e.mode,c=t.child,d=c.sibling,s=ys(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,d!==null?l=ys(d,l):(l=ir(l,i,n,null),l.flags|=2),l.return=e,s.return=e,s.sibling=l,e.child=s,Nl(null,s),s=e.child,l=t.child.memoizedState,l===null?l=Qh(n):(i=l.cachePool,i!==null?(c=ct._currentValue,i=i.parent!==c?{parent:c,pool:c}:i):i=Wx(),l={baseLanes:l.baseLanes|n,cachePool:i}),s.memoizedState=l,s.childLanes=$h(t,a,n),e.memoizedState=Kh,Nl(t.child,s)):(Qs(e),n=t.child,t=n.sibling,n=ys(n,{mode:"visible",children:s.children}),n.return=e,n.sibling=null,t!==null&&(a=e.deletions,a===null?(e.deletions=[t],e.flags|=16):a.push(t)),e.child=n,e.memoizedState=null,n)}function lm(t,e){return e=Ru({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function Ru(t,e){return t=nn(22,t,null,e),t.lanes=0,t}function Yh(t,e,n){return pr(e,t.child,null,n),t=lm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function m_(t,e,n){t.lanes|=e;var s=t.alternate;s!==null&&(s.lanes|=e),$f(t.return,e,n)}function Xh(t,e,n,s,i,r){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i,treeForkCount:r}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=i,a.treeForkCount=r)}function FE(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;s=s.children;var a=st.current,l=(a&2)!==0;if(l?(a=a&1|2,e.flags|=128):a&=1,Pe(st,a),Tt(t,e,s,n),s=Te?oo:0,!l&&t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&m_(t,n,e);else if(t.tag===19)m_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Au(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Xh(e,!1,i,n,r,s);break;case"backwards":case"unstable_legacy-backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Au(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Xh(e,!0,n,null,r,s);break;case"together":Xh(e,!1,null,null,void 0,s);break;default:e.memoizedState=null}return e.child}function Ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Si|=e.lanes,!(n&e.childLanes))if(t!==null){if(za(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=ys(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ys(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gp(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Eu(t)))}function IN(t,e,n){switch(e.tag){case 3:pu(e,e.stateNode.containerInfo),Ks(e,ct,t.memoizedState.cache),fr();break;case 27:case 5:Mf(e);break;case 4:pu(e,e.stateNode.containerInfo);break;case 10:Ks(e,e.type,e.memoizedProps.value);break;case 31:if(e.memoizedState!==null)return e.flags|=128,em(e),null;break;case 13:var s=e.memoizedState;if(s!==null)return s.dehydrated!==null?(Qs(e),e.flags|=128,null):n&e.child.childLanes?HE(t,e,n):(Qs(e),t=Ts(t,e,n),t!==null?t.sibling:null);Qs(e);break;case 19:var i=(t.flags&128)!==0;if(s=(n&e.childLanes)!==0,s||(za(t,e,n,!1),s=(n&e.childLanes)!==0),i){if(s)return FE(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(st,st.current),s)break;return null;case 22:return e.lanes=0,qE(t,e,n,e.pendingProps);case 24:Ks(e,ct,t.memoizedState.cache)}return Ts(t,e,n)}function GE(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)dt=!0;else{if(!Gp(t,n)&&!(e.flags&128))return dt=!1,IN(t,e,n);dt=!!(t.flags&131072)}else dt=!1,Te&&e.flags&1048576&&$x(e,oo,e.index);switch(e.lanes=0,e.tag){case 16:e:{var s=e.pendingProps;if(t=Zi(e.elementType),e.type=t,typeof t=="function")wp(t)?(s=yr(t,s),e.tag=1,e=h_(null,e,t,s,n)):(e.tag=0,e=am(null,e,t,s,n));else{if(t!=null){var i=t.$$typeof;if(i===cp){e.tag=11,e=l_(null,e,t,s,n);break e}else if(i===up){e.tag=14,e=o_(null,e,t,s,n);break e}}throw e=Df(t)||t,Error(H(306,e,""))}}return e;case 0:return am(t,e,e.type,e.pendingProps,n);case 1:return s=e.type,i=yr(s,e.pendingProps),h_(t,e,s,i,n);case 3:e:{if(pu(e,e.stateNode.containerInfo),t===null)throw Error(H(387));s=e.pendingProps;var r=e.memoizedState;i=r.element,Wf(t,e),ql(e,s,null,n);var a=e.memoizedState;if(s=a.cache,Ks(e,ct,s),s!==r.cache&&Yf(e,[ct],n,!0),Bl(),s=a.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:a.cache},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){e=f_(t,e,s,n);break e}else if(s!==i){i=_n(Error(H(424)),e),co(i),e=f_(t,e,s,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(He=wn(t.firstChild),Nt=e,Te=!0,ci=null,vn=!0,n=eE(e,null,s,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(fr(),s===i){e=Ts(t,e,n);break e}Tt(t,e,s,n)}e=e.child}return e;case 26:return Yc(t,e),t===null?(n=O_(e.type,null,e.pendingProps,null))?e.memoizedState=n:Te||(n=e.type,t=e.pendingProps,s=Uu(oi.current).createElement(n),s[St]=e,s[Wt]=t,It(s,n,t),bt(s),e.stateNode=s):e.memoizedState=O_(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Mf(e),t===null&&Te&&(s=e.stateNode=Mw(e.type,e.pendingProps,oi.current),Nt=e,vn=!0,i=He,Ui(e.type)?(xm=i,He=wn(s.firstChild)):He=i),Tt(t,e,e.pendingProps.children,n),Yc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&Te&&((i=s=He)&&(s=aC(s,e.type,e.pendingProps,vn),s!==null?(e.stateNode=s,Nt=e,He=wn(s.firstChild),vn=!1,i=!0):i=!1),i||Ti(e)),Mf(e),i=e.type,r=e.pendingProps,a=t!==null?t.memoizedProps:null,s=r.children,ym(i,r)?s=null:a!==null&&ym(i,a)&&(e.flags|=32),e.memoizedState!==null&&(i=kp(t,e,xN,null,null,n),go._currentValue=i),Yc(t,e),Tt(t,e,s,n),e.child;case 6:return t===null&&Te&&((t=n=He)&&(n=lC(n,e.pendingProps,vn),n!==null?(e.stateNode=n,Nt=e,He=null,t=!0):t=!1),t||Ti(e)),null;case 13:return HE(t,e,n);case 4:return pu(e,e.stateNode.containerInfo),s=e.pendingProps,t===null?e.child=pr(e,null,s,n):Tt(t,e,s,n),e.child;case 11:return l_(t,e,e.type,e.pendingProps,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:return s=e.pendingProps,Ks(e,e.type,s.value),Tt(t,e,s.children,n),e.child;case 9:return i=e.type._context,s=e.pendingProps.children,mr(e),i=Rt(i),s=s(i),e.flags|=1,Tt(t,e,s,n),e.child;case 14:return o_(t,e,e.type,e.pendingProps,n);case 15:return BE(t,e,e.type,e.pendingProps,n);case 19:return FE(t,e,n);case 31:return RN(t,e,n);case 22:return qE(t,e,n,e.pendingProps);case 24:return mr(e),s=Rt(ct),t===null?(i=Np(),i===null&&(i=Ve,r=Sp(),i.pooledCache=r,r.refCount++,r!==null&&(i.pooledCacheLanes|=n),i=r),e.memoizedState={parent:s,cache:i},Rp(e),Ks(e,ct,i)):(t.lanes&n&&(Wf(t,e),ql(e,null,null,n),Bl()),i=t.memoizedState,r=e.memoizedState,i.parent!==s?(i={parent:s,cache:s},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Ks(e,ct,s)):(s=r.cache,Ks(e,ct,s),s!==i.cache&&Yf(e,[ct],n,!0))),Tt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(H(156,e.tag))}function rs(t){t.flags|=4}function Wh(t,e,n,s,i){if((e=(t.mode&32)!==0)&&(e=!1),e){if(t.flags|=16777216,(i&335544128)===i)if(t.stateNode.complete)t.flags|=8192;else if(pw())t.flags|=8192;else throw ar=wu,Cp}else t.flags&=-16777217}function p_(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!Lw(e))if(pw())t.flags|=8192;else throw ar=wu,Cp}function Sc(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?gx():536870912,t.lanes|=e,wa|=e)}function bl(t,e){if(!Te)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:s.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,s=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&65011712,s|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=s,t.childLanes=n,e}function jN(t,e,n){var s=e.pendingProps;switch(Ap(e),e.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return qe(e),null;case 3:return n=e.stateNode,s=null,t!==null&&(s=t.memoizedState.cache),e.memoizedState.cache!==s&&(e.flags|=2048),_s(ct),ya(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Lr(e)?rs(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,qh())),qe(e),null;case 26:var i=e.type,r=e.memoizedState;return t===null?(rs(e),r!==null?(qe(e),p_(e,r)):(qe(e),Wh(e,i,null,s,n))):r?r!==t.memoizedState?(rs(e),qe(e),p_(e,r)):(qe(e),e.flags&=-16777217):(t=t.memoizedProps,t!==s&&rs(e),qe(e),Wh(e,i,t,s,n)),null;case 27:if(gu(e),n=oi.current,i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&rs(e);else{if(!s){if(e.stateNode===null)throw Error(H(166));return qe(e),null}t=qn.current,Lr(e)?F0(e):(t=Mw(i,s,n),e.stateNode=t,rs(e))}return qe(e),null;case 5:if(gu(e),i=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==s&&rs(e);else{if(!s){if(e.stateNode===null)throw Error(H(166));return qe(e),null}if(r=qn.current,Lr(e))F0(e);else{var a=Uu(oi.current);switch(r){case 1:r=a.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:r=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":r=a.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":r=a.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":r=a.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof s.is=="string"?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?r.multiple=!0:s.size&&(r.size=s.size);break;default:r=typeof s.is=="string"?a.createElement(i,{is:s.is}):a.createElement(i)}}r[St]=e,r[Wt]=s;e:for(a=e.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===e)break e;for(;a.sibling===null;){if(a.return===null||a.return===e)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}e.stateNode=r;e:switch(It(r,i,s),i){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&rs(e)}}return qe(e),Wh(e,e.type,t===null?null:t.memoizedProps,e.pendingProps,n),null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==s&&rs(e);else{if(typeof s!="string"&&e.stateNode===null)throw Error(H(166));if(t=oi.current,Lr(e)){if(t=e.stateNode,n=e.memoizedProps,s=null,i=Nt,i!==null)switch(i.tag){case 27:case 5:s=i.memoizedProps}t[St]=e,t=!!(t.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||jw(t.nodeValue,n)),t||Ti(e,!0)}else t=Uu(t).createTextNode(s),t[St]=e,e.stateNode=t}return qe(e),null;case 31:if(n=e.memoizedState,t===null||t.memoizedState!==null){if(s=Lr(e),n!==null){if(t===null){if(!s)throw Error(H(318));if(t=e.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(557));t[St]=e}else fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),t=!1}else n=qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=n),t=!0;if(!t)return e.flags&256?(tn(e),e):(tn(e),null);if(e.flags&128)throw Error(H(558))}return qe(e),null;case 13:if(s=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=Lr(e),s!==null&&s.dehydrated!==null){if(t===null){if(!i)throw Error(H(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[St]=e}else fr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),i=!1}else i=qh(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(tn(e),e):(tn(e),null)}return tn(e),e.flags&128?(e.lanes=n,e):(n=s!==null,t=t!==null&&t.memoizedState!==null,n&&(s=e.child,i=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(i=s.alternate.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==i&&(s.flags|=2048)),n!==t&&n&&(e.child.flags|=8192),Sc(e,e.updateQueue),qe(e),null);case 4:return ya(),t===null&&Jp(e.stateNode.containerInfo),qe(e),null;case 10:return _s(e.type),qe(e),null;case 19:if(xt(st),s=e.memoizedState,s===null)return qe(e),null;if(i=(e.flags&128)!==0,r=s.rendering,r===null)if(i)bl(s,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(r=Au(t),r!==null){for(e.flags|=128,bl(s,!1),t=r.updateQueue,e.updateQueue=t,Sc(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)Kx(n,t),n=n.sibling;return Pe(st,st.current&1|2),Te&&us(e,s.treeForkCount),e.child}t=t.sibling}s.tail!==null&&ln()>ju&&(e.flags|=128,i=!0,bl(s,!1),e.lanes=4194304)}else{if(!i)if(t=Au(r),t!==null){if(e.flags|=128,i=!0,t=t.updateQueue,e.updateQueue=t,Sc(e,t),bl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!r.alternate&&!Te)return qe(e),null}else 2*ln()-s.renderingStartTime>ju&&n!==536870912&&(e.flags|=128,i=!0,bl(s,!1),e.lanes=4194304);s.isBackwards?(r.sibling=e.child,e.child=r):(t=s.last,t!==null?t.sibling=r:e.child=r,s.last=r)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=ln(),t.sibling=null,n=st.current,Pe(st,i?n&1|2:n&1),Te&&us(e,s.treeForkCount),t):(qe(e),null);case 22:case 23:return tn(e),Ip(),s=e.memoizedState!==null,t!==null?t.memoizedState!==null!==s&&(e.flags|=8192):s&&(e.flags|=8192),s?n&536870912&&!(e.flags&128)&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),n=e.updateQueue,n!==null&&Sc(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),s=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),s!==n&&(e.flags|=2048),t!==null&&xt(rr),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),_s(ct),qe(e),null;case 25:return null;case 30:return null}throw Error(H(156,e.tag))}function kN(t,e){switch(Ap(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _s(ct),ya(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return gu(e),null;case 31:if(e.memoizedState!==null){if(tn(e),e.alternate===null)throw Error(H(340));fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 13:if(tn(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));fr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xt(st),null;case 4:return ya(),null;case 10:return _s(e.type),null;case 22:case 23:return tn(e),Ip(),t!==null&&xt(rr),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return _s(ct),null;case 25:return null;default:return null}}function KE(t,e){switch(Ap(e),e.tag){case 3:_s(ct),ya();break;case 26:case 27:case 5:gu(e);break;case 4:ya();break;case 31:e.memoizedState!==null&&tn(e);break;case 13:tn(e);break;case 19:xt(st);break;case 10:_s(e.type);break;case 22:case 23:tn(e),Ip(),t!==null&&xt(rr);break;case 24:_s(ct)}}function zo(t,e){try{var n=e.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var i=s.next;n=i;do{if((n.tag&t)===t){s=void 0;var r=n.create,a=n.inst;s=r(),a.destroy=s}n=n.next}while(n!==i)}}catch(l){ke(e,e.return,l)}}function Ai(t,e,n){try{var s=e.updateQueue,i=s!==null?s.lastEffect:null;if(i!==null){var r=i.next;s=r;do{if((s.tag&t)===t){var a=s.inst,l=a.destroy;if(l!==void 0){a.destroy=void 0,i=e;var c=n,d=l;try{d()}catch(h){ke(i,c,h)}}}s=s.next}while(s!==r)}}catch(h){ke(e,e.return,h)}}function QE(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{nE(e,n)}catch(s){ke(t,t.return,s)}}}function $E(t,e,n){n.props=yr(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(s){ke(t,e,s)}}function Fl(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var s=t.stateNode;break;case 30:s=t.stateNode;break;default:s=t.stateNode}typeof n=="function"?t.refCleanup=n(s):n.current=s}}catch(i){ke(t,e,i)}}function zn(t,e){var n=t.ref,s=t.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(i){ke(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){ke(t,e,i)}else n.current=null}function YE(t){var e=t.type,n=t.memoizedProps,s=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(i){ke(t,t.return,i)}}function Jh(t,e,n){try{var s=t.stateNode;eC(s,t.type,n,e),s[Wt]=e}catch(i){ke(t,t.return,i)}}function XE(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Ui(t.type)||t.tag===4}function Zh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Ui(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function om(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=fs));else if(s!==4&&(s===27&&Ui(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(om(t,e,n),t=t.sibling;t!==null;)om(t,e,n),t=t.sibling}function Iu(t,e,n){var s=t.tag;if(s===5||s===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(s!==4&&(s===27&&Ui(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Iu(t,e,n),t=t.sibling;t!==null;)Iu(t,e,n),t=t.sibling}function WE(t){var e=t.stateNode,n=t.memoizedProps;try{for(var s=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);It(e,s,n),e[St]=t,e[Wt]=n}catch(r){ke(t,t.return,r)}}var ds=!1,ot=!1,ef=!1,g_=typeof WeakSet=="function"?WeakSet:Set,vt=null;function DN(t,e){if(t=t.containerInfo,pm=Bu,t=Lx(t),bp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,h=0,m=t,p=null;t:for(;;){for(var y;m!==n||i!==0&&m.nodeType!==3||(l=a+i),m!==r||s!==0&&m.nodeType!==3||(c=a+s),m.nodeType===3&&(a+=m.nodeValue.length),(y=m.firstChild)!==null;)p=m,m=y;for(;;){if(m===t)break t;if(p===n&&++d===i&&(l=a),p===r&&++h===s&&(c=a),(y=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=y}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(gm={focusedElem:t,selectionRange:n},Bu=!1,vt=e;vt!==null;)if(e=vt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,vt=t;else for(;vt!==null;){switch(e=vt,r=e.alternate,t=e.flags,e.tag){case 0:if(t&4&&(t=e.updateQueue,t=t!==null?t.events:null,t!==null))for(n=0;n<t.length;n++)i=t[n],i.ref.impl=i.nextImpl;break;case 11:case 15:break;case 1:if(t&1024&&r!==null){t=void 0,n=e,i=r.memoizedProps,r=r.memoizedState,s=n.stateNode;try{var C=yr(n.type,i);t=s.getSnapshotBeforeUpdate(C,r),s.__reactInternalSnapshotBeforeUpdate=t}catch(j){ke(n,n.return,j)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)_m(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":_m(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(H(163))}if(t=e.sibling,t!==null){t.return=e.return,vt=t;break}vt=e.return}}function JE(t,e,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:ls(t,n),s&4&&zo(5,n);break;case 1:if(ls(t,n),s&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(a){ke(n,n.return,a)}else{var i=yr(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(a){ke(n,n.return,a)}}s&64&&QE(n),s&512&&Fl(n,n.return);break;case 3:if(ls(t,n),s&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{nE(t,e)}catch(a){ke(n,n.return,a)}}break;case 27:e===null&&s&4&&WE(n);case 26:case 5:ls(t,n),e===null&&s&4&&YE(n),s&512&&Fl(n,n.return);break;case 12:ls(t,n);break;case 31:ls(t,n),s&4&&tw(t,n);break;case 13:ls(t,n),s&4&&nw(t,n),s&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=qN.bind(null,n),oC(t,n))));break;case 22:if(s=n.memoizedState!==null||ds,!s){e=e!==null&&e.memoizedState!==null||ot,i=ds;var r=ot;ds=s,(ot=e)&&!r?cs(t,n,(n.subtreeFlags&8772)!==0):ls(t,n),ds=i,ot=r}break;case 30:break;default:ls(t,n)}}function ZE(t){var e=t.alternate;e!==null&&(t.alternate=null,ZE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&mp(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,Kt=!1;function as(t,e,n){for(n=n.child;n!==null;)ew(t,e,n),n=n.sibling}function ew(t,e,n){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(Do,n)}catch{}switch(n.tag){case 26:ot||zn(n,e),as(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:ot||zn(n,e);var s=Qe,i=Kt;Ui(n.type)&&(Qe=n.stateNode,Kt=!1),as(t,e,n),$l(n.stateNode),Qe=s,Kt=i;break;case 5:ot||zn(n,e);case 6:if(s=Qe,i=Kt,Qe=null,as(t,e,n),Qe=s,Kt=i,Qe!==null)if(Kt)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(n.stateNode)}catch(r){ke(n,e,r)}else try{Qe.removeChild(n.stateNode)}catch(r){ke(n,e,r)}break;case 18:Qe!==null&&(Kt?(t=Qe,R_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),Na(t)):R_(Qe,n.stateNode));break;case 4:s=Qe,i=Kt,Qe=n.stateNode.containerInfo,Kt=!0,as(t,e,n),Qe=s,Kt=i;break;case 0:case 11:case 14:case 15:Ai(2,n,e),ot||Ai(4,n,e),as(t,e,n);break;case 1:ot||(zn(n,e),s=n.stateNode,typeof s.componentWillUnmount=="function"&&$E(n,e,s)),as(t,e,n);break;case 21:as(t,e,n);break;case 22:ot=(s=ot)||n.memoizedState!==null,as(t,e,n),ot=s;break;default:as(t,e,n)}}function tw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{Na(t)}catch(n){ke(e,e.return,n)}}}function nw(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Na(t)}catch(n){ke(e,e.return,n)}}function ON(t){switch(t.tag){case 31:case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new g_),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new g_),e;default:throw Error(H(435,t.tag))}}function Nc(t,e){var n=ON(t);e.forEach(function(s){if(!n.has(s)){n.add(s);var i=HN.bind(null,t,s);s.then(i,i)}})}function Ft(t,e){var n=e.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s],r=t,a=e,l=a;e:for(;l!==null;){switch(l.tag){case 27:if(Ui(l.type)){Qe=l.stateNode,Kt=!1;break e}break;case 5:Qe=l.stateNode,Kt=!1;break e;case 3:case 4:Qe=l.stateNode.containerInfo,Kt=!0;break e}l=l.return}if(Qe===null)throw Error(H(160));ew(r,a,i),Qe=null,Kt=!1,r=i.alternate,r!==null&&(r.return=null),i.return=null}if(e.subtreeFlags&13886)for(e=e.child;e!==null;)sw(e,t),e=e.sibling}var Cn=null;function sw(t,e){var n=t.alternate,s=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Ft(e,t),Gt(t),s&4&&(Ai(3,t,t.return),zo(3,t),Ai(5,t,t.return));break;case 1:Ft(e,t),Gt(t),s&512&&(ot||n===null||zn(n,n.return)),s&64&&ds&&(t=t.updateQueue,t!==null&&(s=t.callbacks,s!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var i=Cn;if(Ft(e,t),Gt(t),s&512&&(ot||n===null||zn(n,n.return)),s&4){var r=n!==null?n.memoizedState:null;if(s=t.memoizedState,n===null)if(s===null)if(t.stateNode===null){e:{s=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(s){case"title":r=i.getElementsByTagName("title")[0],(!r||r[Vo]||r[St]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=i.createElement(s),i.head.insertBefore(r,i.querySelector("head > title"))),It(r,s,n),r[St]=t,bt(r),s=r;break e;case"link":var a=V_("link","href",i).get(s+(n.href||""));if(a){for(var l=0;l<a.length;l++)if(r=a[l],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){a.splice(l,1);break t}}r=i.createElement(s),It(r,s,n),i.head.appendChild(r);break;case"meta":if(a=V_("meta","content",i).get(s+(n.content||""))){for(l=0;l<a.length;l++)if(r=a[l],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){a.splice(l,1);break t}}r=i.createElement(s),It(r,s,n),i.head.appendChild(r);break;default:throw Error(H(468,s))}r[St]=t,bt(r),s=r}t.stateNode=s}else U_(i,t.type,t.stateNode);else t.stateNode=M_(i,s,t.memoizedProps);else r!==s?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,s===null?U_(i,t.type,t.stateNode):M_(i,s,t.memoizedProps)):s===null&&t.stateNode!==null&&Jh(t,t.memoizedProps,n.memoizedProps)}break;case 27:Ft(e,t),Gt(t),s&512&&(ot||n===null||zn(n,n.return)),n!==null&&s&4&&Jh(t,t.memoizedProps,n.memoizedProps);break;case 5:if(Ft(e,t),Gt(t),s&512&&(ot||n===null||zn(n,n.return)),t.flags&32){i=t.stateNode;try{va(i,"")}catch(C){ke(t,t.return,C)}}s&4&&t.stateNode!=null&&(i=t.memoizedProps,Jh(t,i,n!==null?n.memoizedProps:i)),s&1024&&(ef=!0);break;case 6:if(Ft(e,t),Gt(t),s&4){if(t.stateNode===null)throw Error(H(162));s=t.memoizedProps,n=t.stateNode;try{n.nodeValue=s}catch(C){ke(t,t.return,C)}}break;case 3:if(Jc=null,i=Cn,Cn=Lu(e.containerInfo),Ft(e,t),Cn=i,Gt(t),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Na(e.containerInfo)}catch(C){ke(t,t.return,C)}ef&&(ef=!1,iw(t));break;case 4:s=Cn,Cn=Lu(t.stateNode.containerInfo),Ft(e,t),Gt(t),Cn=s;break;case 12:Ft(e,t),Gt(t);break;case 31:Ft(e,t),Gt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Nc(t,s)));break;case 13:Ft(e,t),Gt(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Sd=ln()),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Nc(t,s)));break;case 22:i=t.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,d=ds,h=ot;if(ds=d||i,ot=h||c,Ft(e,t),ot=h,ds=d,Gt(t),s&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||c||ds||ot||er(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){c=n=e;try{if(r=c.stateNode,i)a=r.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var m=c.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=p==null||typeof p=="boolean"?"":(""+p).trim()}}catch(C){ke(c,c.return,C)}}}else if(e.tag===6){if(n===null){c=e;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(C){ke(c,c.return,C)}}}else if(e.tag===18){if(n===null){c=e;try{var y=c.stateNode;i?I_(y,!0):I_(c.stateNode,!1)}catch(C){ke(c,c.return,C)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}s&4&&(s=t.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,Nc(t,n))));break;case 19:Ft(e,t),Gt(t),s&4&&(s=t.updateQueue,s!==null&&(t.updateQueue=null,Nc(t,s)));break;case 30:break;case 21:break;default:Ft(e,t),Gt(t)}}function Gt(t){var e=t.flags;if(e&2){try{for(var n,s=t.return;s!==null;){if(XE(s)){n=s;break}s=s.return}if(n==null)throw Error(H(160));switch(n.tag){case 27:var i=n.stateNode,r=Zh(t);Iu(t,r,i);break;case 5:var a=n.stateNode;n.flags&32&&(va(a,""),n.flags&=-33);var l=Zh(t);Iu(t,l,a);break;case 3:case 4:var c=n.stateNode.containerInfo,d=Zh(t);om(t,d,c);break;default:throw Error(H(161))}}catch(h){ke(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iw(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;iw(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function ls(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)JE(t,e.alternate,e),e=e.sibling}function er(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:Ai(4,e,e.return),er(e);break;case 1:zn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&$E(e,e.return,n),er(e);break;case 27:$l(e.stateNode);case 26:case 5:zn(e,e.return),er(e);break;case 22:e.memoizedState===null&&er(e);break;case 30:er(e);break;default:er(e)}t=t.sibling}}function cs(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var s=e.alternate,i=t,r=e,a=r.flags;switch(r.tag){case 0:case 11:case 15:cs(i,r,n),zo(4,r);break;case 1:if(cs(i,r,n),s=r,i=s.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(d){ke(s,s.return,d)}if(s=r,i=s.updateQueue,i!==null){var l=s.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)tE(c[i],l)}catch(d){ke(s,s.return,d)}}n&&a&64&&QE(r),Fl(r,r.return);break;case 27:WE(r);case 26:case 5:cs(i,r,n),n&&s===null&&a&4&&YE(r),Fl(r,r.return);break;case 12:cs(i,r,n);break;case 31:cs(i,r,n),n&&a&4&&tw(i,r);break;case 13:cs(i,r,n),n&&a&4&&nw(i,r);break;case 22:r.memoizedState===null&&cs(i,r,n),Fl(r,r.return);break;case 30:break;default:cs(i,r,n)}e=e.sibling}}function Kp(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Lo(n))}function Qp(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Lo(t))}function Nn(t,e,n,s){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)rw(t,e,n,s),e=e.sibling}function rw(t,e,n,s){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Nn(t,e,n,s),i&2048&&zo(9,e);break;case 1:Nn(t,e,n,s);break;case 3:Nn(t,e,n,s),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Lo(t)));break;case 12:if(i&2048){Nn(t,e,n,s),t=e.stateNode;try{var r=e.memoizedProps,a=r.id,l=r.onPostCommit;typeof l=="function"&&l(a,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(c){ke(e,e.return,c)}}else Nn(t,e,n,s);break;case 31:Nn(t,e,n,s);break;case 13:Nn(t,e,n,s);break;case 23:break;case 22:r=e.stateNode,a=e.alternate,e.memoizedState!==null?r._visibility&2?Nn(t,e,n,s):Gl(t,e):r._visibility&2?Nn(t,e,n,s):(r._visibility|=2,Br(t,e,n,s,(e.subtreeFlags&10256)!==0||!1)),i&2048&&Kp(a,e);break;case 24:Nn(t,e,n,s),i&2048&&Qp(e.alternate,e);break;default:Nn(t,e,n,s)}}function Br(t,e,n,s,i){for(i=i&&((e.subtreeFlags&10256)!==0||!1),e=e.child;e!==null;){var r=t,a=e,l=n,c=s,d=a.flags;switch(a.tag){case 0:case 11:case 15:Br(r,a,l,c,i),zo(8,a);break;case 23:break;case 22:var h=a.stateNode;a.memoizedState!==null?h._visibility&2?Br(r,a,l,c,i):Gl(r,a):(h._visibility|=2,Br(r,a,l,c,i)),i&&d&2048&&Kp(a.alternate,a);break;case 24:Br(r,a,l,c,i),i&&d&2048&&Qp(a.alternate,a);break;default:Br(r,a,l,c,i)}e=e.sibling}}function Gl(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,s=e,i=s.flags;switch(s.tag){case 22:Gl(n,s),i&2048&&Kp(s.alternate,s);break;case 24:Gl(n,s),i&2048&&Qp(s.alternate,s);break;default:Gl(n,s)}e=e.sibling}}var Cl=8192;function Pr(t,e,n){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)aw(t,e,n),t=t.sibling}function aw(t,e,n){switch(t.tag){case 26:Pr(t,e,n),t.flags&Cl&&t.memoizedState!==null&&bC(n,Cn,t.memoizedState,t.memoizedProps);break;case 5:Pr(t,e,n);break;case 3:case 4:var s=Cn;Cn=Lu(t.stateNode.containerInfo),Pr(t,e,n),Cn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=Cl,Cl=16777216,Pr(t,e,n),Cl=s):Pr(t,e,n));break;default:Pr(t,e,n)}}function lw(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function xl(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];vt=s,cw(s,t)}lw(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ow(t),t=t.sibling}function ow(t){switch(t.tag){case 0:case 11:case 15:xl(t),t.flags&2048&&Ai(9,t,t.return);break;case 3:xl(t);break;case 12:xl(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,Xc(t)):xl(t);break;default:xl(t)}}function Xc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];vt=s,cw(s,t)}lw(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:Ai(8,e,e.return),Xc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,Xc(e));break;default:Xc(e)}t=t.sibling}}function cw(t,e){for(;vt!==null;){var n=vt;switch(n.tag){case 0:case 11:case 15:Ai(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Lo(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,vt=s;else e:for(n=t;vt!==null;){s=vt;var i=s.sibling,r=s.return;if(ZE(s),s===n){vt=null;break e}if(i!==null){i.return=r,vt=i;break e}vt=r}}}var MN={getCacheForType:function(t){var e=Rt(ct),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n},cacheSignal:function(){return Rt(ct).controller.signal}},VN=typeof WeakMap=="function"?WeakMap:Map,Ne=0,Ve=null,_e=null,we=0,je=0,en=null,si=!1,qa=!1,$p=!1,As=0,Ze=0,Si=0,lr=0,Yp=0,sn=0,wa=0,Kl=null,Qt=null,cm=!1,Sd=0,uw=0,ju=1/0,ku=null,hi=null,mt=0,fi=null,Ta=null,vs=0,um=0,dm=null,dw=null,Ql=0,hm=null;function un(){return Ne&2&&we!==0?we&-we:re.T!==null?Wp():bx()}function hw(){if(sn===0)if(!(we&536870912)||Te){var t=vc;vc<<=1,!(vc&3932160)&&(vc=262144),sn=t}else sn=536870912;return t=hn.current,t!==null&&(t.flags|=32),sn}function Xt(t,e,n){(t===Ve&&(je===2||je===9)||t.cancelPendingCommit!==null)&&(Aa(t,0),ii(t,we,sn,!1)),Mo(t,n),(!(Ne&2)||t!==Ve)&&(t===Ve&&(!(Ne&2)&&(lr|=n),Ze===4&&ii(t,we,sn,!1)),Zn(t))}function fw(t,e,n){if(Ne&6)throw Error(H(327));var s=!n&&(e&127)===0&&(e&t.expiredLanes)===0||Oo(t,e),i=s?PN(t,e):tf(t,e,!0),r=s;do{if(i===0){qa&&!s&&ii(t,e,0,!1);break}else{if(n=t.current.alternate,r&&!UN(n)){i=tf(t,e,!1),r=!1;continue}if(i===2){if(r=e,t.errorRecoveryDisabledLanes&r)var a=0;else a=t.pendingLanes&-536870913,a=a!==0?a:a&536870912?536870912:0;if(a!==0){e=a;e:{var l=t;i=Kl;var c=l.current.memoizedState.isDehydrated;if(c&&(Aa(l,a).flags|=256),a=tf(l,a,!1),a!==2){if($p&&!c){l.errorRecoveryDisabledLanes|=r,lr|=r,i=4;break e}r=Qt,Qt=i,r!==null&&(Qt===null?Qt=r:Qt.push.apply(Qt,r))}i=a}if(r=!1,i!==2)continue}}if(i===1){Aa(t,0),ii(t,e,0,!0);break}e:{switch(s=t,r=i,r){case 0:case 1:throw Error(H(345));case 4:if((e&4194048)!==e)break;case 6:ii(s,e,sn,!si);break e;case 2:Qt=null;break;case 3:case 5:break;default:throw Error(H(329))}if((e&62914560)===e&&(i=Sd+300-ln(),10<i)){if(ii(s,e,sn,!si),pd(s,0,!0)!==0)break e;vs=e,s.timeoutHandle=Dw(y_.bind(null,s,n,Qt,ku,cm,e,sn,lr,wa,si,r,"Throttled",-0,0),i);break e}y_(s,n,Qt,ku,cm,e,sn,lr,wa,si,r,null,-0,0)}}break}while(!0);Zn(t)}function y_(t,e,n,s,i,r,a,l,c,d,h,m,p,y){if(t.timeoutHandle=-1,m=e.subtreeFlags,m&8192||(m&16785408)===16785408){m={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fs},aw(e,r,m);var C=(r&62914560)===r?Sd-ln():(r&4194048)===r?uw-ln():0;if(C=xC(m,C),C!==null){vs=r,t.cancelPendingCommit=C(v_.bind(null,t,e,r,n,s,i,a,l,c,h,m,null,p,y)),ii(t,r,a,!d);return}}v_(t,e,r,n,s,i,a,l,c)}function UN(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var i=n[s],r=i.getSnapshot;i=i.value;try{if(!dn(r(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ii(t,e,n,s){e&=~Yp,e&=~lr,t.suspendedLanes|=e,t.pingedLanes&=~e,s&&(t.warmLanes|=e),s=t.expirationTimes;for(var i=e;0<i;){var r=31-cn(i),a=1<<r;s[r]=-1,i&=~a}n!==0&&yx(t,n,e)}function Nd(){return Ne&6?!0:(Bo(0),!1)}function Xp(){if(_e!==null){if(je===0)var t=_e.return;else t=_e,ms=Cr=null,Mp(t),ua=null,uo=0,t=_e;for(;t!==null;)KE(t.alternate,t),t=t.return;_e=null}}function Aa(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,sC(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),vs=0,Xp(),Ve=t,_e=n=ys(t.current,null),we=e,je=0,en=null,si=!1,qa=Oo(t,e),$p=!1,wa=sn=Yp=lr=Si=Ze=0,Qt=Kl=null,cm=!1,e&8&&(e|=e&32);var s=t.entangledLanes;if(s!==0)for(t=t.entanglements,s&=e;0<s;){var i=31-cn(s),r=1<<i;e|=t[i],s&=~r}return As=e,vd(),n}function mw(t,e){de=null,re.H=fo,e===Ba||e===xd?(e=Y0(),je=3):e===Cp?(e=Y0(),je=4):je=e===Fp?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,en=e,_e===null&&(Ze=1,Cu(t,_n(e,t.current)))}function pw(){var t=hn.current;return t===null?!0:(we&4194048)===we?En===null:(we&62914560)===we||we&536870912?t===En:!1}function gw(){var t=re.H;return re.H=fo,t===null?fo:t}function yw(){var t=re.A;return re.A=MN,t}function Du(){Ze=4,si||(we&4194048)!==we&&hn.current!==null||(qa=!0),!(Si&134217727)&&!(lr&134217727)||Ve===null||ii(Ve,we,sn,!1)}function tf(t,e,n){var s=Ne;Ne|=2;var i=gw(),r=yw();(Ve!==t||we!==e)&&(ku=null,Aa(t,e)),e=!1;var a=Ze;e:do try{if(je!==0&&_e!==null){var l=_e,c=en;switch(je){case 8:Xp(),a=6;break e;case 3:case 2:case 9:case 6:hn.current===null&&(e=!0);var d=je;if(je=0,en=null,ia(t,l,c,d),n&&qa){a=0;break e}break;default:d=je,je=0,en=null,ia(t,l,c,d)}}LN(),a=Ze;break}catch(h){mw(t,h)}while(!0);return e&&t.shellSuspendCounter++,ms=Cr=null,Ne=s,re.H=i,re.A=r,_e===null&&(Ve=null,we=0,vd()),a}function LN(){for(;_e!==null;)_w(_e)}function PN(t,e){var n=Ne;Ne|=2;var s=gw(),i=yw();Ve!==t||we!==e?(ku=null,ju=ln()+500,Aa(t,e)):qa=Oo(t,e);e:do try{if(je!==0&&_e!==null){e=_e;var r=en;t:switch(je){case 1:je=0,en=null,ia(t,e,r,1);break;case 2:case 9:if($0(r)){je=0,en=null,__(e);break}e=function(){je!==2&&je!==9||Ve!==t||(je=7),Zn(t)},r.then(e,e);break e;case 3:je=7;break e;case 4:je=5;break e;case 7:$0(r)?(je=0,en=null,__(e)):(je=0,en=null,ia(t,e,r,7));break;case 5:var a=null;switch(_e.tag){case 26:a=_e.memoizedState;case 5:case 27:var l=_e;if(a?Lw(a):l.stateNode.complete){je=0,en=null;var c=l.sibling;if(c!==null)_e=c;else{var d=l.return;d!==null?(_e=d,Cd(d)):_e=null}break t}}je=0,en=null,ia(t,e,r,5);break;case 6:je=0,en=null,ia(t,e,r,6);break;case 8:Xp(),Ze=6;break e;default:throw Error(H(462))}}zN();break}catch(h){mw(t,h)}while(!0);return ms=Cr=null,re.H=s,re.A=i,Ne=n,_e!==null?0:(Ve=null,we=0,vd(),Ze)}function zN(){for(;_e!==null&&!c2();)_w(_e)}function _w(t){var e=GE(t.alternate,t,As);t.memoizedProps=t.pendingProps,e===null?Cd(t):_e=e}function __(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=d_(n,e,e.pendingProps,e.type,void 0,we);break;case 11:e=d_(n,e,e.pendingProps,e.type.render,e.ref,we);break;case 5:Mp(e);default:KE(n,e),e=_e=Kx(e,As),e=GE(n,e,As)}t.memoizedProps=t.pendingProps,e===null?Cd(t):_e=e}function ia(t,e,n,s){ms=Cr=null,Mp(e),ua=null,uo=0;var i=e.return;try{if(CN(t,i,e,n,we)){Ze=1,Cu(t,_n(n,t.current)),_e=null;return}}catch(r){if(i!==null)throw _e=i,r;Ze=1,Cu(t,_n(n,t.current)),_e=null;return}e.flags&32768?(Te||s===1?t=!0:qa||we&536870912?t=!1:(si=t=!0,(s===2||s===9||s===3||s===6)&&(s=hn.current,s!==null&&s.tag===13&&(s.flags|=16384))),vw(e,t)):Cd(e)}function Cd(t){var e=t;do{if(e.flags&32768){vw(e,si);return}t=e.return;var n=jN(e.alternate,e,As);if(n!==null){_e=n;return}if(e=e.sibling,e!==null){_e=e;return}_e=e=t}while(e!==null);Ze===0&&(Ze=5)}function vw(t,e){do{var n=kN(t.alternate,t);if(n!==null){n.flags&=32767,_e=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){_e=t;return}_e=t=n}while(t!==null);Ze=6,_e=null}function v_(t,e,n,s,i,r,a,l,c){t.cancelPendingCommit=null;do Rd();while(mt!==0);if(Ne&6)throw Error(H(327));if(e!==null){if(e===t.current)throw Error(H(177));if(r=e.lanes|e.childLanes,r|=xp,v2(t,n,r,a,l,c),t===Ve&&(_e=Ve=null,we=0),Ta=e,fi=t,vs=n,um=r,dm=i,dw=s,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,FN(yu,function(){return Tw(),null})):(t.callbackNode=null,t.callbackPriority=0),s=(e.flags&13878)!==0,e.subtreeFlags&13878||s){s=re.T,re.T=null,i=Ce.p,Ce.p=2,a=Ne,Ne|=4;try{DN(t,e,n)}finally{Ne=a,Ce.p=i,re.T=s}}mt=1,bw(),xw(),Ew()}}function bw(){if(mt===1){mt=0;var t=fi,e=Ta,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=re.T,re.T=null;var s=Ce.p;Ce.p=2;var i=Ne;Ne|=4;try{sw(e,t);var r=gm,a=Lx(t.containerInfo),l=r.focusedElem,c=r.selectionRange;if(a!==l&&l&&l.ownerDocument&&Ux(l.ownerDocument.documentElement,l)){if(c!==null&&bp(l)){var d=c.start,h=c.end;if(h===void 0&&(h=d),"selectionStart"in l)l.selectionStart=d,l.selectionEnd=Math.min(h,l.value.length);else{var m=l.ownerDocument||document,p=m&&m.defaultView||window;if(p.getSelection){var y=p.getSelection(),C=l.textContent.length,j=Math.min(c.start,C),D=c.end===void 0?j:Math.min(c.end,C);!y.extend&&j>D&&(a=D,D=j,j=a);var T=B0(l,j),b=B0(l,D);if(T&&b&&(y.rangeCount!==1||y.anchorNode!==T.node||y.anchorOffset!==T.offset||y.focusNode!==b.node||y.focusOffset!==b.offset)){var x=m.createRange();x.setStart(T.node,T.offset),y.removeAllRanges(),j>D?(y.addRange(x),y.extend(b.node,b.offset)):(x.setEnd(b.node,b.offset),y.addRange(x))}}}}for(m=[],y=l;y=y.parentNode;)y.nodeType===1&&m.push({element:y,left:y.scrollLeft,top:y.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var k=m[l];k.element.scrollLeft=k.left,k.element.scrollTop=k.top}}Bu=!!pm,gm=pm=null}finally{Ne=i,Ce.p=s,re.T=n}}t.current=e,mt=2}}function xw(){if(mt===2){mt=0;var t=fi,e=Ta,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=re.T,re.T=null;var s=Ce.p;Ce.p=2;var i=Ne;Ne|=4;try{JE(t,e.alternate,e)}finally{Ne=i,Ce.p=s,re.T=n}}mt=3}}function Ew(){if(mt===4||mt===3){mt=0,u2();var t=fi,e=Ta,n=vs,s=dw;e.subtreeFlags&10256||e.flags&10256?mt=5:(mt=0,Ta=fi=null,ww(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(hi=null),fp(n),e=e.stateNode,on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(Do,e,void 0,(e.current.flags&128)===128)}catch{}if(s!==null){e=re.T,i=Ce.p,Ce.p=2,re.T=null;try{for(var r=t.onRecoverableError,a=0;a<s.length;a++){var l=s[a];r(l.value,{componentStack:l.stack})}}finally{re.T=e,Ce.p=i}}vs&3&&Rd(),Zn(t),i=t.pendingLanes,n&261930&&i&42?t===hm?Ql++:(Ql=0,hm=t):Ql=0,Bo(0)}}function ww(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Lo(e)))}function Rd(){return bw(),xw(),Ew(),Tw()}function Tw(){if(mt!==5)return!1;var t=fi,e=um;um=0;var n=fp(vs),s=re.T,i=Ce.p;try{Ce.p=32>n?32:n,re.T=null,n=dm,dm=null;var r=fi,a=vs;if(mt=0,Ta=fi=null,vs=0,Ne&6)throw Error(H(331));var l=Ne;if(Ne|=4,ow(r.current),rw(r,r.current,a,n),Ne=l,Bo(0,!1),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(Do,r)}catch{}return!0}finally{Ce.p=i,re.T=s,ww(t,e)}}function b_(t,e,n){e=_n(n,e),e=rm(t.stateNode,e,2),t=di(t,e,2),t!==null&&(Mo(t,2),Zn(t))}function ke(t,e,n){if(t.tag===3)b_(t,t,n);else for(;e!==null;){if(e.tag===3){b_(e,t,n);break}else if(e.tag===1){var s=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(hi===null||!hi.has(s))){t=_n(n,t),n=PE(2),s=di(e,n,2),s!==null&&(zE(n,s,e,t),Mo(s,2),Zn(s));break}}e=e.return}}function nf(t,e,n){var s=t.pingCache;if(s===null){s=t.pingCache=new VN;var i=new Set;s.set(e,i)}else i=s.get(e),i===void 0&&(i=new Set,s.set(e,i));i.has(n)||($p=!0,i.add(n),t=BN.bind(null,t,e,n),e.then(t,t))}function BN(t,e,n){var s=t.pingCache;s!==null&&s.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,Ve===t&&(we&n)===n&&(Ze===4||Ze===3&&(we&62914560)===we&&300>ln()-Sd?!(Ne&2)&&Aa(t,0):Yp|=n,wa===we&&(wa=0)),Zn(t)}function Aw(t,e){e===0&&(e=gx()),t=Nr(t,e),t!==null&&(Mo(t,e),Zn(t))}function qN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Aw(t,n)}function HN(t,e){var n=0;switch(t.tag){case 31:case 13:var s=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=t.stateNode;break;case 22:s=t.stateNode._retryCache;break;default:throw Error(H(314))}s!==null&&s.delete(e),Aw(t,n)}function FN(t,e){return dp(t,e)}var Ou=null,qr=null,fm=!1,Mu=!1,sf=!1,ri=0;function Zn(t){t!==qr&&t.next===null&&(qr===null?Ou=qr=t:qr=qr.next=t),Mu=!0,fm||(fm=!0,KN())}function Bo(t,e){if(!sf&&Mu){sf=!0;do for(var n=!1,s=Ou;s!==null;){if(t!==0){var i=s.pendingLanes;if(i===0)var r=0;else{var a=s.suspendedLanes,l=s.pingedLanes;r=(1<<31-cn(42|t)+1)-1,r&=i&~(a&~l),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,x_(s,r))}else r=we,r=pd(s,s===Ve?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||Oo(s,r)||(n=!0,x_(s,r));s=s.next}while(n);sf=!1}}function GN(){Sw()}function Sw(){Mu=fm=!1;var t=0;ri!==0&&nC()&&(t=ri);for(var e=ln(),n=null,s=Ou;s!==null;){var i=s.next,r=Nw(s,e);r===0?(s.next=null,n===null?Ou=i:n.next=i,i===null&&(qr=n)):(n=s,(t!==0||r&3)&&(Mu=!0)),s=i}mt!==0&&mt!==5||Bo(t),ri!==0&&(ri=0)}function Nw(t,e){for(var n=t.suspendedLanes,s=t.pingedLanes,i=t.expirationTimes,r=t.pendingLanes&-62914561;0<r;){var a=31-cn(r),l=1<<a,c=i[a];c===-1?(!(l&n)||l&s)&&(i[a]=_2(l,e)):c<=e&&(t.expiredLanes|=l),r&=~l}if(e=Ve,n=we,n=pd(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s=t.callbackNode,n===0||t===e&&(je===2||je===9)||t.cancelPendingCommit!==null)return s!==null&&s!==null&&jh(s),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Oo(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(s!==null&&jh(s),fp(n)){case 2:case 8:n=mx;break;case 32:n=yu;break;case 268435456:n=px;break;default:n=yu}return s=Cw.bind(null,t),n=dp(n,s),t.callbackPriority=e,t.callbackNode=n,e}return s!==null&&s!==null&&jh(s),t.callbackPriority=2,t.callbackNode=null,2}function Cw(t,e){if(mt!==0&&mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Rd()&&t.callbackNode!==n)return null;var s=we;return s=pd(t,t===Ve?s:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),s===0?null:(fw(t,s,e),Nw(t,ln()),t.callbackNode!=null&&t.callbackNode===n?Cw.bind(null,t):null)}function x_(t,e){if(Rd())return null;fw(t,e,!0)}function KN(){iC(function(){Ne&6?dp(fx,GN):Sw()})}function Wp(){if(ri===0){var t=ba;t===0&&(t=_c,_c<<=1,!(_c&261888)&&(_c=256)),ri=t}return ri}function E_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Bc(""+t)}function w_(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function QN(t,e,n,s,i){if(e==="submit"&&n&&n.stateNode===i){var r=E_((i[Wt]||null).action),a=s.submitter;a&&(e=(e=a[Wt]||null)?E_(e.formAction):a.getAttribute("formAction"),e!==null&&(r=e,a=null));var l=new gd("action","action",null,s,i);t.push({event:l,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ri!==0){var c=a?w_(i,a):new FormData(i);sm(n,{pending:!0,data:c,method:i.method,action:r},null,c)}}else typeof r=="function"&&(l.preventDefault(),c=a?w_(i,a):new FormData(i),sm(n,{pending:!0,data:c,method:i.method,action:r},r,c))},currentTarget:i}]})}}for(var rf=0;rf<Gf.length;rf++){var af=Gf[rf],$N=af.toLowerCase(),YN=af[0].toUpperCase()+af.slice(1);Dn($N,"on"+YN)}Dn(zx,"onAnimationEnd");Dn(Bx,"onAnimationIteration");Dn(qx,"onAnimationStart");Dn("dblclick","onDoubleClick");Dn("focusin","onFocus");Dn("focusout","onBlur");Dn(dN,"onTransitionRun");Dn(hN,"onTransitionStart");Dn(fN,"onTransitionCancel");Dn(Hx,"onTransitionEnd");_a("onMouseEnter",["mouseout","mouseover"]);_a("onMouseLeave",["mouseout","mouseover"]);_a("onPointerEnter",["pointerout","pointerover"]);_a("onPointerLeave",["pointerout","pointerover"]);Tr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Tr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Tr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Tr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Tr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mo));function Rw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;e:{var r=void 0;if(e)for(var a=s.length-1;0<=a;a--){var l=s[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=d;try{r(i)}catch(h){vu(h)}i.currentTarget=null,r=c}else for(a=0;a<s.length;a++){if(l=s[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==r&&i.isPropagationStopped())break e;r=l,i.currentTarget=d;try{r(i)}catch(h){vu(h)}i.currentTarget=null,r=c}}}}function ye(t,e){var n=e[Uf];n===void 0&&(n=e[Uf]=new Set);var s=t+"__bubble";n.has(s)||(Iw(e,t,2,!1),n.add(s))}function lf(t,e,n){var s=0;e&&(s|=4),Iw(n,t,s,e)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Jp(t){if(!t[Cc]){t[Cc]=!0,xx.forEach(function(n){n!=="selectionchange"&&(XN.has(n)||lf(n,!1,t),lf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Cc]||(e[Cc]=!0,lf("selectionchange",!1,e))}}function Iw(t,e,n,s){switch(Hw(e)){case 2:var i=TC;break;case 8:i=AC;break;default:i=ng}n=i.bind(null,e,n,t),i=void 0,!qf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),s?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function of(t,e,n,s,i){var r=s;if(!(e&1)&&!(e&2)&&s!==null)e:for(;;){if(s===null)return;var a=s.tag;if(a===3||a===4){var l=s.stateNode.containerInfo;if(l===i)break;if(a===4)for(a=s.return;a!==null;){var c=a.tag;if((c===3||c===4)&&a.stateNode.containerInfo===i)return;a=a.return}for(;l!==null;){if(a=Yr(l),a===null)return;if(c=a.tag,c===5||c===6||c===26||c===27){s=r=a;continue e}l=l.parentNode}}s=s.return}Rx(function(){var d=r,h=gp(n),m=[];e:{var p=Fx.get(t);if(p!==void 0){var y=gd,C=t;switch(t){case"keypress":if(Hc(n)===0)break e;case"keydown":case"keyup":y=H2;break;case"focusin":C="focus",y=Vh;break;case"focusout":C="blur",y=Vh;break;case"beforeblur":case"afterblur":y=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=j0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=j2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=K2;break;case zx:case Bx:case qx:y=O2;break;case Hx:y=$2;break;case"scroll":case"scrollend":y=R2;break;case"wheel":y=X2;break;case"copy":case"cut":case"paste":y=V2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=D0;break;case"toggle":case"beforetoggle":y=J2}var j=(e&4)!==0,D=!j&&(t==="scroll"||t==="scrollend"),T=j?p!==null?p+"Capture":null:p;j=[];for(var b=d,x;b!==null;){var k=b;if(x=k.stateNode,k=k.tag,k!==5&&k!==26&&k!==27||x===null||T===null||(k=ro(b,T),k!=null&&j.push(po(b,k,x))),D)break;b=b.return}0<j.length&&(p=new y(p,C,null,n,h),m.push({event:p,listeners:j}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",p&&n!==Bf&&(C=n.relatedTarget||n.fromElement)&&(Yr(C)||C[La]))break e;if((y||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,y?(C=n.relatedTarget||n.toElement,y=d,C=C?Yr(C):null,C!==null&&(D=ko(C),j=C.tag,C!==D||j!==5&&j!==27&&j!==6)&&(C=null)):(y=null,C=d),y!==C)){if(j=j0,k="onMouseLeave",T="onMouseEnter",b="mouse",(t==="pointerout"||t==="pointerover")&&(j=D0,k="onPointerLeave",T="onPointerEnter",b="pointer"),D=y==null?p:Sl(y),x=C==null?p:Sl(C),p=new j(k,b+"leave",y,n,h),p.target=D,p.relatedTarget=x,k=null,Yr(h)===d&&(j=new j(T,b+"enter",C,n,h),j.target=x,j.relatedTarget=D,k=j),D=k,y&&C)t:{for(j=WN,T=y,b=C,x=0,k=T;k;k=j(k))x++;k=0;for(var U=b;U;U=j(U))k++;for(;0<x-k;)T=j(T),x--;for(;0<k-x;)b=j(b),k--;for(;x--;){if(T===b||b!==null&&T===b.alternate){j=T;break t}T=j(T),b=j(b)}j=null}else j=null;y!==null&&T_(m,p,y,j,!1),C!==null&&D!==null&&T_(m,D,C,j,!0)}}e:{if(p=d?Sl(d):window,y=p.nodeName&&p.nodeName.toLowerCase(),y==="select"||y==="input"&&p.type==="file")var z=U0;else if(V0(p))if(Mx)z=oN;else{z=aN;var w=rN}else y=p.nodeName,!y||y.toLowerCase()!=="input"||p.type!=="checkbox"&&p.type!=="radio"?d&&pp(d.elementType)&&(z=U0):z=lN;if(z&&(z=z(t,d))){Ox(m,z,n,h);break e}w&&w(t,p,d),t==="focusout"&&d&&p.type==="number"&&d.memoizedProps.value!=null&&zf(p,"number",p.value)}switch(w=d?Sl(d):window,t){case"focusin":(V0(w)||w.contentEditable==="true")&&(Jr=w,Hf=d,Ll=null);break;case"focusout":Ll=Hf=Jr=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,q0(m,n,h);break;case"selectionchange":if(uN)break;case"keydown":case"keyup":q0(m,n,h)}var _;if(vp)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Wr?kx(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(jx&&n.locale!=="ko"&&(Wr||v!=="onCompositionStart"?v==="onCompositionEnd"&&Wr&&(_=Ix()):(ni=h,yp="value"in ni?ni.value:ni.textContent,Wr=!0)),w=Vu(d,v),0<w.length&&(v=new k0(v,t,null,n,h),m.push({event:v,listeners:w}),_?v.data=_:(_=Dx(n),_!==null&&(v.data=_)))),(_=eN?tN(t,n):nN(t,n))&&(v=Vu(d,"onBeforeInput"),0<v.length&&(w=new k0("onBeforeInput","beforeinput",null,n,h),m.push({event:w,listeners:v}),w.data=_)),QN(m,t,d,n,h)}Rw(m,e)})}function po(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vu(t,e){for(var n=e+"Capture",s=[];t!==null;){var i=t,r=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||r===null||(i=ro(t,n),i!=null&&s.unshift(po(t,i,r)),i=ro(t,e),i!=null&&s.push(po(t,i,r))),t.tag===3)return s;t=t.return}return[]}function WN(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function T_(t,e,n,s,i){for(var r=e._reactName,a=[];n!==null&&n!==s;){var l=n,c=l.alternate,d=l.stateNode;if(l=l.tag,c!==null&&c===s)break;l!==5&&l!==26&&l!==27||d===null||(c=d,i?(d=ro(n,r),d!=null&&a.unshift(po(n,d,c))):i||(d=ro(n,r),d!=null&&a.push(po(n,d,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var JN=/\r\n?/g,ZN=/\u0000|\uFFFD/g;function A_(t){return(typeof t=="string"?t:""+t).replace(JN,`
`).replace(ZN,"")}function jw(t,e){return e=A_(e),A_(t)===e}function De(t,e,n,s,i,r){switch(n){case"children":typeof s=="string"?e==="body"||e==="textarea"&&s===""||va(t,s):(typeof s=="number"||typeof s=="bigint")&&e!=="body"&&va(t,""+s);break;case"className":xc(t,"class",s);break;case"tabIndex":xc(t,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":xc(t,n,s);break;case"style":Cx(t,s,r);break;case"data":if(e!=="object"){xc(t,"data",s);break}case"src":case"href":if(s===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Bc(""+s),t.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(e!=="input"&&De(t,e,"name",i.name,i,null),De(t,e,"formEncType",i.formEncType,i,null),De(t,e,"formMethod",i.formMethod,i,null),De(t,e,"formTarget",i.formTarget,i,null)):(De(t,e,"encType",i.encType,i,null),De(t,e,"method",i.method,i,null),De(t,e,"target",i.target,i,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){t.removeAttribute(n);break}s=Bc(""+s),t.setAttribute(n,s);break;case"onClick":s!=null&&(t.onclick=fs);break;case"onScroll":s!=null&&ye("scroll",t);break;case"onScrollEnd":s!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(H(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(H(60));t.innerHTML=n}}break;case"multiple":t.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":t.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){t.removeAttribute("xlink:href");break}n=Bc(""+s),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""+s):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":s===!0?t.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?t.setAttribute(n,s):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?t.setAttribute(n,s):t.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?t.removeAttribute(n):t.setAttribute(n,s);break;case"popover":ye("beforetoggle",t),ye("toggle",t),zc(t,"popover",s);break;case"xlinkActuate":is(t,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":is(t,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":is(t,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":is(t,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":is(t,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":is(t,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":is(t,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":is(t,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":is(t,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":zc(t,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=N2.get(n)||n,zc(t,n,s))}}function mm(t,e,n,s,i,r){switch(n){case"style":Cx(t,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(H(61));if(n=s.__html,n!=null){if(i.children!=null)throw Error(H(60));t.innerHTML=n}}break;case"children":typeof s=="string"?va(t,s):(typeof s=="number"||typeof s=="bigint")&&va(t,""+s);break;case"onScroll":s!=null&&ye("scroll",t);break;case"onScrollEnd":s!=null&&ye("scrollend",t);break;case"onClick":s!=null&&(t.onclick=fs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ex.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),r=t[Wt]||null,r=r!=null?r[n]:null,typeof r=="function"&&t.removeEventListener(e,r,i),typeof s=="function")){typeof r!="function"&&r!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,s,i);break e}n in t?t[n]=s:s===!0?t.setAttribute(n,""):zc(t,n,s)}}}function It(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var s=!1,i=!1,r;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(a!=null)switch(r){case"src":s=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(H(137,e));default:De(t,e,r,a,n,null)}}i&&De(t,e,"srcSet",n.srcSet,n,null),s&&De(t,e,"src",n.src,n,null);return;case"input":ye("invalid",t);var l=r=a=i=null,c=null,d=null;for(s in n)if(n.hasOwnProperty(s)){var h=n[s];if(h!=null)switch(s){case"name":i=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":d=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(H(137,e));break;default:De(t,e,s,h,n,null)}}Ax(t,r,l,c,d,a,i,!1);return;case"select":ye("invalid",t),s=a=r=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":s=l;default:De(t,e,i,l,n,null)}e=r,n=a,t.multiple=!!s,e!=null?la(t,!!s,e,!1):n!=null&&la(t,!!s,n,!0);return;case"textarea":ye("invalid",t),r=i=s=null;for(a in n)if(n.hasOwnProperty(a)&&(l=n[a],l!=null))switch(a){case"value":s=l;break;case"defaultValue":i=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(H(91));break;default:De(t,e,a,l,n,null)}Nx(t,s,i,r);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":t.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:De(t,e,c,s,n,null)}return;case"dialog":ye("beforetoggle",t),ye("toggle",t),ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(s=0;s<mo.length;s++)ye(mo[s],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(d in n)if(n.hasOwnProperty(d)&&(s=n[d],s!=null))switch(d){case"children":case"dangerouslySetInnerHTML":throw Error(H(137,e));default:De(t,e,d,s,n,null)}return;default:if(pp(e)){for(h in n)n.hasOwnProperty(h)&&(s=n[h],s!==void 0&&mm(t,e,h,s,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(s=n[l],s!=null&&De(t,e,l,s,n,null))}function eC(t,e,n,s){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,r=null,a=null,l=null,c=null,d=null,h=null;for(y in n){var m=n[y];if(n.hasOwnProperty(y)&&m!=null)switch(y){case"checked":break;case"value":break;case"defaultValue":c=m;default:s.hasOwnProperty(y)||De(t,e,y,null,s,m)}}for(var p in s){var y=s[p];if(m=n[p],s.hasOwnProperty(p)&&(y!=null||m!=null))switch(p){case"type":r=y;break;case"name":i=y;break;case"checked":d=y;break;case"defaultChecked":h=y;break;case"value":a=y;break;case"defaultValue":l=y;break;case"children":case"dangerouslySetInnerHTML":if(y!=null)throw Error(H(137,e));break;default:y!==m&&De(t,e,p,y,s,m)}}Pf(t,a,l,c,d,h,r,i);return;case"select":y=a=l=p=null;for(r in n)if(c=n[r],n.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":y=c;default:s.hasOwnProperty(r)||De(t,e,r,null,s,c)}for(i in s)if(r=s[i],c=n[i],s.hasOwnProperty(i)&&(r!=null||c!=null))switch(i){case"value":p=r;break;case"defaultValue":l=r;break;case"multiple":a=r;default:r!==c&&De(t,e,i,r,s,c)}e=l,n=a,s=y,p!=null?la(t,!!n,p,!1):!!s!=!!n&&(e!=null?la(t,!!n,e,!0):la(t,!!n,n?[]:"",!1));return;case"textarea":y=p=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!s.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:De(t,e,l,null,s,i)}for(a in s)if(i=s[a],r=n[a],s.hasOwnProperty(a)&&(i!=null||r!=null))switch(a){case"value":p=i;break;case"defaultValue":y=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(H(91));break;default:i!==r&&De(t,e,a,i,s,r)}Sx(t,p,y);return;case"option":for(var C in n)if(p=n[C],n.hasOwnProperty(C)&&p!=null&&!s.hasOwnProperty(C))switch(C){case"selected":t.selected=!1;break;default:De(t,e,C,null,s,p)}for(c in s)if(p=s[c],y=n[c],s.hasOwnProperty(c)&&p!==y&&(p!=null||y!=null))switch(c){case"selected":t.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:De(t,e,c,p,s,y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var j in n)p=n[j],n.hasOwnProperty(j)&&p!=null&&!s.hasOwnProperty(j)&&De(t,e,j,null,s,p);for(d in s)if(p=s[d],y=n[d],s.hasOwnProperty(d)&&p!==y&&(p!=null||y!=null))switch(d){case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(H(137,e));break;default:De(t,e,d,p,s,y)}return;default:if(pp(e)){for(var D in n)p=n[D],n.hasOwnProperty(D)&&p!==void 0&&!s.hasOwnProperty(D)&&mm(t,e,D,void 0,s,p);for(h in s)p=s[h],y=n[h],!s.hasOwnProperty(h)||p===y||p===void 0&&y===void 0||mm(t,e,h,p,s,y);return}}for(var T in n)p=n[T],n.hasOwnProperty(T)&&p!=null&&!s.hasOwnProperty(T)&&De(t,e,T,null,s,p);for(m in s)p=s[m],y=n[m],!s.hasOwnProperty(m)||p===y||p==null&&y==null||De(t,e,m,p,s,y)}function S_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tC(){if(typeof performance.getEntriesByType=="function"){for(var t=0,e=0,n=performance.getEntriesByType("resource"),s=0;s<n.length;s++){var i=n[s],r=i.transferSize,a=i.initiatorType,l=i.duration;if(r&&l&&S_(a)){for(a=0,l=i.responseEnd,s+=1;s<n.length;s++){var c=n[s],d=c.startTime;if(d>l)break;var h=c.transferSize,m=c.initiatorType;h&&S_(m)&&(c=c.responseEnd,a+=h*(c<l?1:(l-d)/(c-d)))}if(--s,e+=8*(r+a)/(i.duration/1e3),t++,10<t)break}}if(0<t)return e/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var pm=null,gm=null;function Uu(t){return t.nodeType===9?t:t.ownerDocument}function N_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function kw(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function ym(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cf=null;function nC(){var t=window.event;return t&&t.type==="popstate"?t===cf?!1:(cf=t,!0):(cf=null,!1)}var Dw=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,iC=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(t){return C_.resolve(null).then(t).catch(rC)}:Dw;function rC(t){setTimeout(function(){throw t})}function Ui(t){return t==="head"}function R_(t,e){var n=e,s=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"||n==="/&"){if(s===0){t.removeChild(i),Na(e);return}s--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")s++;else if(n==="html")$l(t.ownerDocument.documentElement);else if(n==="head"){n=t.ownerDocument.head,$l(n);for(var r=n.firstChild;r;){var a=r.nextSibling,l=r.nodeName;r[Vo]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&r.rel.toLowerCase()==="stylesheet"||n.removeChild(r),r=a}}else n==="body"&&$l(t.ownerDocument.body);n=i}while(n);Na(e)}function I_(t,e){var n=t;t=0;do{var s=n.nextSibling;if(n.nodeType===1?e?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(e?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(t===0)break;t--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||t++;n=s}while(n)}function _m(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":_m(n),mp(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function aC(t,e,n,s){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!s&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(s){if(!t[Vo])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(r=t.getAttribute("rel"),r==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(r!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(r=t.getAttribute("src"),(r!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&r&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var r=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===r)return t}else return t;if(t=wn(t.nextSibling),t===null)break}return null}function lC(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=wn(t.nextSibling),t===null))return null;return t}function Ow(t,e){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!e||(t=wn(t.nextSibling),t===null))return null;return t}function vm(t){return t.data==="$?"||t.data==="$~"}function bm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function oC(t,e){var n=t.ownerDocument;if(t.data==="$~")t._reactRetry=e;else if(t.data!=="$?"||n.readyState!=="loading")e();else{var s=function(){e(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),t._reactRetry=s}}function wn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="$~"||e==="&"||e==="F!"||e==="F")break;if(e==="/$"||e==="/&")return null}}return t}var xm=null;function j_(t){t=t.nextSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"||n==="/&"){if(e===0)return wn(t.nextSibling);e--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||e++}t=t.nextSibling}return null}function k_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(e===0)return t;e--}else n!=="/$"&&n!=="/&"||e++}t=t.previousSibling}return null}function Mw(t,e,n){switch(e=Uu(n),t){case"html":if(t=e.documentElement,!t)throw Error(H(452));return t;case"head":if(t=e.head,!t)throw Error(H(453));return t;case"body":if(t=e.body,!t)throw Error(H(454));return t;default:throw Error(H(451))}}function $l(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);mp(t)}var Sn=new Map,D_=new Set;function Lu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Ds=Ce.d;Ce.d={f:cC,r:uC,D:dC,C:hC,L:fC,m:mC,X:gC,S:pC,M:yC};function cC(){var t=Ds.f(),e=Nd();return t||e}function uC(t){var e=Pa(t);e!==null&&e.tag===5&&e.type==="form"?CE(e):Ds.r(t)}var Ha=typeof document>"u"?null:document;function Vw(t,e,n){var s=Ha;if(s&&typeof e=="string"&&e){var i=yn(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),D_.has(i)||(D_.add(i),t={rel:t,crossOrigin:n,href:e},s.querySelector(i)===null&&(e=s.createElement("link"),It(e,"link",t),bt(e),s.head.appendChild(e)))}}function dC(t){Ds.D(t),Vw("dns-prefetch",t,null)}function hC(t,e){Ds.C(t,e),Vw("preconnect",t,e)}function fC(t,e,n){Ds.L(t,e,n);var s=Ha;if(s&&t&&e){var i='link[rel="preload"][as="'+yn(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+yn(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+yn(n.imageSizes)+'"]')):i+='[href="'+yn(t)+'"]';var r=i;switch(e){case"style":r=Sa(t);break;case"script":r=Fa(t)}Sn.has(r)||(t=Ke({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),Sn.set(r,t),s.querySelector(i)!==null||e==="style"&&s.querySelector(qo(r))||e==="script"&&s.querySelector(Ho(r))||(e=s.createElement("link"),It(e,"link",t),bt(e),s.head.appendChild(e)))}}function mC(t,e){Ds.m(t,e);var n=Ha;if(n&&t){var s=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+yn(s)+'"][href="'+yn(t)+'"]',r=i;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Fa(t)}if(!Sn.has(r)&&(t=Ke({rel:"modulepreload",href:t},e),Sn.set(r,t),n.querySelector(i)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ho(r)))return}s=n.createElement("link"),It(s,"link",t),bt(s),n.head.appendChild(s)}}}function pC(t,e,n){Ds.S(t,e,n);var s=Ha;if(s&&t){var i=aa(s).hoistableStyles,r=Sa(t);e=e||"default";var a=i.get(r);if(!a){var l={loading:0,preload:null};if(a=s.querySelector(qo(r)))l.loading=5;else{t=Ke({rel:"stylesheet",href:t,"data-precedence":e},n),(n=Sn.get(r))&&Zp(t,n);var c=a=s.createElement("link");bt(c),It(c,"link",t),c._p=new Promise(function(d,h){c.onload=d,c.onerror=h}),c.addEventListener("load",function(){l.loading|=1}),c.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Wc(a,e,s)}a={type:"stylesheet",instance:a,count:1,state:l},i.set(r,a)}}}function gC(t,e){Ds.X(t,e);var n=Ha;if(n&&t){var s=aa(n).hoistableScripts,i=Fa(t),r=s.get(i);r||(r=n.querySelector(Ho(i)),r||(t=Ke({src:t,async:!0},e),(e=Sn.get(i))&&eg(t,e),r=n.createElement("script"),bt(r),It(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function yC(t,e){Ds.M(t,e);var n=Ha;if(n&&t){var s=aa(n).hoistableScripts,i=Fa(t),r=s.get(i);r||(r=n.querySelector(Ho(i)),r||(t=Ke({src:t,async:!0,type:"module"},e),(e=Sn.get(i))&&eg(t,e),r=n.createElement("script"),bt(r),It(r,"link",t),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(i,r))}}function O_(t,e,n,s){var i=(i=oi.current)?Lu(i):null;if(!i)throw Error(H(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Sa(n.href),n=aa(i).hoistableStyles,s=n.get(e),s||(s={type:"style",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Sa(n.href);var r=aa(i).hoistableStyles,a=r.get(t);if(a||(i=i.ownerDocument||i,a={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(t,a),(r=i.querySelector(qo(t)))&&!r._p&&(a.instance=r,a.state.loading=5),Sn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Sn.set(t,n),r||_C(i,t,n,a.state))),e&&s===null)throw Error(H(528,""));return a}if(e&&s!==null)throw Error(H(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Fa(n),n=aa(i).hoistableScripts,s=n.get(e),s||(s={type:"script",instance:null,count:0,state:null},n.set(e,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(H(444,t))}}function Sa(t){return'href="'+yn(t)+'"'}function qo(t){return'link[rel="stylesheet"]['+t+"]"}function Uw(t){return Ke({},t,{"data-precedence":t.precedence,precedence:null})}function _C(t,e,n,s){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?s.loading=1:(e=t.createElement("link"),s.preload=e,e.addEventListener("load",function(){return s.loading|=1}),e.addEventListener("error",function(){return s.loading|=2}),It(e,"link",n),bt(e),t.head.appendChild(e))}function Fa(t){return'[src="'+yn(t)+'"]'}function Ho(t){return"script[async]"+t}function M_(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var s=t.querySelector('style[data-href~="'+yn(n.href)+'"]');if(s)return e.instance=s,bt(s),s;var i=Ke({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(t.ownerDocument||t).createElement("style"),bt(s),It(s,"style",i),Wc(s,n.precedence,t),e.instance=s;case"stylesheet":i=Sa(n.href);var r=t.querySelector(qo(i));if(r)return e.state.loading|=4,e.instance=r,bt(r),r;s=Uw(n),(i=Sn.get(i))&&Zp(s,i),r=(t.ownerDocument||t).createElement("link"),bt(r);var a=r;return a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),It(r,"link",s),e.state.loading|=4,Wc(r,n.precedence,t),e.instance=r;case"script":return r=Fa(n.src),(i=t.querySelector(Ho(r)))?(e.instance=i,bt(i),i):(s=n,(i=Sn.get(r))&&(s=Ke({},n),eg(s,i)),t=t.ownerDocument||t,i=t.createElement("script"),bt(i),It(i,"link",s),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(H(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(s=e.instance,e.state.loading|=4,Wc(s,n.precedence,t));return e.instance}function Wc(t,e,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=s.length?s[s.length-1]:null,r=i,a=0;a<s.length;a++){var l=s[a];if(l.dataset.precedence===e)r=l;else if(r!==i)break}r?r.parentNode.insertBefore(t,r.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Zp(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function eg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var Jc=null;function V_(t,e,n){if(Jc===null){var s=new Map,i=Jc=new Map;i.set(n,s)}else i=Jc,s=i.get(n),s||(s=new Map,i.set(n,s));if(s.has(t))return s;for(s.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var r=n[i];if(!(r[Vo]||r[St]||t==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var a=r.getAttribute(e)||"";a=t+a;var l=s.get(a);l?l.push(r):s.set(a,[r])}}return s}function U_(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function vC(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function Lw(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}function bC(t,e,n,s){if(n.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var i=Sa(s.href),r=e.querySelector(qo(i));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(t.count++,t=Pu.bind(t),e.then(t,t)),n.state.loading|=4,n.instance=r,bt(r);return}r=e.ownerDocument||e,s=Uw(s),(i=Sn.get(i))&&Zp(s,i),r=r.createElement("link"),bt(r);var a=r;a._p=new Promise(function(l,c){a.onload=l,a.onerror=c}),It(r,"link",s),n.instance=r}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(t.count++,n=Pu.bind(t),e.addEventListener("load",n),e.addEventListener("error",n))}}var uf=0;function xC(t,e){return t.stylesheets&&t.count===0&&Zc(t,t.stylesheets),0<t.count||0<t.imgCount?function(n){var s=setTimeout(function(){if(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4+e);0<t.imgBytes&&uf===0&&(uf=62500*tC());var i=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Zc(t,t.stylesheets),t.unsuspend)){var r=t.unsuspend;t.unsuspend=null,r()}},(t.imgBytes>uf?50:800)+e);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(s),clearTimeout(i)}}:null}function Pu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zu=null;function Zc(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zu=new Map,e.forEach(EC,t),zu=null,Pu.call(t))}function EC(t,e){if(!(e.state.loading&4)){var n=zu.get(t);if(n)var s=n.get(null);else{n=new Map,zu.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<i.length;r++){var a=i[r];(a.nodeName==="LINK"||a.getAttribute("media")!=="not all")&&(n.set(a.dataset.precedence,a),s=a)}s&&n.set(null,s)}i=e.instance,a=i.getAttribute("data-precedence"),r=n.get(a)||s,r===s&&n.set(null,i),n.set(a,i),this.count++,s=Pu.bind(this),i.addEventListener("load",s),i.addEventListener("error",s),r?r.parentNode.insertBefore(i,r.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var go={$$typeof:hs,Provider:null,Consumer:null,_currentValue:sr,_currentValue2:sr,_threadCount:0};function wC(t,e,n,s,i,r,a,l,c){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kh(0),this.hiddenUpdates=kh(null),this.identifierPrefix=s,this.onUncaughtError=i,this.onCaughtError=r,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function Pw(t,e,n,s,i,r,a,l,c,d,h,m){return t=new wC(t,e,n,a,c,d,h,m,l),e=1,r===!0&&(e|=24),r=nn(3,null,null,e),t.current=r,r.stateNode=t,e=Sp(),e.refCount++,t.pooledCache=e,e.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:e},Rp(r),t}function zw(t){return t?(t=ta,t):ta}function Bw(t,e,n,s,i,r){i=zw(i),s.context===null?s.context=i:s.pendingContext=i,s=ui(e),s.payload={element:n},r=r===void 0?null:r,r!==null&&(s.callback=r),n=di(t,s,e),n!==null&&(Xt(n,t,e),zl(n,t,e))}function L_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function tg(t,e){L_(t,e),(t=t.alternate)&&L_(t,e)}function qw(t){if(t.tag===13||t.tag===31){var e=Nr(t,67108864);e!==null&&Xt(e,t,67108864),tg(t,67108864)}}function P_(t){if(t.tag===13||t.tag===31){var e=un();e=hp(e);var n=Nr(t,e);n!==null&&Xt(n,t,e),tg(t,e)}}var Bu=!0;function TC(t,e,n,s){var i=re.T;re.T=null;var r=Ce.p;try{Ce.p=2,ng(t,e,n,s)}finally{Ce.p=r,re.T=i}}function AC(t,e,n,s){var i=re.T;re.T=null;var r=Ce.p;try{Ce.p=8,ng(t,e,n,s)}finally{Ce.p=r,re.T=i}}function ng(t,e,n,s){if(Bu){var i=Em(s);if(i===null)of(t,e,s,qu,n),z_(t,s);else if(NC(i,t,e,n,s))s.stopPropagation();else if(z_(t,s),e&4&&-1<SC.indexOf(t)){for(;i!==null;){var r=Pa(i);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var a=Ji(r.pendingLanes);if(a!==0){var l=r;for(l.pendingLanes|=2,l.entangledLanes|=2;a;){var c=1<<31-cn(a);l.entanglements[1]|=c,a&=~c}Zn(r),!(Ne&6)&&(ju=ln()+500,Bo(0))}}break;case 31:case 13:l=Nr(r,2),l!==null&&Xt(l,r,2),Nd(),tg(r,2)}if(r=Em(s),r===null&&of(t,e,s,qu,n),r===i)break;i=r}i!==null&&s.stopPropagation()}else of(t,e,s,null,n)}}function Em(t){return t=gp(t),sg(t)}var qu=null;function sg(t){if(qu=null,t=Yr(t),t!==null){var e=ko(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=ox(e),t!==null)return t;t=null}else if(n===31){if(t=cx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return qu=t,null}function Hw(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(d2()){case fx:return 2;case mx:return 8;case yu:case h2:return 32;case px:return 268435456;default:return 32}default:return 32}}var wm=!1,mi=null,pi=null,gi=null,yo=new Map,_o=new Map,Ys=[],SC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(t,e){switch(t){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":yo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_o.delete(e.pointerId)}}function El(t,e,n,s,i,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[i]},e!==null&&(e=Pa(e),e!==null&&qw(e)),t):(t.eventSystemFlags|=s,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NC(t,e,n,s,i){switch(e){case"focusin":return mi=El(mi,t,e,n,s,i),!0;case"dragenter":return pi=El(pi,t,e,n,s,i),!0;case"mouseover":return gi=El(gi,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return yo.set(r,El(yo.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,_o.set(r,El(_o.get(r)||null,t,e,n,s,i)),!0}return!1}function Fw(t){var e=Yr(t.target);if(e!==null){var n=ko(e);if(n!==null){if(e=n.tag,e===13){if(e=ox(n),e!==null){t.blockedOn=e,T0(t.priority,function(){P_(n)});return}}else if(e===31){if(e=cx(n),e!==null){t.blockedOn=e,T0(t.priority,function(){P_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Em(t.nativeEvent);if(n===null){n=t.nativeEvent;var s=new n.constructor(n.type,n);Bf=s,n.target.dispatchEvent(s),Bf=null}else return e=Pa(n),e!==null&&qw(e),t.blockedOn=n,!1;e.shift()}return!0}function B_(t,e,n){eu(t)&&n.delete(e)}function CC(){wm=!1,mi!==null&&eu(mi)&&(mi=null),pi!==null&&eu(pi)&&(pi=null),gi!==null&&eu(gi)&&(gi=null),yo.forEach(B_),_o.forEach(B_)}function Rc(t,e){t.blockedOn===e&&(t.blockedOn=null,wm||(wm=!0,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,CC)))}var Ic=null;function q_(t){Ic!==t&&(Ic=t,gt.unstable_scheduleCallback(gt.unstable_NormalPriority,function(){Ic===t&&(Ic=null);for(var e=0;e<t.length;e+=3){var n=t[e],s=t[e+1],i=t[e+2];if(typeof s!="function"){if(sg(s||n)===null)continue;break}var r=Pa(n);r!==null&&(t.splice(e,3),e-=3,sm(r,{pending:!0,data:i,method:n.method,action:s},s,i))}}))}function Na(t){function e(c){return Rc(c,t)}mi!==null&&Rc(mi,t),pi!==null&&Rc(pi,t),gi!==null&&Rc(gi,t),yo.forEach(e),_o.forEach(e);for(var n=0;n<Ys.length;n++){var s=Ys[n];s.blockedOn===t&&(s.blockedOn=null)}for(;0<Ys.length&&(n=Ys[0],n.blockedOn===null);)Fw(n),n.blockedOn===null&&Ys.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var i=n[s],r=n[s+1],a=i[Wt]||null;if(typeof r=="function")a||q_(n);else if(a){var l=null;if(r&&r.hasAttribute("formAction")){if(i=r,a=r[Wt]||null)l=a.formAction;else if(sg(i)!==null)continue}else l=a.action;typeof l=="function"?n[s+1]=l:(n.splice(s,3),s-=3),q_(n)}}}function Gw(){function t(r){r.canIntercept&&r.info==="react-transition"&&r.intercept({handler:function(){return new Promise(function(a){return i=a})},focusReset:"manual",scroll:"manual"})}function e(){i!==null&&(i(),i=null),s||setTimeout(n,20)}function n(){if(!s&&!navigation.transition){var r=navigation.currentEntry;r&&r.url!=null&&navigation.navigate(r.url,{state:r.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,i=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",e),navigation.addEventListener("navigateerror",e),setTimeout(n,100),function(){s=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",e),navigation.removeEventListener("navigateerror",e),i!==null&&(i(),i=null)}}}function ig(t){this._internalRoot=t}Id.prototype.render=ig.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));var n=e.current,s=un();Bw(n,s,t,e,null,null)};Id.prototype.unmount=ig.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Bw(t.current,2,null,t,null,null),Nd(),e[La]=null}};function Id(t){this._internalRoot=t}Id.prototype.unstable_scheduleHydration=function(t){if(t){var e=bx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ys.length&&e!==0&&e<Ys[n].priority;n++);Ys.splice(n,0,t),n===0&&Fw(t)}};var H_=ax.version;if(H_!=="19.2.0")throw Error(H(527,H_,"19.2.0"));Ce.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=i2(e),t=t!==null?ux(t):null,t=t===null?null:t.stateNode,t};var RC={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jc.isDisabled&&jc.supportsFiber)try{Do=jc.inject(RC),on=jc}catch{}}fd.createRoot=function(t,e){if(!lx(t))throw Error(H(299));var n=!1,s="",i=VE,r=UE,a=LE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(s=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(r=e.onCaughtError),e.onRecoverableError!==void 0&&(a=e.onRecoverableError)),e=Pw(t,1,!1,null,null,n,s,null,i,r,a,Gw),t[La]=e.current,Jp(t),new ig(e)};fd.hydrateRoot=function(t,e,n){if(!lx(t))throw Error(H(299));var s=!1,i="",r=VE,a=UE,l=LE,c=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(a=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.formState!==void 0&&(c=n.formState)),e=Pw(t,1,!0,e,n??null,s,i,c,r,a,l,Gw),e.context=zw(null),n=e.current,s=un(),s=hp(s),i=ui(s),i.callback=null,di(n,i,s),n=s,e.current.lanes=n,Mo(e,n),Zn(e),t[La]=e.current,Jp(t),new Id(e)};fd.version="19.2.0";function Kw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kw)}catch(t){console.error(t)}}Kw(),ex.exports=fd;var IC=ex.exports;const jC=Fb(IC);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vo(){return vo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},vo.apply(this,arguments)}var ai;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ai||(ai={}));const F_="popstate";function kC(t){t===void 0&&(t={});function e(s,i){let{pathname:r,search:a,hash:l}=s.location;return Tm("",{pathname:r,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){return typeof i=="string"?i:Hu(i)}return OC(e,n,null,t)}function Ye(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Qw(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function DC(){return Math.random().toString(36).substr(2,8)}function G_(t,e){return{usr:t.state,key:t.key,idx:e}}function Tm(t,e,n,s){return n===void 0&&(n=null),vo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ga(e):e,{state:n,key:e&&e.key||s||DC()})}function Hu(t){let{pathname:e="/",search:n="",hash:s=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ga(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substr(s),t=t.substr(0,s)),t&&(e.pathname=t)}return e}function OC(t,e,n,s){s===void 0&&(s={});let{window:i=document.defaultView,v5Compat:r=!1}=s,a=i.history,l=ai.Pop,c=null,d=h();d==null&&(d=0,a.replaceState(vo({},a.state,{idx:d}),""));function h(){return(a.state||{idx:null}).idx}function m(){l=ai.Pop;let D=h(),T=D==null?null:D-d;d=D,c&&c({action:l,location:j.location,delta:T})}function p(D,T){l=ai.Push;let b=Tm(j.location,D,T);d=h()+1;let x=G_(b,d),k=j.createHref(b);try{a.pushState(x,"",k)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;i.location.assign(k)}r&&c&&c({action:l,location:j.location,delta:1})}function y(D,T){l=ai.Replace;let b=Tm(j.location,D,T);d=h();let x=G_(b,d),k=j.createHref(b);a.replaceState(x,"",k),r&&c&&c({action:l,location:j.location,delta:0})}function C(D){let T=i.location.origin!=="null"?i.location.origin:i.location.href,b=typeof D=="string"?D:Hu(D);return b=b.replace(/ $/,"%20"),Ye(T,"No window.location.(origin|href) available to create URL for href: "+b),new URL(b,T)}let j={get action(){return l},get location(){return t(i,a)},listen(D){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(F_,m),c=D,()=>{i.removeEventListener(F_,m),c=null}},createHref(D){return e(i,D)},createURL:C,encodeLocation(D){let T=C(D);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:y,go(D){return a.go(D)}};return j}var K_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(K_||(K_={}));function MC(t,e,n){return n===void 0&&(n="/"),VC(t,e,n)}function VC(t,e,n,s){let i=typeof e=="string"?Ga(e):e,r=Ca(i.pathname||"/",n);if(r==null)return null;let a=$w(t);UC(a);let l=null;for(let c=0;l==null&&c<a.length;++c){let d=$C(r);l=KC(a[c],d)}return l}function $w(t,e,n,s){e===void 0&&(e=[]),n===void 0&&(n=[]),s===void 0&&(s="");let i=(r,a,l)=>{let c={relativePath:l===void 0?r.path||"":l,caseSensitive:r.caseSensitive===!0,childrenIndex:a,route:r};c.relativePath.startsWith("/")&&(Ye(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let d=yi([s,c.relativePath]),h=n.concat(c);r.children&&r.children.length>0&&(Ye(r.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),$w(r.children,e,h,d)),!(r.path==null&&!r.index)&&e.push({path:d,score:FC(d,r.index),routesMeta:h})};return t.forEach((r,a)=>{var l;if(r.path===""||!((l=r.path)!=null&&l.includes("?")))i(r,a);else for(let c of Yw(r.path))i(r,a,c)}),e}function Yw(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,i=n.endsWith("?"),r=n.replace(/\?$/,"");if(s.length===0)return i?[r,""]:[r];let a=Yw(s.join("/")),l=[];return l.push(...a.map(c=>c===""?r:[r,c].join("/"))),i&&l.push(...a),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function UC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:GC(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const LC=/^:[\w-]+$/,PC=3,zC=2,BC=1,qC=10,HC=-2,Q_=t=>t==="*";function FC(t,e){let n=t.split("/"),s=n.length;return n.some(Q_)&&(s+=HC),e&&(s+=zC),n.filter(i=>!Q_(i)).reduce((i,r)=>i+(LC.test(r)?PC:r===""?BC:qC),s)}function GC(t,e){return t.length===e.length&&t.slice(0,-1).every((s,i)=>s===e[i])?t[t.length-1]-e[e.length-1]:0}function KC(t,e,n){let{routesMeta:s}=t,i={},r="/",a=[];for(let l=0;l<s.length;++l){let c=s[l],d=l===s.length-1,h=r==="/"?e:e.slice(r.length)||"/",m=Am({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:yi([r,m.pathname]),pathnameBase:JC(yi([r,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(r=yi([r,m.pathnameBase]))}return a}function Am(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=QC(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let r=i[0],a=r.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:s.reduce((d,h,m)=>{let{paramName:p,isOptional:y}=h;if(p==="*"){let j=l[m]||"";a=r.slice(0,r.length-j.length).replace(/(.)\/+$/,"$1")}const C=l[m];return y&&!C?d[p]=void 0:d[p]=(C||"").replace(/%2F/g,"/"),d},{}),pathname:r,pathnameBase:a,pattern:t}}function QC(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Qw(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let s=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,l,c)=>(s.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(s.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),s]}function $C(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qw(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ca(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}function YC(t,e){e===void 0&&(e="/");let{pathname:n,search:s="",hash:i=""}=typeof t=="string"?Ga(t):t;return{pathname:n?n.startsWith("/")?n:XC(n,e):e,search:ZC(s),hash:eR(i)}}function XC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function df(t,e,n,s){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function WC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rg(t,e){let n=WC(t);return e?n.map((s,i)=>i===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function ag(t,e,n,s){s===void 0&&(s=!1);let i;typeof t=="string"?i=Ga(t):(i=vo({},t),Ye(!i.pathname||!i.pathname.includes("?"),df("?","pathname","search",i)),Ye(!i.pathname||!i.pathname.includes("#"),df("#","pathname","hash",i)),Ye(!i.search||!i.search.includes("#"),df("#","search","hash",i)));let r=t===""||i.pathname==="",a=r?"/":i.pathname,l;if(a==null)l=n;else{let m=e.length-1;if(!s&&a.startsWith("..")){let p=a.split("/");for(;p[0]==="..";)p.shift(),m-=1;i.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=YC(i,l),d=a&&a!=="/"&&a.endsWith("/"),h=(r||a===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const yi=t=>t.join("/").replace(/\/\/+/g,"/"),JC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ZC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Xw=["post","put","patch","delete"];new Set(Xw);const nR=["get",...Xw];new Set(nR);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bo(){return bo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},bo.apply(this,arguments)}const jd=A.createContext(null),Ww=A.createContext(null),Os=A.createContext(null),kd=A.createContext(null),es=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Jw=A.createContext(null);function sR(t,e){let{relative:n}=e===void 0?{}:e;Ka()||Ye(!1);let{basename:s,navigator:i}=A.useContext(Os),{hash:r,pathname:a,search:l}=Dd(t,{relative:n}),c=a;return s!=="/"&&(c=a==="/"?s:yi([s,a])),i.createHref({pathname:c,search:l,hash:r})}function Ka(){return A.useContext(kd)!=null}function Rr(){return Ka()||Ye(!1),A.useContext(kd).location}function Zw(t){A.useContext(Os).static||A.useLayoutEffect(t)}function ts(){let{isDataRoute:t}=A.useContext(es);return t?_R():iR()}function iR(){Ka()||Ye(!1);let t=A.useContext(jd),{basename:e,future:n,navigator:s}=A.useContext(Os),{matches:i}=A.useContext(es),{pathname:r}=Rr(),a=JSON.stringify(rg(i,n.v7_relativeSplatPath)),l=A.useRef(!1);return Zw(()=>{l.current=!0}),A.useCallback(function(d,h){if(h===void 0&&(h={}),!l.current)return;if(typeof d=="number"){s.go(d);return}let m=ag(d,JSON.parse(a),r,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:yi([e,m.pathname])),(h.replace?s.replace:s.push)(m,h.state,h)},[e,s,a,r,t])}const eT=A.createContext(null);function Li(){return A.useContext(eT)}function rR(t){let e=A.useContext(es).outlet;return e&&A.createElement(eT.Provider,{value:t},e)}function aR(){let{matches:t}=A.useContext(es),e=t[t.length-1];return e?e.params:{}}function Dd(t,e){let{relative:n}=e===void 0?{}:e,{future:s}=A.useContext(Os),{matches:i}=A.useContext(es),{pathname:r}=Rr(),a=JSON.stringify(rg(i,s.v7_relativeSplatPath));return A.useMemo(()=>ag(t,JSON.parse(a),r,n==="path"),[t,a,r,n])}function lR(t,e){return oR(t,e)}function oR(t,e,n,s){Ka()||Ye(!1);let{navigator:i}=A.useContext(Os),{matches:r}=A.useContext(es),a=r[r.length-1],l=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=Rr(),h;if(e){var m;let D=typeof e=="string"?Ga(e):e;c==="/"||(m=D.pathname)!=null&&m.startsWith(c)||Ye(!1),h=D}else h=d;let p=h.pathname||"/",y=p;if(c!=="/"){let D=c.replace(/^\//,"").split("/");y="/"+p.replace(/^\//,"").split("/").slice(D.length).join("/")}let C=MC(t,{pathname:y}),j=fR(C&&C.map(D=>Object.assign({},D,{params:Object.assign({},l,D.params),pathname:yi([c,i.encodeLocation?i.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?c:yi([c,i.encodeLocation?i.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),r,n,s);return e&&j?A.createElement(kd.Provider,{value:{location:bo({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ai.Pop}},j):j}function cR(){let t=yR(),e=tR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),n?A.createElement("pre",{style:i},n):null,null)}const uR=A.createElement(cR,null);class dR extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?A.createElement(es.Provider,{value:this.props.routeContext},A.createElement(Jw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hR(t){let{routeContext:e,match:n,children:s}=t,i=A.useContext(jd);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),A.createElement(es.Provider,{value:e},s)}function fR(t,e,n,s){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),s===void 0&&(s=null),t==null){var r;if(!n)return null;if(n.errors)t=n.matches;else if((r=s)!=null&&r.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=(i=n)==null?void 0:i.errors;if(l!=null){let h=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);h>=0||Ye(!1),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,d=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<a.length;h++){let m=a[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=h),m.route.id){let{loaderData:p,errors:y}=n,C=m.route.loader&&p[m.route.id]===void 0&&(!y||y[m.route.id]===void 0);if(m.route.lazy||C){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((h,m,p)=>{let y,C=!1,j=null,D=null;n&&(y=l&&m.route.id?l[m.route.id]:void 0,j=m.route.errorElement||uR,c&&(d<0&&p===0?(vR("route-fallback"),C=!0,D=null):d===p&&(C=!0,D=m.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,p+1)),b=()=>{let x;return y?x=j:C?x=D:m.route.Component?x=A.createElement(m.route.Component,null):m.route.element?x=m.route.element:x=h,A.createElement(hR,{match:m,routeContext:{outlet:h,matches:T,isDataRoute:n!=null},children:x})};return n&&(m.route.ErrorBoundary||m.route.errorElement||p===0)?A.createElement(dR,{location:n.location,revalidation:n.revalidation,component:j,error:y,children:b(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):b()},null)}var tT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(tT||{}),nT=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(nT||{});function mR(t){let e=A.useContext(jd);return e||Ye(!1),e}function pR(t){let e=A.useContext(Ww);return e||Ye(!1),e}function gR(t){let e=A.useContext(es);return e||Ye(!1),e}function sT(t){let e=gR(),n=e.matches[e.matches.length-1];return n.route.id||Ye(!1),n.route.id}function yR(){var t;let e=A.useContext(Jw),n=pR(),s=sT();return e!==void 0?e:(t=n.errors)==null?void 0:t[s]}function _R(){let{router:t}=mR(tT.UseNavigateStable),e=sT(nT.UseNavigateStable),n=A.useRef(!1);return Zw(()=>{n.current=!0}),A.useCallback(function(i,r){r===void 0&&(r={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,bo({fromRouteId:e},r)))},[t,e])}const $_={};function vR(t,e,n){$_[t]||($_[t]=!0)}function bR(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function os(t){let{to:e,replace:n,state:s,relative:i}=t;Ka()||Ye(!1);let{future:r,static:a}=A.useContext(Os),{matches:l}=A.useContext(es),{pathname:c}=Rr(),d=ts(),h=ag(e,rg(l,r.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(h);return A.useEffect(()=>d(JSON.parse(m),{replace:n,state:s,relative:i}),[d,m,i,n,s]),null}function lg(t){return rR(t.context)}function Ie(t){Ye(!1)}function xR(t){let{basename:e="/",children:n=null,location:s,navigationType:i=ai.Pop,navigator:r,static:a=!1,future:l}=t;Ka()&&Ye(!1);let c=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:r,static:a,future:bo({v7_relativeSplatPath:!1},l)}),[c,l,r,a]);typeof s=="string"&&(s=Ga(s));let{pathname:h="/",search:m="",hash:p="",state:y=null,key:C="default"}=s,j=A.useMemo(()=>{let D=Ca(h,c);return D==null?null:{location:{pathname:D,search:m,hash:p,state:y,key:C},navigationType:i}},[c,h,m,p,y,C,i]);return j==null?null:A.createElement(Os.Provider,{value:d},A.createElement(kd.Provider,{children:n,value:j}))}function ER(t){let{children:e,location:n}=t;return lR(Sm(e),n)}new Promise(()=>{});function Sm(t,e){e===void 0&&(e=[]);let n=[];return A.Children.forEach(t,(s,i)=>{if(!A.isValidElement(s))return;let r=[...e,i];if(s.type===A.Fragment){n.push.apply(n,Sm(s.props.children,r));return}s.type!==Ie&&Ye(!1),!s.props.index||!s.props.children||Ye(!1);let a={id:s.props.id||r.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(a.children=Sm(s.props.children,r)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fu(){return Fu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Fu.apply(this,arguments)}function iT(t,e){if(t==null)return{};var n={},s=Object.keys(t),i,r;for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function wR(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TR(t,e){return t.button===0&&(!e||e==="_self")&&!wR(t)}const AR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],SR=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],NR="6";try{window.__reactRouterVersion=NR}catch{}const CR=A.createContext({isTransitioning:!1}),RR="startTransition",Y_=WS[RR];function IR(t){let{basename:e,children:n,future:s,window:i}=t,r=A.useRef();r.current==null&&(r.current=kC({window:i,v5Compat:!0}));let a=r.current,[l,c]=A.useState({action:a.action,location:a.location}),{v7_startTransition:d}=s||{},h=A.useCallback(m=>{d&&Y_?Y_(()=>c(m)):c(m)},[c,d]);return A.useLayoutEffect(()=>a.listen(h),[a,h]),A.useEffect(()=>bR(s),[s]),A.createElement(xR,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a,future:s})}const jR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yl=A.forwardRef(function(e,n){let{onClick:s,relative:i,reloadDocument:r,replace:a,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m}=e,p=iT(e,AR),{basename:y}=A.useContext(Os),C,j=!1;if(typeof d=="string"&&kR.test(d)&&(C=d,jR))try{let x=new URL(window.location.href),k=d.startsWith("//")?new URL(x.protocol+d):new URL(d),U=Ca(k.pathname,y);k.origin===x.origin&&U!=null?d=U+k.search+k.hash:j=!0}catch{}let D=sR(d,{relative:i}),T=MR(d,{replace:a,state:l,target:c,preventScrollReset:h,relative:i,viewTransition:m});function b(x){s&&s(x),x.defaultPrevented||T(x)}return A.createElement("a",Fu({},p,{href:C||D,onClick:j||r?s:b,ref:n,target:c}))}),DR=A.forwardRef(function(e,n){let{"aria-current":s="page",caseSensitive:i=!1,className:r="",end:a=!1,style:l,to:c,viewTransition:d,children:h}=e,m=iT(e,SR),p=Dd(c,{relative:m.relative}),y=Rr(),C=A.useContext(Ww),{navigator:j,basename:D}=A.useContext(Os),T=C!=null&&VR(p)&&d===!0,b=j.encodeLocation?j.encodeLocation(p).pathname:p.pathname,x=y.pathname,k=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;i||(x=x.toLowerCase(),k=k?k.toLowerCase():null,b=b.toLowerCase()),k&&D&&(k=Ca(k,D)||k);const U=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let z=x===b||!a&&x.startsWith(b)&&x.charAt(U)==="/",w=k!=null&&(k===b||!a&&k.startsWith(b)&&k.charAt(b.length)==="/"),_={isActive:z,isPending:w,isTransitioning:T},v=z?s:void 0,S;typeof r=="function"?S=r(_):S=[r,z?"active":null,w?"pending":null,T?"transitioning":null].filter(Boolean).join(" ");let R=typeof l=="function"?l(_):l;return A.createElement(Yl,Fu({},m,{"aria-current":v,className:S,ref:n,style:R,to:c,viewTransition:d}),typeof h=="function"?h(_):h)});var Nm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Nm||(Nm={}));var X_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(X_||(X_={}));function OR(t){let e=A.useContext(jd);return e||Ye(!1),e}function MR(t,e){let{target:n,replace:s,state:i,preventScrollReset:r,relative:a,viewTransition:l}=e===void 0?{}:e,c=ts(),d=Rr(),h=Dd(t,{relative:a});return A.useCallback(m=>{if(TR(m,n)){m.preventDefault();let p=s!==void 0?s:Hu(d)===Hu(h);c(t,{replace:p,state:i,preventScrollReset:r,relative:a,viewTransition:l})}},[d,c,h,s,i,n,t,r,a,l])}function VR(t,e){e===void 0&&(e={});let n=A.useContext(CR);n==null&&Ye(!1);let{basename:s}=OR(Nm.useViewTransitionState),i=Dd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let r=Ca(n.currentLocation.pathname,s)||n.currentLocation.pathname,a=Ca(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Am(i.pathname,a)!=null||Am(i.pathname,r)!=null}function rT(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=rT(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Ss(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=rT(t))&&(s&&(s+=" "),s+=e);return s}const og=({sidebar:t,topbar:e,children:n})=>{const[s,i]=A.useState(!1);return u.jsxs("div",{className:"min-h-screen bg-transparent text-slate-900",children:[u.jsxs("div",{className:"lg:grid lg:grid-cols-[320px,1fr]",children:[u.jsx("div",{className:Ss("fixed inset-y-0 left-0 z-40 w-80 max-w-full transform bg-white shadow-xl transition-transform duration-300 lg:sticky lg:top-0 lg:h-screen lg:overflow-y-auto lg:translate-x-0 lg:shadow-none lg:transform-none",s?"translate-x-0":"-translate-x-full lg:translate-x-0"),children:t?fu.cloneElement(t,{onNavigate:(...r)=>{var a,l;(l=(a=t.props).onNavigate)==null||l.call(a,...r),i(!1)}}):null}),u.jsxs("div",{className:"flex min-h-screen flex-col lg:col-start-2",children:[e?fu.cloneElement(e,{onToggleSidebar:()=>i(r=>!r)}):null,u.jsx("main",{className:"flex-1 px-4 pb-10 pt-6 sm:px-6 lg:px-10",children:u.jsx("div",{className:"mx-auto w-full max-w-7xl space-y-8",children:n})})]})]}),s?u.jsx("div",{className:"fixed inset-0 z-30 bg-slate-900/40 lg:hidden",onClick:()=>i(!1)}):null]})},cg=({header:t,navItems:e=[],footer:n,onNavigate:s})=>u.jsxs("aside",{className:"flex h-full w-80 max-w-full flex-col bg-white shadow-lg lg:h-screen",children:[u.jsx("div",{className:"px-6 pb-4 pt-6 border-b border-slate-100",children:t||u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-500",children:"EVC Portal"}),u.jsx("h1",{className:"mt-1 text-xl font-semibold text-slate-900",children:"Coaching Suite"})]})}),u.jsx("nav",{className:"flex-1 overflow-y-auto px-3 py-4",children:u.jsx("ul",{className:"flex flex-col gap-1",children:e.map(i=>{const r=i.icon;return u.jsx("li",{children:u.jsxs(DR,{to:i.to,end:i.end,onClick:()=>s==null?void 0:s(i),className:({isActive:a})=>Ss("group flex items-center rounded-lg px-3 py-2 text-sm font-medium transition-colors",a?"bg-brand-50 text-brand-700":"text-slate-600 hover:bg-slate-100 hover:text-slate-900"),children:[r?u.jsx(r,{className:"mr-3 h-4 w-4 flex-none text-slate-400 group-hover:text-brand-600"}):null,u.jsx("span",{className:"truncate",children:i.label}),i.badge?u.jsx("span",{className:"ml-auto inline-flex items-center rounded-full bg-brand-100 px-2 py-0.5 text-xs font-semibold text-brand-700",children:i.badge}):null]})},i.to)})})}),n?u.jsx("div",{className:"border-t border-slate-100 p-4",children:n}):null]});/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UR=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),aT=(...t)=>t.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=A.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:r,iconNode:a,...l},c)=>A.createElement("svg",{ref:c,...LR,width:e,height:e,stroke:t,strokeWidth:s?Number(n)*24/Number(e):n,className:aT("lucide",i),...l},[...a.map(([d,h])=>A.createElement(d,h)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(t,e)=>{const n=A.forwardRef(({className:s,...i},r)=>A.createElement(PR,{ref:r,iconNode:e,className:aT(`lucide-${UR(t)}`,s),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zR=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],W_=Ae("ArrowLeft",zR);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BR=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],tu=Ae("ArrowRight",BR);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qR=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],HR=Ae("CalendarCheck",qR);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FR=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lT=Ae("ChevronDown",FR);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GR=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],KR=Ae("ChevronUp",GR);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],or=Ae("CircleCheck",QR);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $R=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],YR=Ae("CircleX",$R);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XR=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],WR=Ae("ClipboardList",XR);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JR=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ZR=Ae("Clock",JR);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],tI=Ae("FileSpreadsheet",eI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],oT=Ae("FileText",nI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M16 10h2",key:"8sgtl7"}],["path",{d:"M16 14h2",key:"epxaof"}],["path",{d:"M6.17 15a3 3 0 0 1 5.66 0",key:"n6f512"}],["circle",{cx:"9",cy:"11",r:"2",key:"yxgjnd"}],["rect",{x:"2",y:"5",width:"20",height:"14",rx:"2",key:"qneu4z"}]],cT=Ae("IdCard",sI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iI=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ug=Ae("LayoutDashboard",iI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],hf=Ae("LoaderCircle",rI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aI=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Cm=Ae("LogIn",aI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],J_=Ae("LogOut",lI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oI=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],cI=Ae("Mail",oI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],uT=Ae("Menu",uI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],hI=Ae("MessageCircle",dI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],mI=Ae("MessageSquare",fI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],Z_=Ae("Paperclip",pI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ev=Ae("Plus",gI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],_I=Ae("RefreshCcw",yI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bI=Ae("Save",vI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xI=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],EI=Ae("Search",xI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],TI=Ae("Send",wI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],SI=Ae("ShieldAlert",AI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CI=Ae("ShieldCheck",NI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]],II=Ae("ShieldQuestion",RI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tv=Ae("Shield",jI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Rm=Ae("Trash2",kI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],OI=Ae("TriangleAlert",DI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],dT=Ae("UserPlus",MI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Fo=Ae("Users",VI);/**
 * @license lucide-react v0.473.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],LI=Ae("X",UI),PI=({className:t=""})=>u.jsx("svg",{className:Ss("h-6 w-auto",t),viewBox:"0 0 120 32","aria-hidden":"true",focusable:"false",children:u.jsxs("g",{fill:"currentColor",children:[u.jsx("path",{d:"M0 2h19.5v4H4.8v6h12.6v4H4.8v6h15v4H0z"}),u.jsx("path",{d:"M25.4 2h6.2l8 20.1L47.7 2h6.2L40 30h-4z"}),u.jsx("path",{d:"M59 0.7c10.6 0 18.7 7.4 18.7 15.3 0 8-8.1 15.3-18.7 15.3-9 0-17.5-6.2-18.5-14.5h7.4c1 4.2 5.8 8 11 8 6.4 0 11.6-4.5 11.6-8.8 0-4.4-5.2-8.9-11.6-8.9-5.2 0-10 3.7-11 8H40.5c1-8.2 9.5-14.4 18.5-14.4z"}),u.jsx("path",{d:"M85.4 7.4c3.5-3.5 8.5-5.6 13.9-5.6 9.5 0 17.2 6.4 17.2 15.3 0 8.7-7.5 15.3-17.2 15.3-7.4 0-12.8-3.5-15.7-9.2l6.6-3c1.7 3.3 4.7 5.2 9.2 5.2 6.1 0 10.3-4.3 10.3-8.3 0-4.3-3.9-8.4-10.3-8.4-3.4 0-6.5 1.3-8.6 3.5l-3.7-2.7.3-.3z"}),u.jsx("circle",{cx:"114",cy:"5",r:"4"})]})}),nv={light:{wrapper:"bg-evc-blue-600 text-white",hover:"hover:bg-evc-blue-500",border:"border-evc-blue-400/30"},dark:{wrapper:"bg-white text-evc-blue-600",hover:"hover:bg-white/90",border:"border-white/40"}},Go=({to:t="/",className:e="",tone:n="light"})=>{const s=nv[n]??nv.light;return u.jsxs(Yl,{to:t,className:Ss("inline-flex items-center gap-2 transition",e),"aria-label":"Ga naar de EVC GO homepage",children:[u.jsx("span",{className:Ss("inline-flex items-center justify-center rounded-2xl border px-3 py-2 shadow-sm",s.wrapper,s.hover,s.border),children:u.jsx(PI,{})}),u.jsx("span",{className:"sr-only",children:"EVC GO"})]})},dg=({title:t,user:e,children:n,onToggleSidebar:s,rightSlot:i})=>{var r;return u.jsxs("header",{className:"sticky top-0 z-20 flex items-center justify-between bg-white/85 px-4 py-3 backdrop-blur supports-[backdrop-filter]:bg-white/70 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{type:"button",onClick:s,className:"flex h-10 w-10 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition hover:bg-slate-100 lg:hidden",children:[u.jsx(uT,{className:"h-5 w-5"}),u.jsx("span",{className:"sr-only",children:"Toggle navigation"})]}),u.jsx(Go,{className:"inline-flex shrink-0"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:(e==null?void 0:e.role)??"Portal"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:t})]}),n]}),u.jsxs("div",{className:"flex items-center gap-4",children:[i,e?u.jsxs("div",{className:"flex items-center gap-3 rounded-full bg-slate-100/60 px-3 py-2 text-sm",children:[u.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-full bg-brand-100 font-semibold text-brand-700",children:e.initials||((r=e.name)==null?void 0:r.split(" ").map(a=>a[0]).join("").slice(0,2).toUpperCase())||"EV"}),u.jsxs("div",{className:"hidden sm:block",children:[u.jsx("p",{className:"font-medium text-slate-900",children:e.name}),u.jsx("p",{className:"text-xs text-slate-500",children:e.subtitle})]})]}):null]})]})},zI="http://localhost:5000";function BI(){const t=localStorage.getItem("token");return t?{Authorization:"Bearer "+t}:{}}async function Od(t,e={}){const{method:n="GET",headers:s={},body:i,isForm:r=!1}=e,a={method:n,headers:{...s,...BI()}};i!==void 0&&(r?a.body=i:(a.headers["Content-Type"]="application/json",a.body=typeof i=="string"?i:JSON.stringify(i)));const l=await fetch(`${zI}${t}`,a);let c;if((l.headers.get("content-type")||"").includes("application/json"))try{c=await l.json()}catch{c=null}else c=await l.text().catch(()=>null);if(!l.ok){const h=new Error(c&&c.error||l.statusText||"Request failed");throw h.status=l.status,h.data=c,h}return c}const Ns=(t,e)=>Od(t,{method:"GET",headers:e}),Ko=(t,e,n)=>Od(t,{method:"POST",body:e,headers:n}),hT=(t,e,n)=>Od(t,{method:"PUT",body:e,headers:n}),qI=(t,e,n)=>Od(t,{method:"POST",body:e,headers:n,isForm:!0}),HI=()=>{};var sv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},FI=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],a=t[n++],l=t[n++],c=((i&7)<<18|(r&63)<<12|(a&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(c>>10)),e[s++]=String.fromCharCode(56320+(c&1023))}else{const r=t[n++],a=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|a&63)}}return e.join("")},mT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],a=i+1<t.length,l=a?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=r>>2,m=(r&3)<<4|l>>4;let p=(l&15)<<2|d>>6,y=d&63;c||(y=64,a||(p=64)),s.push(n[h],n[m],n[p],n[y])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(fT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):FI(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||d==null||m==null)throw new GI;const p=r<<2|l>>4;if(s.push(p),d!==64){const y=l<<4&240|d>>2;if(s.push(y),m!==64){const C=d<<6&192|m;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KI=function(t){const e=fT(t);return mT.encodeByteArray(e,!0)},Gu=function(t){return KI(t).replace(/\./g,"")},pT=function(t){try{return mT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=()=>QI().__FIREBASE_DEFAULTS__,YI=()=>{if(typeof process>"u"||typeof sv>"u")return;const t=sv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},XI=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&pT(t[1]);return e&&JSON.parse(e)},Md=()=>{try{return HI()||$I()||YI()||XI()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},gT=t=>{var e,n;return(n=(e=Md())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},yT=t=>{const e=gT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},_T=()=>{var t;return(t=Md())==null?void 0:t.config},vT=t=>{var e;return(e=Md())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pi(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Gu(JSON.stringify(n)),Gu(JSON.stringify(a)),""].join(".")}const Xl={};function JI(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xl))Xl[e]?t.emulator.push(e):t.prod.push(e);return t}function ZI(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let iv=!1;function fg(t,e){if(typeof window>"u"||typeof document>"u"||!Pi(window.location.host)||Xl[t]===e||Xl[t]||iv)return;Xl[t]=e;function n(p){return`__firebase__banner__${p}`}const s="__firebase__banner",r=JI().prod.length>0;function a(){const p=document.getElementById(s);p&&p.remove()}function l(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,y){p.setAttribute("width","24"),p.setAttribute("id",y),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{iv=!0,a()},p}function h(p,y){p.setAttribute("id",y),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function m(){const p=ZI(s),y=n("text"),C=document.getElementById(y)||document.createElement("span"),j=n("learnmore"),D=document.getElementById(j)||document.createElement("a"),T=n("preprendIcon"),b=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const x=p.element;l(x),h(D,j);const k=d();c(b,T),x.append(b,C,D,k),document.body.appendChild(x)}r?(C.innerText="Preview backend disconnected.",b.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(b.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ej(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ut())}function tj(){var e;const t=(e=Md())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nj(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function sj(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ij(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rj(){const t=Ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aj(){return!tj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lj(){try{return typeof indexedDB=="object"}catch{return!1}}function oj(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)==null?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cj="FirebaseError";class ns extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=cj,Object.setPrototypeOf(this,ns.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qo.prototype.create)}}class Qo{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],a=r?uj(r,s):"Error",l=`${this.serviceName}: ${a} (${i}).`;return new ns(i,l,s)}}function uj(t,e){return t.replace(dj,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const dj=/\{\$([^}]+)}/g;function hj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _r(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],a=e[i];if(rv(r)&&rv(a)){if(!_r(r,a))return!1}else if(r!==a)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function rv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Rl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function Il(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fj(t,e){const n=new mj(t,e);return n.subscribe.bind(n)}class mj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");pj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=ff),i.error===void 0&&(i.error=ff),i.complete===void 0&&(i.complete=ff);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pj(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ff(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(t){return t&&t._delegate?t._delegate:t}class Ni{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new WI;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_j(e))try{this.getOrInitializeService({instanceIdentifier:tr})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=tr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=tr){return this.instances.has(e)}getOptions(e=tr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&a.resolve(i)}return i}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(s)??new Set;i.add(e),this.onInitCallbacks.set(s,i);const r=this.instances.get(s);return r&&e(r,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yj(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=tr){return this.component?this.component.multipleInstances?e:tr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yj(t){return t===tr?void 0:t}function _j(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new gj(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var be;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(be||(be={}));const bj={debug:be.DEBUG,verbose:be.VERBOSE,info:be.INFO,warn:be.WARN,error:be.ERROR,silent:be.SILENT},xj=be.INFO,Ej={[be.DEBUG]:"log",[be.VERBOSE]:"log",[be.INFO]:"info",[be.WARN]:"warn",[be.ERROR]:"error"},wj=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=Ej[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mg{constructor(e){this.name=e,this._logLevel=xj,this._logHandler=wj,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in be))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,be.DEBUG,...e),this._logHandler(this,be.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,be.VERBOSE,...e),this._logHandler(this,be.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,be.INFO,...e),this._logHandler(this,be.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,be.WARN,...e),this._logHandler(this,be.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,be.ERROR,...e),this._logHandler(this,be.ERROR,...e)}}const Tj=(t,e)=>e.some(n=>t instanceof n);let av,lv;function Aj(){return av||(av=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Sj(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xT=new WeakMap,Im=new WeakMap,ET=new WeakMap,mf=new WeakMap,pg=new WeakMap;function Nj(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",a)},r=()=>{n(_i(t.result)),i()},a=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&xT.set(n,t)}).catch(()=>{}),pg.set(e,t),e}function Cj(t){if(Im.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",a),t.removeEventListener("abort",a)},r=()=>{n(),i()},a=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",a),t.addEventListener("abort",a)});Im.set(t,e)}let jm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Im.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ET.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return _i(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rj(t){jm=t(jm)}function Ij(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(pf(this),e,...n);return ET.set(s,e.sort?e.sort():[e]),_i(s)}:Sj().includes(t)?function(...e){return t.apply(pf(this),e),_i(xT.get(this))}:function(...e){return _i(t.apply(pf(this),e))}}function jj(t){return typeof t=="function"?Ij(t):(t instanceof IDBTransaction&&Cj(t),Tj(t,Aj())?new Proxy(t,jm):t)}function _i(t){if(t instanceof IDBRequest)return Nj(t);if(mf.has(t))return mf.get(t);const e=jj(t);return e!==t&&(mf.set(t,e),pg.set(e,t)),e}const pf=t=>pg.get(t);function kj(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const a=indexedDB.open(t,e),l=_i(a);return s&&a.addEventListener("upgradeneeded",c=>{s(_i(a.result),c.oldVersion,c.newVersion,_i(a.transaction),c)}),n&&a.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{r&&c.addEventListener("close",()=>r()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const Dj=["get","getKey","getAll","getAllKeys","count"],Oj=["put","add","delete","clear"],gf=new Map;function ov(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gf.get(e))return gf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=Oj.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||Dj.includes(n)))return;const r=async function(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return s&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),i&&c.done]))[0]};return gf.set(e,r),r}Rj(t=>({...t,get:(e,n,s)=>ov(e,n)||t.get(e,n,s),has:(e,n)=>!!ov(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Vj(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Vj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const km="@firebase/app",cv="0.14.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new mg("@firebase/app"),Uj="@firebase/app-compat",Lj="@firebase/analytics-compat",Pj="@firebase/analytics",zj="@firebase/app-check-compat",Bj="@firebase/app-check",qj="@firebase/auth",Hj="@firebase/auth-compat",Fj="@firebase/database",Gj="@firebase/data-connect",Kj="@firebase/database-compat",Qj="@firebase/functions",$j="@firebase/functions-compat",Yj="@firebase/installations",Xj="@firebase/installations-compat",Wj="@firebase/messaging",Jj="@firebase/messaging-compat",Zj="@firebase/performance",e4="@firebase/performance-compat",t4="@firebase/remote-config",n4="@firebase/remote-config-compat",s4="@firebase/storage",i4="@firebase/storage-compat",r4="@firebase/firestore",a4="@firebase/ai",l4="@firebase/firestore-compat",o4="firebase",c4="12.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="[DEFAULT]",u4={[km]:"fire-core",[Uj]:"fire-core-compat",[Pj]:"fire-analytics",[Lj]:"fire-analytics-compat",[Bj]:"fire-app-check",[zj]:"fire-app-check-compat",[qj]:"fire-auth",[Hj]:"fire-auth-compat",[Fj]:"fire-rtdb",[Gj]:"fire-data-connect",[Kj]:"fire-rtdb-compat",[Qj]:"fire-fn",[$j]:"fire-fn-compat",[Yj]:"fire-iid",[Xj]:"fire-iid-compat",[Wj]:"fire-fcm",[Jj]:"fire-fcm-compat",[Zj]:"fire-perf",[e4]:"fire-perf-compat",[t4]:"fire-rc",[n4]:"fire-rc-compat",[s4]:"fire-gcs",[i4]:"fire-gcs-compat",[r4]:"fire-fst",[l4]:"fire-fst-compat",[a4]:"fire-vertex","fire-js":"fire-js",[o4]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku=new Map,d4=new Map,Om=new Map;function uv(t,e){try{t.container.addComponent(e)}catch(n){Cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vr(t){const e=t.name;if(Om.has(e))return Cs.debug(`There were multiple attempts to register component ${e}.`),!1;Om.set(e,t);for(const n of Ku.values())uv(n,t);for(const n of d4.values())uv(n,t);return!0}function Vd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function bn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vi=new Qo("app","Firebase",h4);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir=c4;function wT(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s={name:Dm,automaticDataCollectionEnabled:!0,...e},i=s.name;if(typeof i!="string"||!i)throw vi.create("bad-app-name",{appName:String(i)});if(n||(n=_T()),!n)throw vi.create("no-options");const r=Ku.get(i);if(r){if(_r(n,r.options)&&_r(s,r.config))return r;throw vi.create("duplicate-app",{appName:i})}const a=new vj(i);for(const c of Om.values())a.addComponent(c);const l=new f4(n,s,a);return Ku.set(i,l),l}function gg(t=Dm){const e=Ku.get(t);if(!e&&t===Dm&&_T())return wT();if(!e)throw vi.create("no-app",{appName:t});return e}function Hn(t,e,n){let s=u4[t]??t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),r=e.match(/\s|\//);if(i||r){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&r&&a.push("and"),r&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cs.warn(a.join(" "));return}vr(new Ni(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4="firebase-heartbeat-database",p4=1,xo="firebase-heartbeat-store";let yf=null;function TT(){return yf||(yf=kj(m4,p4,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(xo)}catch(n){console.warn(n)}}}}).catch(t=>{throw vi.create("idb-open",{originalErrorMessage:t.message})})),yf}async function g4(t){try{const n=(await TT()).transaction(xo),s=await n.objectStore(xo).get(AT(t));return await n.done,s}catch(e){if(e instanceof ns)Cs.warn(e.message);else{const n=vi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cs.warn(n.message)}}}async function dv(t,e){try{const s=(await TT()).transaction(xo,"readwrite");await s.objectStore(xo).put(e,AT(t)),await s.done}catch(n){if(n instanceof ns)Cs.warn(n.message);else{const s=vi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Cs.warn(s.message)}}}function AT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=1024,_4=30;class v4{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new x4(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=hv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>_4){const a=E4(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Cs.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hv(),{heartbeatsToSend:s,unsentEntries:i}=b4(this._heartbeatsCache.heartbeats),r=Gu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(n){return Cs.warn(n),""}}}function hv(){return new Date().toISOString().substring(0,10)}function b4(t,e=y4){const n=[];let s=t.slice();for(const i of t){const r=n.find(a=>a.agent===i.agent);if(r){if(r.dates.push(i.date),fv(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),fv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class x4{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lj()?oj().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g4(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return dv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function fv(t){return Gu(JSON.stringify({version:2,heartbeats:t})).length}function E4(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let s=1;s<t.length;s++)t[s].date<n&&(n=t[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){vr(new Ni("platform-logger",e=>new Mj(e),"PRIVATE")),vr(new Ni("heartbeat",e=>new v4(e),"PRIVATE")),Hn(km,cv,t),Hn(km,cv,"esm2020"),Hn("fire-js","")}w4("");var T4="firebase",A4="12.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Hn(T4,A4,"app");function ST(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const S4=ST,NT=new Qo("auth","Firebase",ST());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu=new mg("@firebase/auth");function N4(t,...e){Qu.logLevel<=be.WARN&&Qu.warn(`Auth (${Ir}): ${t}`,...e)}function nu(t,...e){Qu.logLevel<=be.ERROR&&Qu.error(`Auth (${Ir}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jn(t,...e){throw yg(t,...e)}function Fn(t,...e){return yg(t,...e)}function CT(t,e,n){const s={...S4(),[e]:n};return new Qo("auth","Firebase",s).create(e,{appName:t.name})}function bi(t){return CT(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yg(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return NT.create(t,...e)}function se(t,e,...n){if(!t)throw yg(e,...n)}function ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw nu(e),new Error(e)}function Rs(t,e){t||ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function C4(){return mv()==="http:"||mv()==="https:"}function mv(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R4(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C4()||sj()||"connection"in navigator)?navigator.onLine:!0}function I4(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this.shortDelay=e,this.longDelay=n,Rs(n>e,"Short delay should be less than long delay!"),this.isMobile=ej()||ij()}get(){return R4()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){Rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j4={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D4=new Yo(3e4,6e4);function jr(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function zi(t,e,n,s,i={}){return IT(t,i,async()=>{let r={},a={};s&&(e==="GET"?a=s:r={body:JSON.stringify(s)});const l=$o({key:t.config.apiKey,...a}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...r};return nj()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Pi(t.emulatorConfig.host)&&(d.credentials="include"),RT.fetch()(await jT(t,t.config.apiHost,n,l),d)})}async function IT(t,e,n){t._canInitEmulator=!1;const s={...j4,...e};try{const i=new M4(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await r.json();if("needConfirmation"in a)throw kc(t,"account-exists-with-different-credential",a);if(r.ok&&!("errorMessage"in a))return a;{const l=r.ok?a.errorMessage:a.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(t,"credential-already-in-use",a);if(c==="EMAIL_EXISTS")throw kc(t,"email-already-in-use",a);if(c==="USER_DISABLED")throw kc(t,"user-disabled",a);const h=s[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw CT(t,h,d);jn(t,h)}}catch(i){if(i instanceof ns)throw i;jn(t,"network-request-failed",{message:String(i)})}}async function Ud(t,e,n,s,i={}){const r=await zi(t,e,n,s,i);return"mfaPendingCredential"in r&&jn(t,"multi-factor-auth-required",{_serverResponse:r}),r}async function jT(t,e,n,s){const i=`${e}${n}?${s}`,r=t,a=r.config.emulator?_g(t.config,i):`${t.config.apiScheme}://${i}`;return k4.includes(n)&&(await r._persistenceManagerAvailable,r._getPersistenceType()==="COOKIE")?r._getPersistence()._getFinalTarget(a).toString():a}function O4(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M4{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Fn(this.auth,"network-request-failed")),D4.get())})}}function kc(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Fn(t,e,s);return i.customData._tokenResponse=n,i}function pv(t){return t!==void 0&&t.enterprise!==void 0}class V4{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return O4(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function U4(t,e){return zi(t,"GET","/v2/recaptchaConfig",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L4(t,e){return zi(t,"POST","/v1/accounts:delete",e)}async function $u(t,e){return zi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function P4(t,e=!1){const n=$e(t),s=await n.getIdToken(e),i=vg(s);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,a=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:Wl(_f(i.auth_time)),issuedAtTime:Wl(_f(i.iat)),expirationTime:Wl(_f(i.exp)),signInProvider:a||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function _f(t){return Number(t)*1e3}function vg(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return nu("JWT malformed, contained fewer than 3 sections"),null;try{const i=pT(n);return i?JSON.parse(i):(nu("Failed to decode base64 JWT payload"),null)}catch(i){return nu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function gv(t){const e=vg(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ns&&z4(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function z4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Wl(this.lastLoginAt),this.creationTime=Wl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yu(t){var m;const e=t.auth,n=await t.getIdToken(),s=await Eo(t,$u(e,{idToken:n}));se(s==null?void 0:s.users.length,e,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const r=(m=i.providerUserInfo)!=null&&m.length?kT(i.providerUserInfo):[],a=H4(t.providerData,r),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Vm(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function q4(t){const e=$e(t);await Yu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function H4(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function kT(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F4(t,e){const n=await IT(t,{},async()=>{const s=$o({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,a=await jT(t,i,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();l["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:l,body:s};return t.emulatorConfig&&Pi(t.emulatorConfig.host)&&(c.credentials="include"),RT.fetch()(a,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function G4(t,e){return zi(t,"POST","/v2/accounts:revokeToken",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){se(e.length!==0,"internal-error");const n=gv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await F4(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,a=new fa;return s&&(se(typeof s=="string","internal-error",{appName:e}),a.refreshToken=s),i&&(se(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),r&&(se(typeof r=="number","internal-error",{appName:e}),a.expirationTime=r),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fa,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rn{constructor({uid:e,auth:n,stsTokenManager:s,...i}){this.providerId="firebase",this.proactiveRefresh=new B4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Vm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Eo(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return P4(this,e)}reload(){return q4(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Yu(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(bi(this.auth));const e=await this.getIdToken();return await Eo(this,L4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,i=n.email??void 0,r=n.phoneNumber??void 0,a=n.photoURL??void 0,l=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:p,isAnonymous:y,providerData:C,stsTokenManager:j}=n;se(m&&j,e,"internal-error");const D=fa.fromJSON(this.name,j);se(typeof m=="string",e,"internal-error"),Hs(s,e.name),Hs(i,e.name),se(typeof p=="boolean",e,"internal-error"),se(typeof y=="boolean",e,"internal-error"),Hs(r,e.name),Hs(a,e.name),Hs(l,e.name),Hs(c,e.name),Hs(d,e.name),Hs(h,e.name);const T=new Rn({uid:m,auth:e,email:i,emailVerified:p,displayName:s,isAnonymous:y,photoURL:a,phoneNumber:r,tenantId:l,stsTokenManager:D,createdAt:d,lastLoginAt:h});return C&&Array.isArray(C)&&(T.providerData=C.map(b=>({...b}))),c&&(T._redirectEventId=c),T}static async _fromIdTokenResponse(e,n,s=!1){const i=new fa;i.updateFromServerResponse(n);const r=new Rn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Yu(r),r}static async _fromGetAccountInfoResponse(e,n,s){const i=n.users[0];se(i.localId!==void 0,"internal-error");const r=i.providerUserInfo!==void 0?kT(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(r!=null&&r.length),l=new fa;l.updateFromIdToken(s);const c=new Rn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:a}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:r,metadata:new Vm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(r!=null&&r.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;function gs(t){Rs(t instanceof Function,"Expected a class definition");let e=yv.get(t);return e?(Rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,yv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}DT.type="NONE";const _v=DT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(t,e,n){return`firebase:${t}:${e}:${n}`}class ma{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=su(this.userKey,i.apiKey,r),this.fullPersistenceKey=su("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await $u(this.auth,{idToken:e}).catch(()=>{});return n?Rn._fromGetAccountInfoResponse(this.auth,n,e):null}return Rn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ma(gs(_v),e,s);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let r=i[0]||gs(_v);const a=su(s,e.config.apiKey,e.name);let l=null;for(const d of n)try{const h=await d._get(a);if(h){let m;if(typeof h=="string"){const p=await $u(e,{idToken:h}).catch(()=>{});if(!p)break;m=await Rn._fromGetAccountInfoResponse(e,p,h)}else m=Rn._fromJSON(e,h);d!==r&&(l=m),r=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!r._shouldAllowMigration||!c.length?new ma(r,e,s):(r=c[0],l&&await r._set(a,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==r)try{await d._remove(a)}catch{}})),new ma(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(UT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(PT(e))return"Blackberry";if(zT(e))return"Webos";if(MT(e))return"Safari";if((e.includes("chrome/")||VT(e))&&!e.includes("edge/"))return"Chrome";if(LT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function OT(t=Ut()){return/firefox\//i.test(t)}function MT(t=Ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function VT(t=Ut()){return/crios\//i.test(t)}function UT(t=Ut()){return/iemobile/i.test(t)}function LT(t=Ut()){return/android/i.test(t)}function PT(t=Ut()){return/blackberry/i.test(t)}function zT(t=Ut()){return/webos/i.test(t)}function bg(t=Ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K4(t=Ut()){var e;return bg(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Q4(){return rj()&&document.documentMode===10}function BT(t=Ut()){return bg(t)||LT(t)||zT(t)||PT(t)||/windows phone/i.test(t)||UT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(t,e=[]){let n;switch(t){case"Browser":n=vv(Ut());break;case"Worker":n=`${vv(Ut())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ir}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((a,l)=>{try{const c=e(r);a(c)}catch(c){l(c)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y4(t,e={}){return zi(t,"GET","/v2/passwordPolicy",jr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4=6;class W4{constructor(e){var s;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??X4,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((s=e.allowedNonAlphanumericCharacters)==null?void 0:s.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let i=0;i<e.length;i++)s=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,i,r){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bv(this),this.idTokenSubscription=new bv(this),this.beforeStateQueue=new $4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=NT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(r=>this._resolvePersistenceManagerAvailable=r)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gs(n)),this._initializationPromise=this.queue(async()=>{var s,i,r;if(!this._deleted&&(this.persistenceManager=await ma.create(this,e),(s=this._resolvePersistenceManagerAvailable)==null||s.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)==null?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await $u(this,{idToken:e}),s=await Rn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(bn(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(l,l))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(r=this.redirectUser)==null?void 0:r._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!a||a===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(a){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Yu(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=I4()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(bi(this));const n=e?$e(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(bi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(bi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Y4(this),n=new W4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Qo("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await G4(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gs(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await ma.create(this,[gs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)==null?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n);let a=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(se(l,this,"internal-error"),l.then(()=>{a||r(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,s,i);return()=>{a=!0,c()}}else{const c=e.addObserver(n);return()=>{a=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){var n;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&N4(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Qa(t){return $e(t)}class bv{constructor(e){this.auth=e,this.observer=null,this.addObserver=fj(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ld={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z4(t){Ld=t}function HT(t){return Ld.loadJS(t)}function ek(){return Ld.recaptchaEnterpriseScript}function tk(){return Ld.gapiScript}function nk(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class sk{constructor(){this.enterprise=new ik}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ik{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rk="recaptcha-enterprise",FT="NO_RECAPTCHA";class ak{constructor(e){this.type=rk,this.auth=Qa(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(a,l)=>{U4(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new V4(c);return r.tenantId==null?r._agentRecaptchaConfig=d:r._tenantRecaptchaConfigs[r.tenantId]=d,a(d.siteKey)}}).catch(c=>{l(c)})})}function i(r,a,l){const c=window.grecaptcha;pv(c)?c.enterprise.ready(()=>{c.enterprise.execute(r,{action:e}).then(d=>{a(d)}).catch(()=>{a(FT)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new sk().execute("siteKey",{action:"verify"}):new Promise((r,a)=>{s(this.auth).then(l=>{if(!n&&pv(window.grecaptcha))i(l,r,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let c=ek();c.length!==0&&(c+=l),HT(c).then(()=>{i(l,r,a)}).catch(d=>{a(d)})}}).catch(l=>{a(l)})})}}async function xv(t,e,n,s=!1,i=!1){const r=new ak(t);let a;if(i)a=FT;else try{a=await r.verify(n)}catch{a=await r.verify(n,!0)}const l={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return s?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Ev(t,e,n,s,i){var r;if((r=t._getRecaptchaConfig())!=null&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await xv(t,e,n,n==="getOobCode");return s(t,a)}else return s(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await xv(t,e,n,n==="getOobCode");return s(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lk(t,e){const n=Vd(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(_r(r,e??{}))return i;jn(i,"already-initialized")}return n.initialize({options:e})}function ok(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(gs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function GT(t,e,n){const s=Qa(t);se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!1,r=KT(e),{host:a,port:l}=ck(e),c=l===null?"":`:${l}`,d={url:`${r}//${a}${c}/`},h=Object.freeze({host:a,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!s._canInitEmulator){se(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),se(_r(d,s.config.emulator)&&_r(h,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=d,s.emulatorConfig=h,s.settings.appVerificationDisabledForTesting=!0,Pi(a)?(hg(`${r}//${a}${c}`),fg("Auth",!0)):uk()}function KT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function ck(t){const e=KT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:wv(s.substr(r.length+1))}}else{const[r,a]=s.split(":");return{host:r,port:wv(a)}}}function wv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function uk(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,n){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function dk(t,e){return zi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hk(t,e){return Ud(t,"POST","/v1/accounts:signInWithPassword",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(t,e){return Ud(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,e))}async function mk(t,e){return Ud(t,"POST","/v1/accounts:signInWithEmailLink",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends xg{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new wo(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new wo(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,n,"signInWithPassword",hk);case"emailLink":return fk(e,{email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ev(e,s,"signUpPassword",dk);case"emailLink":return mk(e,{idToken:n,email:this._email,oobCode:this._password});default:jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pa(t,e){return Ud(t,"POST","/v1/accounts:signInWithIdp",jr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk="http://localhost";class br extends xg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new br(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i,...r}=n;if(!s||!i)return null;const a=new br(s,i);return a.idToken=r.idToken||void 0,a.accessToken=r.accessToken||void 0,a.secret=r.secret,a.nonce=r.nonce,a.pendingToken=r.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return pa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,pa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,pa(e,n)}buildRequest(){const e={requestUri:pk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=$o(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yk(t){const e=Rl(Il(t)).link,n=e?Rl(Il(e)).deep_link_id:null,s=Rl(Il(t)).deep_link_id;return(s?Rl(Il(s)).link:null)||s||n||e||t}class Eg{constructor(e){const n=Rl(Il(e)),s=n.apiKey??null,i=n.oobCode??null,r=gk(n.mode??null);se(s&&i&&r,"argument-error"),this.apiKey=s,this.operation=r,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=yk(e);try{return new Eg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(){this.providerId=$a.PROVIDER_ID}static credential(e,n){return wo._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Eg.parseLink(n);return se(s,"argument-error"),wo._fromEmailAndCode(e,s.code,s.tenantId)}}$a.PROVIDER_ID="password";$a.EMAIL_PASSWORD_SIGN_IN_METHOD="password";$a.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends QT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends Xo{constructor(){super("facebook.com")}static credential(e){return br._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Xo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return br._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Ws.credential(n,s)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends Xo{constructor(){super("github.com")}static credential(e){return br._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.GITHUB_SIGN_IN_METHOD="github.com";Js.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends Xo{constructor(){super("twitter.com")}static credential(e,n){return br._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zs.credential(n,s)}catch{return null}}}Zs.TWITTER_SIGN_IN_METHOD="twitter.com";Zs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await Rn._fromIdTokenResponse(e,s,i),a=Tv(s);return new Ra({user:r,providerId:a,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Tv(s);return new Ra({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Tv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu extends ns{constructor(e,n,s,i){super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Xu.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Xu(e,n,s,i)}}function $T(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Xu._fromErrorAndOperation(t,r,e,s):r})}async function _k(t,e,n=!1){const s=await Eo(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ra._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(t,e,n=!1){const{auth:s}=t;if(bn(s.app))return Promise.reject(bi(s));const i="reauthenticate";try{const r=await Eo(t,$T(s,i,e,t),n);se(r.idToken,s,"internal-error");const a=vg(r.idToken);se(a,s,"internal-error");const{sub:l}=a;return se(t.uid===l,s,"user-mismatch"),Ra._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&jn(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YT(t,e,n=!1){if(bn(t.app))return Promise.reject(bi(t));const s="signIn",i=await $T(t,s,e),r=await Ra._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function bk(t,e){return YT(Qa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t){const e=Qa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function Ek(t,e,n){return bn(t.app)?Promise.reject(bi(t)):bk($e(t),$a.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&xk(t),s})}function wk(t,e,n,s){return $e(t).onIdTokenChanged(e,n,s)}function Tk(t,e,n){return $e(t).beforeAuthStateChanged(e,n)}function wg(t,e,n,s){return $e(t).onAuthStateChanged(e,n,s)}function XT(t){return $e(t).signOut()}const Wu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Wu,"1"),this.storage.removeItem(Wu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ak=1e3,Sk=10;class JT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=BT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});return}const s=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(s);!n&&this.localCache[s]===a||this.notifyListeners(s,a)},r=this.storage.getItem(s);Q4()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Sk):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}JT.type="LOCAL";const Nk=JT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ZT.type="SESSION";const e1=ZT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Pd(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(a).map(async d=>d(n.origin,r)),c=await Ck(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Pd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tg(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,a;return new Promise((l,c)=>{const d=Tg("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},s);a={messageChannel:i,onMessage(m){const p=m;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),r=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(p.data.response);break;default:clearTimeout(h),clearTimeout(r),c(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(){return window}function Ik(t){Gn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof Gn().WorkerGlobalScope<"u"&&typeof Gn().importScripts=="function"}async function jk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Dk(){return t1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebaseLocalStorageDb",Ok=1,Ju="firebaseLocalStorage",s1="fbase_key";class Wo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zd(t,e){return t.transaction([Ju],e?"readwrite":"readonly").objectStore(Ju)}function Mk(){const t=indexedDB.deleteDatabase(n1);return new Wo(t).toPromise()}function Um(){const t=indexedDB.open(n1,Ok);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Ju,{keyPath:s1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Ju)?e(s):(s.close(),await Mk(),e(await Um()))})})}async function Av(t,e,n){const s=zd(t,!0).put({[s1]:e,value:n});return new Wo(s).toPromise()}async function Vk(t,e){const n=zd(t,!1).get(e),s=await new Wo(n).toPromise();return s===void 0?null:s.value}function Sv(t,e){const n=zd(t,!0).delete(e);return new Wo(n).toPromise()}const Uk=800,Lk=3;class i1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Lk)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return t1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Pd._getInstance(Dk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,s;if(this.activeServiceWorker=await jk(),!this.activeServiceWorker)return;this.sender=new Rk(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(s=e[0])!=null&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await Av(e,Wu,"1"),await Sv(e,Wu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Av(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Vk(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sv(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=zd(i,!1).getAll();return new Wo(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Uk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}i1.type="LOCAL";const Pk=i1;new Yo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e){return e?gs(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag extends xg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return pa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return pa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return pa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Bk(t){return YT(t.auth,new Ag(t),t.bypassAuthState)}function qk(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),vk(n,new Ag(t),t.bypassAuthState)}async function Hk(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),_k(n,new Ag(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:a,type:l}=e;if(a){this.reject(a);return}const c={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Bk;case"linkViaPopup":case"linkViaRedirect":return Hk;case"reauthViaPopup":case"reauthViaRedirect":return qk;default:jn(this.auth,"internal-error")}}resolve(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=new Yo(2e3,1e4);class ra extends r1{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){Rs(this.filter.length===1,"Popup operations only handle one event");const e=Tg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if((s=(n=this.authWindow)==null?void 0:n.window)!=null&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Fk.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="pendingRedirect",iu=new Map;class Kk extends r1{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=iu.get(this.auth._key());if(!e){try{const s=await Qk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}iu.set(this.auth._key(),e)}return this.bypassAuthState||iu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Qk(t,e){const n=Xk(e),s=Yk(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function $k(t,e){iu.set(t._key(),e)}function Yk(t){return gs(t._redirectPersistence)}function Xk(t){return su(Gk,t.config.apiKey,t.name)}async function Wk(t,e,n=!1){if(bn(t.app))return Promise.reject(bi(t));const s=Qa(t),i=zk(s,e),a=await new Kk(s,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await s._persistUserIfCurrent(a.user),await s._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk=10*60*1e3;class Zk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!a1(e)){const i=((s=e.error.code)==null?void 0:s.split("auth/")[1])||"internal-error";n.onError(Fn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Jk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(e))}saveEventToCache(e){this.cachedEventUids.add(Nv(e)),this.lastProcessedEventTime=Date.now()}}function Nv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function a1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eD(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return a1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD(t,e={}){return zi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sD=/^https?/;async function iD(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tD(t);for(const n of e)try{if(rD(n))return}catch{}jn(t,"unauthorized-domain")}function rD(t){const e=Mm(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===s}if(!sD.test(n))return!1;if(nD.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=new Yo(3e4,6e4);function Cv(){const t=Gn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lD(t){return new Promise((e,n)=>{var i,r,a;function s(){Cv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Cv(),n(Fn(t,"network-request-failed"))},timeout:aD.get()})}if((r=(i=Gn().gapi)==null?void 0:i.iframes)!=null&&r.Iframe)e(gapi.iframes.getContext());else if((a=Gn().gapi)!=null&&a.load)s();else{const l=nk("iframefcb");return Gn()[l]=()=>{gapi.load?s():n(Fn(t,"network-request-failed"))},HT(`${tk()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw ru=null,e})}let ru=null;function oD(t){return ru=ru||lD(t),ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD=new Yo(5e3,15e3),uD="__/auth/iframe",dD="emulator/auth/iframe",hD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mD(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_g(e,dD):`https://${t.config.authDomain}/${uD}`,s={apiKey:e.apiKey,appName:t.name,v:Ir},i=fD.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${$o(s).slice(1)}`}async function pD(t){const e=await oD(t),n=Gn().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:mD(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hD,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const a=Fn(t,"network-request-failed"),l=Gn().setTimeout(()=>{r(a)},cD.get());function c(){Gn().clearTimeout(l),i(s)}s.ping(c).then(c,()=>{r(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yD=500,_D=600,vD="_blank",bD="http://localhost";class Rv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xD(t,e,n,s=yD,i=_D){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const c={...gD,width:s.toString(),height:i.toString(),top:r,left:a},d=Ut().toLowerCase();n&&(l=VT(d)?vD:n),OT(d)&&(e=e||bD,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[y,C])=>`${p}${y}=${C},`,"");if(K4(d)&&l!=="_self")return ED(e||"",l),new Rv(null);const m=window.open(e||"",l,h);se(m,t,"popup-blocked");try{m.focus()}catch{}return new Rv(m)}function ED(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="__/auth/handler",TD="emulator/auth/handler",AD=encodeURIComponent("fac");async function Iv(t,e,n,s,i,r){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ir,eventId:i};if(e instanceof QT){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",hj(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries({}))a[h]=m}if(e instanceof Xo){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(a.scopes=h.join(","))}t.tenantId&&(a.tid=t.tenantId);const l=a;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const c=await t._getAppCheckToken(),d=c?`#${AD}=${encodeURIComponent(c)}`:"";return`${SD(t)}?${$o(l).slice(1)}${d}`}function SD({config:t}){return t.emulator?_g(t,TD):`https://${t.authDomain}/${wD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vf="webStorageSupport";class ND{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=e1,this._completeRedirectFn=Wk,this._overrideRedirectResult=$k}async _openPopup(e,n,s,i){var a;Rs((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const r=await Iv(e,n,s,Mm(),i);return xD(e,r,Tg())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await Iv(e,n,s,Mm(),i);return Ik(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(Rs(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await pD(e),s=new Zk(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vf,{type:vf},i=>{var a;const r=(a=i==null?void 0:i[0])==null?void 0:a[vf];r!==void 0&&n(!!r),jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=iD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return BT()||MT()||bg()}}const CD=ND;var jv="@firebase/auth",kv="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jD(t){vr(new Ni("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:a,authDomain:l}=s.options;se(a&&!a.includes(":"),"invalid-api-key",{appName:s.name});const c={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qT(t)},d=new J4(s,i,r,c);return ok(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),vr(new Ni("auth-internal",e=>{const n=Qa(e.getProvider("auth").getImmediate());return(s=>new RD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hn(jv,kv,ID(t)),Hn(jv,kv,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kD=5*60,DD=vT("authIdTokenMaxAge")||kD;let Dv=null;const OD=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DD)return;const i=n==null?void 0:n.token;Dv!==i&&(Dv=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MD(t=gg()){const e=Vd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=lk(t,{popupRedirectResolver:CD,persistence:[Pk,Nk,e1]}),s=vT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const r=new URL(s,location.origin);if(location.origin===r.origin){const a=OD(r.toString());Tk(n,a,()=>a(n.currentUser)),wk(n,l=>a(l))}}const i=gT("auth");return i&&GT(n,`http://${i}`),n}function VD(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Z4({loadJS(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Fn("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",VD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jD("Browser");var Ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xi,l1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,_){function v(){}v.prototype=_.prototype,w.F=_.prototype,w.prototype=new v,w.prototype.constructor=w,w.D=function(S,R,I){for(var N=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)N[ae-2]=arguments[ae];return _.prototype[R].apply(S,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,_,v){v||(v=0);const S=Array(16);if(typeof _=="string")for(var R=0;R<16;++R)S[R]=_.charCodeAt(v++)|_.charCodeAt(v++)<<8|_.charCodeAt(v++)<<16|_.charCodeAt(v++)<<24;else for(R=0;R<16;++R)S[R]=_[v++]|_[v++]<<8|_[v++]<<16|_[v++]<<24;_=w.g[0],v=w.g[1],R=w.g[2];let I=w.g[3],N;N=_+(I^v&(R^I))+S[0]+3614090360&4294967295,_=v+(N<<7&4294967295|N>>>25),N=I+(R^_&(v^R))+S[1]+3905402710&4294967295,I=_+(N<<12&4294967295|N>>>20),N=R+(v^I&(_^v))+S[2]+606105819&4294967295,R=I+(N<<17&4294967295|N>>>15),N=v+(_^R&(I^_))+S[3]+3250441966&4294967295,v=R+(N<<22&4294967295|N>>>10),N=_+(I^v&(R^I))+S[4]+4118548399&4294967295,_=v+(N<<7&4294967295|N>>>25),N=I+(R^_&(v^R))+S[5]+1200080426&4294967295,I=_+(N<<12&4294967295|N>>>20),N=R+(v^I&(_^v))+S[6]+2821735955&4294967295,R=I+(N<<17&4294967295|N>>>15),N=v+(_^R&(I^_))+S[7]+4249261313&4294967295,v=R+(N<<22&4294967295|N>>>10),N=_+(I^v&(R^I))+S[8]+1770035416&4294967295,_=v+(N<<7&4294967295|N>>>25),N=I+(R^_&(v^R))+S[9]+2336552879&4294967295,I=_+(N<<12&4294967295|N>>>20),N=R+(v^I&(_^v))+S[10]+4294925233&4294967295,R=I+(N<<17&4294967295|N>>>15),N=v+(_^R&(I^_))+S[11]+2304563134&4294967295,v=R+(N<<22&4294967295|N>>>10),N=_+(I^v&(R^I))+S[12]+1804603682&4294967295,_=v+(N<<7&4294967295|N>>>25),N=I+(R^_&(v^R))+S[13]+4254626195&4294967295,I=_+(N<<12&4294967295|N>>>20),N=R+(v^I&(_^v))+S[14]+2792965006&4294967295,R=I+(N<<17&4294967295|N>>>15),N=v+(_^R&(I^_))+S[15]+1236535329&4294967295,v=R+(N<<22&4294967295|N>>>10),N=_+(R^I&(v^R))+S[1]+4129170786&4294967295,_=v+(N<<5&4294967295|N>>>27),N=I+(v^R&(_^v))+S[6]+3225465664&4294967295,I=_+(N<<9&4294967295|N>>>23),N=R+(_^v&(I^_))+S[11]+643717713&4294967295,R=I+(N<<14&4294967295|N>>>18),N=v+(I^_&(R^I))+S[0]+3921069994&4294967295,v=R+(N<<20&4294967295|N>>>12),N=_+(R^I&(v^R))+S[5]+3593408605&4294967295,_=v+(N<<5&4294967295|N>>>27),N=I+(v^R&(_^v))+S[10]+38016083&4294967295,I=_+(N<<9&4294967295|N>>>23),N=R+(_^v&(I^_))+S[15]+3634488961&4294967295,R=I+(N<<14&4294967295|N>>>18),N=v+(I^_&(R^I))+S[4]+3889429448&4294967295,v=R+(N<<20&4294967295|N>>>12),N=_+(R^I&(v^R))+S[9]+568446438&4294967295,_=v+(N<<5&4294967295|N>>>27),N=I+(v^R&(_^v))+S[14]+3275163606&4294967295,I=_+(N<<9&4294967295|N>>>23),N=R+(_^v&(I^_))+S[3]+4107603335&4294967295,R=I+(N<<14&4294967295|N>>>18),N=v+(I^_&(R^I))+S[8]+1163531501&4294967295,v=R+(N<<20&4294967295|N>>>12),N=_+(R^I&(v^R))+S[13]+2850285829&4294967295,_=v+(N<<5&4294967295|N>>>27),N=I+(v^R&(_^v))+S[2]+4243563512&4294967295,I=_+(N<<9&4294967295|N>>>23),N=R+(_^v&(I^_))+S[7]+1735328473&4294967295,R=I+(N<<14&4294967295|N>>>18),N=v+(I^_&(R^I))+S[12]+2368359562&4294967295,v=R+(N<<20&4294967295|N>>>12),N=_+(v^R^I)+S[5]+4294588738&4294967295,_=v+(N<<4&4294967295|N>>>28),N=I+(_^v^R)+S[8]+2272392833&4294967295,I=_+(N<<11&4294967295|N>>>21),N=R+(I^_^v)+S[11]+1839030562&4294967295,R=I+(N<<16&4294967295|N>>>16),N=v+(R^I^_)+S[14]+4259657740&4294967295,v=R+(N<<23&4294967295|N>>>9),N=_+(v^R^I)+S[1]+2763975236&4294967295,_=v+(N<<4&4294967295|N>>>28),N=I+(_^v^R)+S[4]+1272893353&4294967295,I=_+(N<<11&4294967295|N>>>21),N=R+(I^_^v)+S[7]+4139469664&4294967295,R=I+(N<<16&4294967295|N>>>16),N=v+(R^I^_)+S[10]+3200236656&4294967295,v=R+(N<<23&4294967295|N>>>9),N=_+(v^R^I)+S[13]+681279174&4294967295,_=v+(N<<4&4294967295|N>>>28),N=I+(_^v^R)+S[0]+3936430074&4294967295,I=_+(N<<11&4294967295|N>>>21),N=R+(I^_^v)+S[3]+3572445317&4294967295,R=I+(N<<16&4294967295|N>>>16),N=v+(R^I^_)+S[6]+76029189&4294967295,v=R+(N<<23&4294967295|N>>>9),N=_+(v^R^I)+S[9]+3654602809&4294967295,_=v+(N<<4&4294967295|N>>>28),N=I+(_^v^R)+S[12]+3873151461&4294967295,I=_+(N<<11&4294967295|N>>>21),N=R+(I^_^v)+S[15]+530742520&4294967295,R=I+(N<<16&4294967295|N>>>16),N=v+(R^I^_)+S[2]+3299628645&4294967295,v=R+(N<<23&4294967295|N>>>9),N=_+(R^(v|~I))+S[0]+4096336452&4294967295,_=v+(N<<6&4294967295|N>>>26),N=I+(v^(_|~R))+S[7]+1126891415&4294967295,I=_+(N<<10&4294967295|N>>>22),N=R+(_^(I|~v))+S[14]+2878612391&4294967295,R=I+(N<<15&4294967295|N>>>17),N=v+(I^(R|~_))+S[5]+4237533241&4294967295,v=R+(N<<21&4294967295|N>>>11),N=_+(R^(v|~I))+S[12]+1700485571&4294967295,_=v+(N<<6&4294967295|N>>>26),N=I+(v^(_|~R))+S[3]+2399980690&4294967295,I=_+(N<<10&4294967295|N>>>22),N=R+(_^(I|~v))+S[10]+4293915773&4294967295,R=I+(N<<15&4294967295|N>>>17),N=v+(I^(R|~_))+S[1]+2240044497&4294967295,v=R+(N<<21&4294967295|N>>>11),N=_+(R^(v|~I))+S[8]+1873313359&4294967295,_=v+(N<<6&4294967295|N>>>26),N=I+(v^(_|~R))+S[15]+4264355552&4294967295,I=_+(N<<10&4294967295|N>>>22),N=R+(_^(I|~v))+S[6]+2734768916&4294967295,R=I+(N<<15&4294967295|N>>>17),N=v+(I^(R|~_))+S[13]+1309151649&4294967295,v=R+(N<<21&4294967295|N>>>11),N=_+(R^(v|~I))+S[4]+4149444226&4294967295,_=v+(N<<6&4294967295|N>>>26),N=I+(v^(_|~R))+S[11]+3174756917&4294967295,I=_+(N<<10&4294967295|N>>>22),N=R+(_^(I|~v))+S[2]+718787259&4294967295,R=I+(N<<15&4294967295|N>>>17),N=v+(I^(R|~_))+S[9]+3951481745&4294967295,w.g[0]=w.g[0]+_&4294967295,w.g[1]=w.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+R&4294967295,w.g[3]=w.g[3]+I&4294967295}s.prototype.v=function(w,_){_===void 0&&(_=w.length);const v=_-this.blockSize,S=this.C;let R=this.h,I=0;for(;I<_;){if(R==0)for(;I<=v;)i(this,w,I),I+=this.blockSize;if(typeof w=="string"){for(;I<_;)if(S[R++]=w.charCodeAt(I++),R==this.blockSize){i(this,S),R=0;break}}else for(;I<_;)if(S[R++]=w[I++],R==this.blockSize){i(this,S),R=0;break}}this.h=R,this.o+=_},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var _=1;_<w.length-8;++_)w[_]=0;_=this.o*8;for(var v=w.length-8;v<w.length;++v)w[v]=_&255,_/=256;for(this.v(w),w=Array(16),_=0,v=0;v<4;++v)for(let S=0;S<32;S+=8)w[_++]=this.g[v]>>>S&255;return w};function r(w,_){var v=l;return Object.prototype.hasOwnProperty.call(v,w)?v[w]:v[w]=_(w)}function a(w,_){this.h=_;const v=[];let S=!0;for(let R=w.length-1;R>=0;R--){const I=w[R]|0;S&&I==_||(v[R]=I,S=!1)}this.g=v}var l={};function c(w){return-128<=w&&w<128?r(w,function(_){return new a([_|0],_<0?-1:0)}):new a([w|0],w<0?-1:0)}function d(w){if(isNaN(w)||!isFinite(w))return m;if(w<0)return D(d(-w));const _=[];let v=1;for(let S=0;w>=v;S++)_[S]=w/v|0,v*=4294967296;return new a(_,0)}function h(w,_){if(w.length==0)throw Error("number format error: empty string");if(_=_||10,_<2||36<_)throw Error("radix out of range: "+_);if(w.charAt(0)=="-")return D(h(w.substring(1),_));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const v=d(Math.pow(_,8));let S=m;for(let I=0;I<w.length;I+=8){var R=Math.min(8,w.length-I);const N=parseInt(w.substring(I,I+R),_);R<8?(R=d(Math.pow(_,R)),S=S.j(R).add(d(N))):(S=S.j(v),S=S.add(d(N)))}return S}var m=c(0),p=c(1),y=c(16777216);t=a.prototype,t.m=function(){if(j(this))return-D(this).m();let w=0,_=1;for(let v=0;v<this.g.length;v++){const S=this.i(v);w+=(S>=0?S:4294967296+S)*_,_*=4294967296}return w},t.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C(this))return"0";if(j(this))return"-"+D(this).toString(w);const _=d(Math.pow(w,6));var v=this;let S="";for(;;){const R=k(v,_).g;v=T(v,R.j(_));let I=((v.g.length>0?v.g[0]:v.h)>>>0).toString(w);if(v=R,C(v))return I+S;for(;I.length<6;)I="0"+I;S=I+S}},t.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function C(w){if(w.h!=0)return!1;for(let _=0;_<w.g.length;_++)if(w.g[_]!=0)return!1;return!0}function j(w){return w.h==-1}t.l=function(w){return w=T(this,w),j(w)?-1:C(w)?0:1};function D(w){const _=w.g.length,v=[];for(let S=0;S<_;S++)v[S]=~w.g[S];return new a(v,~w.h).add(p)}t.abs=function(){return j(this)?D(this):this},t.add=function(w){const _=Math.max(this.g.length,w.g.length),v=[];let S=0;for(let R=0;R<=_;R++){let I=S+(this.i(R)&65535)+(w.i(R)&65535),N=(I>>>16)+(this.i(R)>>>16)+(w.i(R)>>>16);S=N>>>16,I&=65535,N&=65535,v[R]=N<<16|I}return new a(v,v[v.length-1]&-2147483648?-1:0)};function T(w,_){return w.add(D(_))}t.j=function(w){if(C(this)||C(w))return m;if(j(this))return j(w)?D(this).j(D(w)):D(D(this).j(w));if(j(w))return D(this.j(D(w)));if(this.l(y)<0&&w.l(y)<0)return d(this.m()*w.m());const _=this.g.length+w.g.length,v=[];for(var S=0;S<2*_;S++)v[S]=0;for(S=0;S<this.g.length;S++)for(let R=0;R<w.g.length;R++){const I=this.i(S)>>>16,N=this.i(S)&65535,ae=w.i(R)>>>16,me=w.i(R)&65535;v[2*S+2*R]+=N*me,b(v,2*S+2*R),v[2*S+2*R+1]+=I*me,b(v,2*S+2*R+1),v[2*S+2*R+1]+=N*ae,b(v,2*S+2*R+1),v[2*S+2*R+2]+=I*ae,b(v,2*S+2*R+2)}for(w=0;w<_;w++)v[w]=v[2*w+1]<<16|v[2*w];for(w=_;w<2*_;w++)v[w]=0;return new a(v,0)};function b(w,_){for(;(w[_]&65535)!=w[_];)w[_+1]+=w[_]>>>16,w[_]&=65535,_++}function x(w,_){this.g=w,this.h=_}function k(w,_){if(C(_))throw Error("division by zero");if(C(w))return new x(m,m);if(j(w))return _=k(D(w),_),new x(D(_.g),D(_.h));if(j(_))return _=k(w,D(_)),new x(D(_.g),_.h);if(w.g.length>30){if(j(w)||j(_))throw Error("slowDivide_ only works with positive integers.");for(var v=p,S=_;S.l(w)<=0;)v=U(v),S=U(S);var R=z(v,1),I=z(S,1);for(S=z(S,2),v=z(v,2);!C(S);){var N=I.add(S);N.l(w)<=0&&(R=R.add(v),I=N),S=z(S,1),v=z(v,1)}return _=T(w,R.j(_)),new x(R,_)}for(R=m;w.l(_)>=0;){for(v=Math.max(1,Math.floor(w.m()/_.m())),S=Math.ceil(Math.log(v)/Math.LN2),S=S<=48?1:Math.pow(2,S-48),I=d(v),N=I.j(_);j(N)||N.l(w)>0;)v-=S,I=d(v),N=I.j(_);C(I)&&(I=p),R=R.add(I),w=T(w,N)}return new x(R,w)}t.B=function(w){return k(this,w).h},t.and=function(w){const _=Math.max(this.g.length,w.g.length),v=[];for(let S=0;S<_;S++)v[S]=this.i(S)&w.i(S);return new a(v,this.h&w.h)},t.or=function(w){const _=Math.max(this.g.length,w.g.length),v=[];for(let S=0;S<_;S++)v[S]=this.i(S)|w.i(S);return new a(v,this.h|w.h)},t.xor=function(w){const _=Math.max(this.g.length,w.g.length),v=[];for(let S=0;S<_;S++)v[S]=this.i(S)^w.i(S);return new a(v,this.h^w.h)};function U(w){const _=w.g.length+1,v=[];for(let S=0;S<_;S++)v[S]=w.i(S)<<1|w.i(S-1)>>>31;return new a(v,w.h)}function z(w,_){const v=_>>5;_%=32;const S=w.g.length-v,R=[];for(let I=0;I<S;I++)R[I]=_>0?w.i(I+v)>>>_|w.i(I+v+1)<<32-_:w.i(I+v);return new a(R,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,l1=s,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=d,a.fromString=h,xi=a}).apply(typeof Ov<"u"?Ov:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var o1,jl,c1,au,Lm,u1,d1,h1;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var f=0;f<o.length;++f){var g=o[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var s=n(this);function i(o,f){if(f)e:{var g=s;o=o.split(".");for(var E=0;E<o.length-1;E++){var M=o[E];if(!(M in g))break e;g=g[M]}o=o[o.length-1],E=g[o],f=f(E),f!=E&&f!=null&&e(g,o,{configurable:!0,writable:!0,value:f})}}i("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(o){return o||function(f){var g=[],E;for(E in f)Object.prototype.hasOwnProperty.call(f,E)&&g.push([E,f[E]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var r=r||{},a=this||self;function l(o){var f=typeof o;return f=="object"&&o!=null||f=="function"}function c(o,f,g){return o.call.apply(o.bind,arguments)}function d(o,f,g){return d=c,d.apply(null,arguments)}function h(o,f){var g=Array.prototype.slice.call(arguments,1);return function(){var E=g.slice();return E.push.apply(E,arguments),o.apply(this,E)}}function m(o,f){function g(){}g.prototype=f.prototype,o.Z=f.prototype,o.prototype=new g,o.prototype.constructor=o,o.Ob=function(E,M,L){for(var $=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)$[fe-2]=arguments[fe];return f.prototype[M].apply(E,$)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function y(o){const f=o.length;if(f>0){const g=Array(f);for(let E=0;E<f;E++)g[E]=o[E];return g}return[]}function C(o,f){for(let E=1;E<arguments.length;E++){const M=arguments[E];var g=typeof M;if(g=g!="object"?g:M?Array.isArray(M)?"array":g:"null",g=="array"||g=="object"&&typeof M.length=="number"){g=o.length||0;const L=M.length||0;o.length=g+L;for(let $=0;$<L;$++)o[g+$]=M[$]}else o.push(M)}}class j{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return this.h>0?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function D(o){a.setTimeout(()=>{throw o},0)}function T(){var o=w;let f=null;return o.g&&(f=o.g,o.g=o.g.next,o.g||(o.h=null),f.next=null),f}class b{constructor(){this.h=this.g=null}add(f,g){const E=x.get();E.set(f,g),this.h?this.h.next=E:this.g=E,this.h=E}}var x=new j(()=>new k,o=>o.reset());class k{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let U,z=!1,w=new b,_=()=>{const o=Promise.resolve(void 0);U=()=>{o.then(v)}};function v(){for(var o;o=T();){try{o.h.call(o.g)}catch(g){D(g)}var f=x;f.j(o),f.h<100&&(f.h++,o.next=f.g,f.g=o)}z=!1}function S(){this.u=this.u,this.C=this.C}S.prototype.u=!1,S.prototype.dispose=function(){this.u||(this.u=!0,this.N())},S.prototype[Symbol.dispose]=function(){this.dispose()},S.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(o,f){this.type=o,this.g=this.target=f,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var I=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var o=!1,f=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return o}();function N(o){return/^[\s\xa0]*$/.test(o)}function ae(o,f){R.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,f)}m(ae,R),ae.prototype.init=function(o,f){const g=this.type=o.type,E=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=f,f=o.relatedTarget,f||(g=="mouseover"?f=o.fromElement:g=="mouseout"&&(f=o.toElement)),this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var me="closure_listenable_"+(Math.random()*1e6|0),P=0;function V(o,f,g,E,M){this.listener=o,this.proxy=null,this.src=f,this.type=g,this.capture=!!E,this.ha=M,this.key=++P,this.da=this.fa=!1}function O(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function K(o,f,g){for(const E in o)f.call(g,o[E],E,o)}function Q(o,f){for(const g in o)f.call(void 0,o[g],g,o)}function pe(o){const f={};for(const g in o)f[g]=o[g];return f}const ne="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ue(o,f){let g,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(g in E)o[g]=E[g];for(let L=0;L<ne.length;L++)g=ne[L],Object.prototype.hasOwnProperty.call(E,g)&&(o[g]=E[g])}}function G(o){this.src=o,this.g={},this.h=0}G.prototype.add=function(o,f,g,E,M){const L=o.toString();o=this.g[L],o||(o=this.g[L]=[],this.h++);const $=te(o,f,E,M);return $>-1?(f=o[$],g||(f.fa=!1)):(f=new V(f,this.src,L,!!E,M),f.fa=g,o.push(f)),f};function W(o,f){const g=f.type;if(g in o.g){var E=o.g[g],M=Array.prototype.indexOf.call(E,f,void 0),L;(L=M>=0)&&Array.prototype.splice.call(E,M,1),L&&(O(f),o.g[g].length==0&&(delete o.g[g],o.h--))}}function te(o,f,g,E){for(let M=0;M<o.length;++M){const L=o[M];if(!L.da&&L.listener==f&&L.capture==!!g&&L.ha==E)return M}return-1}var he="closure_lm_"+(Math.random()*1e6|0),ge={};function B(o,f,g,E,M){if(Array.isArray(f)){for(let L=0;L<f.length;L++)B(o,f[L],g,E,M);return null}return g=xy(g),o&&o[me]?o.J(f,g,l(E)?!!E.capture:!1,M):X(o,f,g,!1,E,M)}function X(o,f,g,E,M,L){if(!f)throw Error("Invalid event type");const $=l(M)?!!M.capture:!!M;let fe=ss(o);if(fe||(o[he]=fe=new G(o)),g=fe.add(f,g,E,$,L),g.proxy)return g;if(E=J(),g.proxy=E,E.src=o,E.listener=g,o.addEventListener)I||(M=$),M===void 0&&(M=!1),o.addEventListener(f.toString(),E,M);else if(o.attachEvent)o.attachEvent(Ms(f.toString()),E);else if(o.addListener&&o.removeListener)o.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return g}function J(){function o(g){return f.call(o.src,o.listener,g)}const f=ve;return o}function le(o,f,g,E,M){if(Array.isArray(f))for(var L=0;L<f.length;L++)le(o,f[L],g,E,M);else E=l(E)?!!E.capture:!!E,g=xy(g),o&&o[me]?(o=o.i,L=String(f).toString(),L in o.g&&(f=o.g[L],g=te(f,g,E,M),g>-1&&(O(f[g]),Array.prototype.splice.call(f,g,1),f.length==0&&(delete o.g[L],o.h--)))):o&&(o=ss(o))&&(f=o.g[f.toString()],o=-1,f&&(o=te(f,g,E,M)),(g=o>-1?f[o]:null)&&wt(g))}function wt(o){if(typeof o!="number"&&o&&!o.da){var f=o.src;if(f&&f[me])W(f.i,o);else{var g=o.type,E=o.proxy;f.removeEventListener?f.removeEventListener(g,E,o.capture):f.detachEvent?f.detachEvent(Ms(g),E):f.addListener&&f.removeListener&&f.removeListener(E),(g=ss(f))?(W(g,o),g.h==0&&(g.src=null,f[he]=null)):O(o)}}}function Ms(o){return o in ge?ge[o]:ge[o]="on"+o}function ve(o,f){if(o.da)o=!0;else{f=new ae(f,this);const g=o.listener,E=o.ha||o.src;o.fa&&wt(o),o=g.call(E,f)}return o}function ss(o){return o=o[he],o instanceof G?o:null}var Fi="__closure_events_fn_"+(Math.random()*1e9>>>0);function xy(o){return typeof o=="function"?o:(o[Fi]||(o[Fi]=function(f){return o.handleEvent(f)}),o[Fi])}function Dt(){S.call(this),this.i=new G(this),this.M=this,this.G=null}m(Dt,S),Dt.prototype[me]=!0,Dt.prototype.removeEventListener=function(o,f,g,E){le(this,o,f,g,E)};function Lt(o,f){var g,E=o.G;if(E)for(g=[];E;E=E.G)g.push(E);if(o=o.M,E=f.type||f,typeof f=="string")f=new R(f,o);else if(f instanceof R)f.target=f.target||o;else{var M=f;f=new R(E,o),Ue(f,M)}M=!0;let L,$;if(g)for($=g.length-1;$>=0;$--)L=f.g=g[$],M=ic(L,E,!0,f)&&M;if(L=f.g=o,M=ic(L,E,!0,f)&&M,M=ic(L,E,!1,f)&&M,g)for($=0;$<g.length;$++)L=f.g=g[$],M=ic(L,E,!1,f)&&M}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var o=this.i;for(const f in o.g){const g=o.g[f];for(let E=0;E<g.length;E++)O(g[E]);delete o.g[f],o.h--}}this.G=null},Dt.prototype.J=function(o,f,g,E){return this.i.add(String(o),f,!1,g,E)},Dt.prototype.K=function(o,f,g,E){return this.i.add(String(o),f,!0,g,E)};function ic(o,f,g,E){if(f=o.i.g[String(f)],!f)return!0;f=f.concat();let M=!0;for(let L=0;L<f.length;++L){const $=f[L];if($&&!$.da&&$.capture==g){const fe=$.listener,ft=$.ha||$.src;$.fa&&W(o.i,$),M=fe.call(ft,E)!==!1&&M}}return M&&!E.defaultPrevented}function aS(o,f){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=d(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(f)>2147483647?-1:a.setTimeout(o,f||0)}function Ey(o){o.g=aS(()=>{o.g=null,o.i&&(o.i=!1,Ey(o))},o.l);const f=o.h;o.h=null,o.m.apply(null,f)}class lS extends S{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ey(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function el(o){S.call(this),this.h=o,this.g={}}m(el,S);var wy=[];function Ty(o){K(o.g,function(f,g){this.g.hasOwnProperty(g)&&wt(f)},o),o.g={}}el.prototype.N=function(){el.Z.N.call(this),Ty(this)},el.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uh=a.JSON.stringify,oS=a.JSON.parse,cS=class{stringify(o){return a.JSON.stringify(o,void 0)}parse(o){return a.JSON.parse(o,void 0)}};function Ay(){}function Sy(){}var tl={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dh(){R.call(this,"d")}m(dh,R);function hh(){R.call(this,"c")}m(hh,R);var Gi={},Ny=null;function rc(){return Ny=Ny||new Dt}Gi.Ia="serverreachability";function Cy(o){R.call(this,Gi.Ia,o)}m(Cy,R);function nl(o){const f=rc();Lt(f,new Cy(f))}Gi.STAT_EVENT="statevent";function Ry(o,f){R.call(this,Gi.STAT_EVENT,o),this.stat=f}m(Ry,R);function Pt(o){const f=rc();Lt(f,new Ry(f,o))}Gi.Ja="timingevent";function Iy(o,f){R.call(this,Gi.Ja,o),this.size=f}m(Iy,R);function sl(o,f){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){o()},f)}function il(){this.g=!0}il.prototype.ua=function(){this.g=!1};function uS(o,f,g,E,M,L){o.info(function(){if(o.g)if(L){var $="",fe=L.split("&");for(let Me=0;Me<fe.length;Me++){var ft=fe[Me].split("=");if(ft.length>1){const yt=ft[0];ft=ft[1];const Vn=yt.split("_");$=Vn.length>=2&&Vn[1]=="type"?$+(yt+"="+ft+"&"):$+(yt+"=redacted&")}}}else $=null;else $=L;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+f+`
`+g+`
`+$})}function dS(o,f,g,E,M,L,$){o.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+f+`
`+g+`
`+L+" "+$})}function Mr(o,f,g,E){o.info(function(){return"XMLHTTP TEXT ("+f+"): "+fS(o,g)+(E?" "+E:"")})}function hS(o,f){o.info(function(){return"TIMEOUT: "+f})}il.prototype.info=function(){};function fS(o,f){if(!o.g)return f;if(!f)return null;try{const L=JSON.parse(f);if(L){for(o=0;o<L.length;o++)if(Array.isArray(L[o])){var g=L[o];if(!(g.length<2)){var E=g[1];if(Array.isArray(E)&&!(E.length<1)){var M=E[0];if(M!="noop"&&M!="stop"&&M!="close")for(let $=1;$<E.length;$++)E[$]=""}}}}return uh(L)}catch{return f}}var ac={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jy={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},ky;function fh(){}m(fh,Ay),fh.prototype.g=function(){return new XMLHttpRequest},ky=new fh;function rl(o){return encodeURIComponent(String(o))}function mS(o){var f=1;o=o.split(":");const g=[];for(;f>0&&o.length;)g.push(o.shift()),f--;return o.length&&g.push(o.join(":")),g}function Vs(o,f,g,E){this.j=o,this.i=f,this.l=g,this.S=E||1,this.V=new el(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Dy}function Dy(){this.i=null,this.g="",this.h=!1}var Oy={},mh={};function ph(o,f,g){o.M=1,o.A=oc(Mn(f)),o.u=g,o.R=!0,My(o,null)}function My(o,f){o.F=Date.now(),lc(o),o.B=Mn(o.A);var g=o.B,E=o.S;Array.isArray(E)||(E=[String(E)]),$y(g.i,"t",E),o.C=0,g=o.j.L,o.h=new Dy,o.g=h0(o.j,g?f:null,!o.u),o.P>0&&(o.O=new lS(d(o.Y,o,o.g),o.P)),f=o.V,g=o.g,E=o.ba;var M="readystatechange";Array.isArray(M)||(M&&(wy[0]=M.toString()),M=wy);for(let L=0;L<M.length;L++){const $=B(g,M[L],E||f.handleEvent,!1,f.h||f);if(!$)break;f.g[$.key]=$}f=o.J?pe(o.J):{},o.u?(o.v||(o.v="POST"),f["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,f)):(o.v="GET",o.g.ea(o.B,o.v,null,f)),nl(),uS(o.i,o.v,o.B,o.l,o.S,o.u)}Vs.prototype.ba=function(o){o=o.target;const f=this.O;f&&Ps(o)==3?f.j():this.Y(o)},Vs.prototype.Y=function(o){try{if(o==this.g)e:{const fe=Ps(this.g),ft=this.g.ya(),Me=this.g.ca();if(!(fe<3)&&(fe!=3||this.g&&(this.h.h||this.g.la()||t0(this.g)))){this.K||fe!=4||ft==7||(ft==8||Me<=0?nl(3):nl(2)),gh(this);var f=this.g.ca();this.X=f;var g=pS(this);if(this.o=f==200,dS(this.i,this.v,this.B,this.l,this.S,fe,f),this.o){if(this.U&&!this.L){t:{if(this.g){var E,M=this.g;if((E=M.g?M.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(E)){var L=E;break t}}L=null}if(o=L)Mr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yh(this,o);else{this.o=!1,this.m=3,Pt(12),Ki(this),al(this);break e}}if(this.R){o=!0;let yt;for(;!this.K&&this.C<g.length;)if(yt=gS(this,g),yt==mh){fe==4&&(this.m=4,Pt(14),o=!1),Mr(this.i,this.l,null,"[Incomplete Response]");break}else if(yt==Oy){this.m=4,Pt(15),Mr(this.i,this.l,g,"[Invalid Chunk]"),o=!1;break}else Mr(this.i,this.l,yt,null),yh(this,yt);if(Vy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fe!=4||g.length!=0||this.h.h||(this.m=1,Pt(16),o=!1),this.o=this.o&&o,!o)Mr(this.i,this.l,g,"[Invalid Chunked Response]"),Ki(this),al(this);else if(g.length>0&&!this.W){this.W=!0;var $=this.j;$.g==this&&$.aa&&!$.P&&($.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),Ah($),$.P=!0,Pt(11))}}else Mr(this.i,this.l,g,null),yh(this,g);fe==4&&Ki(this),this.o&&!this.K&&(fe==4?o0(this.j,this):(this.o=!1,lc(this)))}else IS(this.g),f==400&&g.indexOf("Unknown SID")>0?(this.m=3,Pt(12)):(this.m=0,Pt(13)),Ki(this),al(this)}}}catch{}finally{}};function pS(o){if(!Vy(o))return o.g.la();const f=t0(o.g);if(f==="")return"";let g="";const E=f.length,M=Ps(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Ki(o),al(o),"";o.h.i=new a.TextDecoder}for(let L=0;L<E;L++)o.h.h=!0,g+=o.h.i.decode(f[L],{stream:!(M&&L==E-1)});return f.length=0,o.h.g+=g,o.C=0,o.h.g}function Vy(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function gS(o,f){var g=o.C,E=f.indexOf(`
`,g);return E==-1?mh:(g=Number(f.substring(g,E)),isNaN(g)?Oy:(E+=1,E+g>f.length?mh:(f=f.slice(E,E+g),o.C=E+g,f)))}Vs.prototype.cancel=function(){this.K=!0,Ki(this)};function lc(o){o.T=Date.now()+o.H,Uy(o,o.H)}function Uy(o,f){if(o.D!=null)throw Error("WatchDog timer not null");o.D=sl(d(o.aa,o),f)}function gh(o){o.D&&(a.clearTimeout(o.D),o.D=null)}Vs.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(hS(this.i,this.B),this.M!=2&&(nl(),Pt(17)),Ki(this),this.m=2,al(this)):Uy(this,this.T-o)};function al(o){o.j.I==0||o.K||o0(o.j,o)}function Ki(o){gh(o);var f=o.O;f&&typeof f.dispose=="function"&&f.dispose(),o.O=null,Ty(o.V),o.g&&(f=o.g,o.g=null,f.abort(),f.dispose())}function yh(o,f){try{var g=o.j;if(g.I!=0&&(g.g==o||_h(g.h,o))){if(!o.L&&_h(g.h,o)&&g.I==3){try{var E=g.Ba.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<o.F)fc(g),dc(g);else break e;Th(g),Pt(18)}}else g.xa=M[1],0<g.xa-g.K&&M[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=sl(d(g.Va,g),6e3));zy(g.h)<=1&&g.ta&&(g.ta=void 0)}else $i(g,11)}else if((o.L||g.g==o)&&fc(g),!N(f))for(M=g.Ba.g.parse(f),f=0;f<M.length;f++){let Me=M[f];const yt=Me[0];if(!(yt<=g.K))if(g.K=yt,Me=Me[1],g.I==2)if(Me[0]=="c"){g.M=Me[1],g.ba=Me[2];const Vn=Me[3];Vn!=null&&(g.ka=Vn,g.j.info("VER="+g.ka));const Yi=Me[4];Yi!=null&&(g.za=Yi,g.j.info("SVER="+g.za));const zs=Me[5];zs!=null&&typeof zs=="number"&&zs>0&&(E=1.5*zs,g.O=E,g.j.info("backChannelRequestTimeoutMs_="+E)),E=g;const Bs=o.g;if(Bs){const pc=Bs.g?Bs.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pc){var L=E.h;L.g||pc.indexOf("spdy")==-1&&pc.indexOf("quic")==-1&&pc.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(vh(L,L.h),L.h=null))}if(E.G){const Sh=Bs.g?Bs.g.getResponseHeader("X-HTTP-Session-Id"):null;Sh&&(E.wa=Sh,Be(E.J,E.G,Sh))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-o.F,g.j.info("Handshake RTT: "+g.T+"ms")),E=g;var $=o;if(E.na=d0(E,E.L?E.ba:null,E.W),$.L){By(E.h,$);var fe=$,ft=E.O;ft&&(fe.H=ft),fe.D&&(gh(fe),lc(fe)),E.g=$}else a0(E);g.i.length>0&&hc(g)}else Me[0]!="stop"&&Me[0]!="close"||$i(g,7);else g.I==3&&(Me[0]=="stop"||Me[0]=="close"?Me[0]=="stop"?$i(g,7):wh(g):Me[0]!="noop"&&g.l&&g.l.qa(Me),g.A=0)}}nl(4)}catch{}}var yS=class{constructor(o,f){this.g=o,this.map=f}};function Ly(o){this.l=o||10,a.PerformanceNavigationTiming?(o=a.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Py(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function zy(o){return o.h?1:o.g?o.g.size:0}function _h(o,f){return o.h?o.h==f:o.g?o.g.has(f):!1}function vh(o,f){o.g?o.g.add(f):o.h=f}function By(o,f){o.h&&o.h==f?o.h=null:o.g&&o.g.has(f)&&o.g.delete(f)}Ly.prototype.cancel=function(){if(this.i=qy(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function qy(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let f=o.i;for(const g of o.g.values())f=f.concat(g.G);return f}return y(o.i)}var Hy=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _S(o,f){if(o){o=o.split("&");for(let g=0;g<o.length;g++){const E=o[g].indexOf("=");let M,L=null;E>=0?(M=o[g].substring(0,E),L=o[g].substring(E+1)):M=o[g],f(M,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Us(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let f;o instanceof Us?(this.l=o.l,ll(this,o.j),this.o=o.o,this.g=o.g,ol(this,o.u),this.h=o.h,bh(this,Yy(o.i)),this.m=o.m):o&&(f=String(o).match(Hy))?(this.l=!1,ll(this,f[1]||"",!0),this.o=cl(f[2]||""),this.g=cl(f[3]||"",!0),ol(this,f[4]),this.h=cl(f[5]||"",!0),bh(this,f[6]||"",!0),this.m=cl(f[7]||"")):(this.l=!1,this.i=new dl(null,this.l))}Us.prototype.toString=function(){const o=[];var f=this.j;f&&o.push(ul(f,Fy,!0),":");var g=this.g;return(g||f=="file")&&(o.push("//"),(f=this.o)&&o.push(ul(f,Fy,!0),"@"),o.push(rl(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&o.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&o.push("/"),o.push(ul(g,g.charAt(0)=="/"?xS:bS,!0))),(g=this.i.toString())&&o.push("?",g),(g=this.m)&&o.push("#",ul(g,wS)),o.join("")},Us.prototype.resolve=function(o){const f=Mn(this);let g=!!o.j;g?ll(f,o.j):g=!!o.o,g?f.o=o.o:g=!!o.g,g?f.g=o.g:g=o.u!=null;var E=o.h;if(g)ol(f,o.u);else if(g=!!o.h){if(E.charAt(0)!="/")if(this.g&&!this.h)E="/"+E;else{var M=f.h.lastIndexOf("/");M!=-1&&(E=f.h.slice(0,M+1)+E)}if(M=E,M==".."||M==".")E="";else if(M.indexOf("./")!=-1||M.indexOf("/.")!=-1){E=M.lastIndexOf("/",0)==0,M=M.split("/");const L=[];for(let $=0;$<M.length;){const fe=M[$++];fe=="."?E&&$==M.length&&L.push(""):fe==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),E&&$==M.length&&L.push("")):(L.push(fe),E=!0)}E=L.join("/")}else E=M}return g?f.h=E:g=o.i.toString()!=="",g?bh(f,Yy(o.i)):g=!!o.m,g&&(f.m=o.m),f};function Mn(o){return new Us(o)}function ll(o,f,g){o.j=g?cl(f,!0):f,o.j&&(o.j=o.j.replace(/:$/,""))}function ol(o,f){if(f){if(f=Number(f),isNaN(f)||f<0)throw Error("Bad port number "+f);o.u=f}else o.u=null}function bh(o,f,g){f instanceof dl?(o.i=f,TS(o.i,o.l)):(g||(f=ul(f,ES)),o.i=new dl(f,o.l))}function Be(o,f,g){o.i.set(f,g)}function oc(o){return Be(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function cl(o,f){return o?f?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function ul(o,f,g){return typeof o=="string"?(o=encodeURI(o).replace(f,vS),g&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function vS(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Fy=/[#\/\?@]/g,bS=/[#\?:]/g,xS=/[#\?]/g,ES=/[#\?@]/g,wS=/#/g;function dl(o,f){this.h=this.g=null,this.i=o||null,this.j=!!f}function Qi(o){o.g||(o.g=new Map,o.h=0,o.i&&_S(o.i,function(f,g){o.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=dl.prototype,t.add=function(o,f){Qi(this),this.i=null,o=Vr(this,o);let g=this.g.get(o);return g||this.g.set(o,g=[]),g.push(f),this.h+=1,this};function Gy(o,f){Qi(o),f=Vr(o,f),o.g.has(f)&&(o.i=null,o.h-=o.g.get(f).length,o.g.delete(f))}function Ky(o,f){return Qi(o),f=Vr(o,f),o.g.has(f)}t.forEach=function(o,f){Qi(this),this.g.forEach(function(g,E){g.forEach(function(M){o.call(f,M,E,this)},this)},this)};function Qy(o,f){Qi(o);let g=[];if(typeof f=="string")Ky(o,f)&&(g=g.concat(o.g.get(Vr(o,f))));else for(o=Array.from(o.g.values()),f=0;f<o.length;f++)g=g.concat(o[f]);return g}t.set=function(o,f){return Qi(this),this.i=null,o=Vr(this,o),Ky(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[f]),this.h+=1,this},t.get=function(o,f){return o?(o=Qy(this,o),o.length>0?String(o[0]):f):f};function $y(o,f,g){Gy(o,f),g.length>0&&(o.i=null,o.g.set(Vr(o,f),y(g)),o.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],f=Array.from(this.g.keys());for(let E=0;E<f.length;E++){var g=f[E];const M=rl(g);g=Qy(this,g);for(let L=0;L<g.length;L++){let $=M;g[L]!==""&&($+="="+rl(g[L])),o.push($)}}return this.i=o.join("&")};function Yy(o){const f=new dl;return f.i=o.i,o.g&&(f.g=new Map(o.g),f.h=o.h),f}function Vr(o,f){return f=String(f),o.j&&(f=f.toLowerCase()),f}function TS(o,f){f&&!o.j&&(Qi(o),o.i=null,o.g.forEach(function(g,E){const M=E.toLowerCase();E!=M&&(Gy(this,E),$y(this,M,g))},o)),o.j=f}function AS(o,f){const g=new il;if(a.Image){const E=new Image;E.onload=h(Ls,g,"TestLoadImage: loaded",!0,f,E),E.onerror=h(Ls,g,"TestLoadImage: error",!1,f,E),E.onabort=h(Ls,g,"TestLoadImage: abort",!1,f,E),E.ontimeout=h(Ls,g,"TestLoadImage: timeout",!1,f,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=o}else f(!1)}function SS(o,f){const g=new il,E=new AbortController,M=setTimeout(()=>{E.abort(),Ls(g,"TestPingServer: timeout",!1,f)},1e4);fetch(o,{signal:E.signal}).then(L=>{clearTimeout(M),L.ok?Ls(g,"TestPingServer: ok",!0,f):Ls(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Ls(g,"TestPingServer: error",!1,f)})}function Ls(o,f,g,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(g)}catch{}}function NS(){this.g=new cS}function xh(o){this.i=o.Sb||null,this.h=o.ab||!1}m(xh,Ay),xh.prototype.g=function(){return new cc(this.i,this.h)};function cc(o,f){Dt.call(this),this.H=o,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(cc,Dt),t=cc.prototype,t.open=function(o,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=f,this.readyState=1,fl(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const f={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(f.body=o),(this.H||a).fetch(new Request(this.D,f)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hl(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,fl(this)),this.g&&(this.readyState=3,fl(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xy(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xy(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var f=o.value?o.value:new Uint8Array(0);(f=this.B.decode(f,{stream:!o.done}))&&(this.response=this.responseText+=f)}o.done?hl(this):fl(this),this.readyState==3&&Xy(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,hl(this))},t.Na=function(o){this.g&&(this.response=o,hl(this))},t.ga=function(){this.g&&hl(this)};function hl(o){o.readyState=4,o.l=null,o.j=null,o.B=null,fl(o)}t.setRequestHeader=function(o,f){this.A.append(o,f)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,o.push(g[0]+": "+g[1]),g=f.next();return o.join(`\r
`)};function fl(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(cc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Wy(o){let f="";return K(o,function(g,E){f+=E,f+=":",f+=g,f+=`\r
`}),f}function Eh(o,f,g){e:{for(E in g){var E=!1;break e}E=!0}E||(g=Wy(g),typeof o=="string"?g!=null&&rl(g):Be(o,f,g))}function We(o){Dt.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(We,Dt);var CS=/^https?$/i,RS=["POST","PUT"];t=We.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,f,g,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);f=f?f.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ky.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(f,String(o),!0),this.B=!1}catch(L){Jy(this,L);return}if(o=g||"",g=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)g.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const L of E.keys())g.set(L,E.get(L));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),M=a.FormData&&o instanceof a.FormData,!(Array.prototype.indexOf.call(RS,f,void 0)>=0)||E||M||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,$]of g)this.g.setRequestHeader(L,$);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(L){Jy(this,L)}};function Jy(o,f){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=f,o.o=5,Zy(o),uc(o)}function Zy(o){o.A||(o.A=!0,Lt(o,"complete"),Lt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,Lt(this,"complete"),Lt(this,"abort"),uc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),uc(this,!0)),We.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?e0(this):this.Xa())},t.Xa=function(){e0(this)};function e0(o){if(o.h&&typeof r<"u"){if(o.v&&Ps(o)==4)setTimeout(o.Ca.bind(o),0);else if(Lt(o,"readystatechange"),Ps(o)==4){o.h=!1;try{const L=o.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var E;if(E=L===0){let $=String(o.D).match(Hy)[1]||null;!$&&a.self&&a.self.location&&($=a.self.location.protocol.slice(0,-1)),E=!CS.test($?$.toLowerCase():"")}g=E}if(g)Lt(o,"complete"),Lt(o,"success");else{o.o=6;try{var M=Ps(o)>2?o.g.statusText:""}catch{M=""}o.l=M+" ["+o.ca()+"]",Zy(o)}}finally{uc(o)}}}}function uc(o,f){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const g=o.g;o.g=null,f||Lt(o,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ps(o){return o.g?o.g.readyState:0}t.ca=function(){try{return Ps(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var f=this.g.responseText;return o&&f.indexOf(o)==0&&(f=f.substring(o.length)),oS(f)}};function t0(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function IS(o){const f={};o=(o.g&&Ps(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<o.length;E++){if(N(o[E]))continue;var g=mS(o[E]);const M=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=f[M]||[];f[M]=L,L.push(g)}Q(f,function(E){return E.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(o,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[o]||f}function n0(o){this.za=0,this.i=[],this.j=new il,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ml("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ml("baseRetryDelayMs",5e3,o),this.Za=ml("retryDelaySeedMs",1e4,o),this.Ta=ml("forwardChannelMaxRetries",2,o),this.va=ml("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Ly(o&&o.concurrentRequestLimit),this.Ba=new NS,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=n0.prototype,t.ka=8,t.I=1,t.connect=function(o,f,g,E){Pt(0),this.W=o,this.H=f||{},g&&E!==void 0&&(this.H.OSID=g,this.H.OAID=E),this.F=this.X,this.J=d0(this,null,this.W),hc(this)};function wh(o){if(s0(o),o.I==3){var f=o.V++,g=Mn(o.J);if(Be(g,"SID",o.M),Be(g,"RID",f),Be(g,"TYPE","terminate"),pl(o,g),f=new Vs(o,o.j,f),f.M=2,f.A=oc(Mn(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.A.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.A,g=!0),g||(f.g=h0(f.j,null),f.g.ea(f.A)),f.F=Date.now(),lc(f)}u0(o)}function dc(o){o.g&&(Ah(o),o.g.cancel(),o.g=null)}function s0(o){dc(o),o.v&&(a.clearTimeout(o.v),o.v=null),fc(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&a.clearTimeout(o.m),o.m=null)}function hc(o){if(!Py(o.h)&&!o.m){o.m=!0;var f=o.Ea;U||_(),z||(U(),z=!0),w.add(f,o),o.D=0}}function jS(o,f){return zy(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=f.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=sl(d(o.Ea,o,f),c0(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const M=new Vs(this,this.j,o);let L=this.o;if(this.U&&(L?(L=pe(L),Ue(L,this.U)):L=this.U),this.u!==null||this.R||(M.J=L,L=null),this.S)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var E=this.i[g];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,f>4096){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=r0(this,M,f),g=Mn(this.J),Be(g,"RID",o),Be(g,"CVER",22),this.G&&Be(g,"X-HTTP-Session-Id",this.G),pl(this,g),L&&(this.R?f="headers="+rl(Wy(L))+"&"+f:this.u&&Eh(g,this.u,L)),vh(this.h,M),this.Ra&&Be(g,"TYPE","init"),this.S?(Be(g,"$req",f),Be(g,"SID","null"),M.U=!0,ph(M,g,null)):ph(M,g,f),this.I=2}}else this.I==3&&(o?i0(this,o):this.i.length==0||Py(this.h)||i0(this))};function i0(o,f){var g;f?g=f.l:g=o.V++;const E=Mn(o.J);Be(E,"SID",o.M),Be(E,"RID",g),Be(E,"AID",o.K),pl(o,E),o.u&&o.o&&Eh(E,o.u,o.o),g=new Vs(o,o.j,g,o.D+1),o.u===null&&(g.J=o.o),f&&(o.i=f.G.concat(o.i)),f=r0(o,g,1e3),g.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),vh(o.h,g),ph(g,E,f)}function pl(o,f){o.H&&K(o.H,function(g,E){Be(f,E,g)}),o.l&&K({},function(g,E){Be(f,E,g)})}function r0(o,f,g){g=Math.min(o.i.length,g);const E=o.l?d(o.l.Ka,o.l,o):null;e:{var M=o.i;let fe=-1;for(;;){const ft=["count="+g];fe==-1?g>0?(fe=M[0].g,ft.push("ofs="+fe)):fe=0:ft.push("ofs="+fe);let Me=!0;for(let yt=0;yt<g;yt++){var L=M[yt].g;const Vn=M[yt].map;if(L-=fe,L<0)fe=Math.max(0,M[yt].g-100),Me=!1;else try{L="req"+L+"_"||"";try{var $=Vn instanceof Map?Vn:Object.entries(Vn);for(const[Yi,zs]of $){let Bs=zs;l(zs)&&(Bs=uh(zs)),ft.push(L+Yi+"="+encodeURIComponent(Bs))}}catch(Yi){throw ft.push(L+"type="+encodeURIComponent("_badmap")),Yi}}catch{E&&E(Vn)}}if(Me){$=ft.join("&");break e}}$=void 0}return o=o.i.splice(0,g),f.G=o,$}function a0(o){if(!o.g&&!o.v){o.Y=1;var f=o.Da;U||_(),z||(U(),z=!0),w.add(f,o),o.A=0}}function Th(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=sl(d(o.Da,o),c0(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,l0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=sl(d(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Pt(10),dc(this),l0(this))};function Ah(o){o.B!=null&&(a.clearTimeout(o.B),o.B=null)}function l0(o){o.g=new Vs(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var f=Mn(o.na);Be(f,"RID","rpc"),Be(f,"SID",o.M),Be(f,"AID",o.K),Be(f,"CI",o.F?"0":"1"),!o.F&&o.ia&&Be(f,"TO",o.ia),Be(f,"TYPE","xmlhttp"),pl(o,f),o.u&&o.o&&Eh(f,o.u,o.o),o.O&&(o.g.H=o.O);var g=o.g;o=o.ba,g.M=1,g.A=oc(Mn(f)),g.u=null,g.R=!0,My(g,o)}t.Va=function(){this.C!=null&&(this.C=null,dc(this),Th(this),Pt(19))};function fc(o){o.C!=null&&(a.clearTimeout(o.C),o.C=null)}function o0(o,f){var g=null;if(o.g==f){fc(o),Ah(o),o.g=null;var E=2}else if(_h(o.h,f))g=f.G,By(o.h,f),E=1;else return;if(o.I!=0){if(f.o)if(E==1){g=f.u?f.u.length:0,f=Date.now()-f.F;var M=o.D;E=rc(),Lt(E,new Iy(E,g)),hc(o)}else a0(o);else if(M=f.m,M==3||M==0&&f.X>0||!(E==1&&jS(o,f)||E==2&&Th(o)))switch(g&&g.length>0&&(f=o.h,f.i=f.i.concat(g)),M){case 1:$i(o,5);break;case 4:$i(o,10);break;case 3:$i(o,6);break;default:$i(o,2)}}}function c0(o,f){let g=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(g*=2),g*f}function $i(o,f){if(o.j.info("Error code "+f),f==2){var g=d(o.bb,o),E=o.Ua;const M=!E;E=new Us(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||ll(E,"https"),oc(E),M?AS(E.toString(),g):SS(E.toString(),g)}else Pt(2);o.I=0,o.l&&o.l.pa(f),u0(o),s0(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),Pt(2)):(this.j.info("Failed to ping google.com"),Pt(1))};function u0(o){if(o.I=0,o.ja=[],o.l){const f=qy(o.h);(f.length!=0||o.i.length!=0)&&(C(o.ja,f),C(o.ja,o.i),o.h.i.length=0,y(o.i),o.i.length=0),o.l.oa()}}function d0(o,f,g){var E=g instanceof Us?Mn(g):new Us(g);if(E.g!="")f&&(E.g=f+"."+E.g),ol(E,E.u);else{var M=a.location;E=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;const L=new Us(null);E&&ll(L,E),f&&(L.g=f),M&&ol(L,M),g&&(L.h=g),E=L}return g=o.G,f=o.wa,g&&f&&Be(E,g,f),Be(E,"VER",o.ka),pl(o,E),E}function h0(o,f,g){if(f&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return f=o.Aa&&!o.ma?new We(new xh({ab:g})):new We(o.ma),f.Fa(o.L),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function f0(){}t=f0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function mc(){}mc.prototype.g=function(o,f){return new Zt(o,f)};function Zt(o,f){Dt.call(this),this.g=new n0(f),this.l=o,this.h=f&&f.messageUrlParams||null,o=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(o?o["X-WebChannel-Content-Type"]=f.messageContentType:o={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.sa&&(o?o["X-WebChannel-Client-Profile"]=f.sa:o={"X-WebChannel-Client-Profile":f.sa}),this.g.U=o,(o=f&&f.Qb)&&!N(o)&&(this.g.u=o),this.A=f&&f.supportsCrossDomainXhr||!1,this.v=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!N(f)&&(this.g.G=f,o=this.h,o!==null&&f in o&&(o=this.h,f in o&&delete o[f])),this.j=new Ur(this)}m(Zt,Dt),Zt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Zt.prototype.close=function(){wh(this.g)},Zt.prototype.o=function(o){var f=this.g;if(typeof o=="string"){var g={};g.__data__=o,o=g}else this.v&&(g={},g.__data__=uh(o),o=g);f.i.push(new yS(f.Ya++,o)),f.I==3&&hc(f)},Zt.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,Zt.Z.N.call(this)};function m0(o){dh.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var f=o.__sm__;if(f){e:{for(const g in f){o=g;break e}o=void 0}(this.i=o)&&(o=this.i,f=f!==null&&o in f?f[o]:void 0),this.data=f}else this.data=o}m(m0,dh);function p0(){hh.call(this),this.status=1}m(p0,hh);function Ur(o){this.g=o}m(Ur,f0),Ur.prototype.ra=function(){Lt(this.g,"a")},Ur.prototype.qa=function(o){Lt(this.g,new m0(o))},Ur.prototype.pa=function(o){Lt(this.g,new p0)},Ur.prototype.oa=function(){Lt(this.g,"b")},mc.prototype.createWebChannel=mc.prototype.g,Zt.prototype.send=Zt.prototype.o,Zt.prototype.open=Zt.prototype.m,Zt.prototype.close=Zt.prototype.close,h1=function(){return new mc},d1=function(){return rc()},u1=Gi,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ac.NO_ERROR=0,ac.TIMEOUT=8,ac.HTTP_ERROR=6,au=ac,jy.COMPLETE="complete",c1=jy,Sy.EventType=tl,tl.OPEN="a",tl.CLOSE="b",tl.ERROR="c",tl.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,jl=Sy,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,o1=We}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const Mv="@firebase/firestore",Vv="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new mg("@firebase/firestore");function Hr(){return xr.logLevel}function Z(t,...e){if(xr.logLevel<=be.DEBUG){const n=e.map(Sg);xr.debug(`Firestore (${Ya}): ${t}`,...n)}}function Is(t,...e){if(xr.logLevel<=be.ERROR){const n=e.map(Sg);xr.error(`Firestore (${Ya}): ${t}`,...n)}}function Ia(t,...e){if(xr.logLevel<=be.WARN){const n=e.map(Sg);xr.warn(`Firestore (${Ya}): ${t}`,...n)}}function Sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,f1(t,s,n)}function f1(t,e,n){let s=`FIRESTORE (${Ya}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Is(s),new Error(s)}function Re(t,e,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,t||f1(e,i,s)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends ns{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class LD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class PD{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let s=this.i;const i=c=>this.i!==s?(s=this.i,n(c)):Promise.resolve();let r=new bs;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new bs,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const c=r;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},l=c=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new bs)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Re(typeof s.accessToken=="string",31837,{l:s}),new m1(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Mt(e)}}class zD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class BD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new zD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const s=r=>{r.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const a=r.token!==this.m;return this.m=r.token,Z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.V.getImmediate({optional:!0});r?i(r):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Uv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Uv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const i=HD(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%62))}return s}}function xe(t,e){return t<e?-1:t>e?1:0}function Pm(t,e){const n=Math.min(t.length,e.length);for(let s=0;s<n;s++){const i=t.charAt(s),r=e.charAt(s);if(i!==r)return bf(i)===bf(r)?xe(i,r):bf(i)?1:-1}return xe(t.length,e.length)}const FD=55296,GD=57343;function bf(t){const e=t.charCodeAt(0);return e>=FD&&e<=GD}function ja(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="__name__";class Un{constructor(e,n,s){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&ie(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Un.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Un?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=Un.compareSegments(e.get(i),n.get(i));if(r!==0)return r}return xe(e.length,n.length)}static compareSegments(e,n){const s=Un.isNumericId(e),i=Un.isNumericId(n);return s&&!i?-1:!s&&i?1:s&&i?Un.extractNumericId(e).compare(Un.extractNumericId(n)):Pm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return xi.fromString(e.substring(4,e.length-2))}}class Le extends Un{construct(e,n,s){return new Le(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new Y(q.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}const KD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends Un{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return KD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Lv}static keyField(){return new Ct([Lv])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new Y(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let a=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new Y(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Y(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=c,i+=2}else l==="`"?(a=!a,i++):l!=="."||a?(s+=l,i++):(r(),i++)}if(r(),a)throw new Y(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee(Le.fromString(e))}static fromName(e){return new ee(Le.fromString(e).popFirst(5))}static empty(){return new ee(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new Le(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(t,e,n){if(!n)throw new Y(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QD(t,e,n,s){if(e===!0&&s===!0)throw new Y(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Pv(t){if(!ee.isDocumentKey(t))throw new Y(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zv(t){if(ee.isDocumentKey(t))throw new Y(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function g1(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Bd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function Tn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bd(t);throw new Y(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(t,e){const n={typeString:t};return e&&(n.value=e),n}function Jo(t,e){if(!g1(t))throw new Y(q.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const i=e[s].typeString,r="value"in e[s]?{value:e[s].value}:void 0;if(!(s in t)){n=`JSON missing required field: '${s}'`;break}const a=t[s];if(i&&typeof a!==i){n=`JSON field '${s}' must be a ${i}.`;break}if(r!==void 0&&a!==r.value){n=`Expected '${s}' field to equal '${r.value}'`;break}}if(n)throw new Y(q.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-62135596800,qv=1e6;class Fe{static now(){return Fe.fromMillis(Date.now())}static fromDate(e){return Fe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*qv);return new Fe(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Bv)throw new Y(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qv}_compareTo(e){return this.seconds===e.seconds?xe(this.nanoseconds,e.nanoseconds):xe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jo(e,Fe._jsonSchema))return new Fe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Bv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Fe._jsonSchemaVersion="firestore/timestamp/1.0",Fe._jsonSchema={type:ht("string",Fe._jsonSchemaVersion),seconds:ht("number"),nanoseconds:ht("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{static fromTimestamp(e){return new oe(e)}static min(){return new oe(new Fe(0,0))}static max(){return new oe(new Fe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const To=-1;function $D(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=oe.fromTimestamp(s===1e9?new Fe(n+1,0):new Fe(n,s));return new Ci(i,ee.empty(),e)}function YD(t){return new Ci(t.readTime,t.key,To)}class Ci{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Ci(oe.min(),ee.empty(),To)}static max(){return new Ci(oe.max(),ee.empty(),To)}}function XD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:xe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xa(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==WD)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,s)=>{n(e)})}static reject(e){return new F((n,s)=>{s(e)})}static waitFor(e){return new F((n,s)=>{let i=0,r=0,a=!1;e.forEach(l=>{++i,l.next(()=>{++r,a&&r===i&&n()},c=>s(c))}),a=!0,r===i&&n()})}static or(e){let n=F.resolve(!1);for(const s of e)n=n.next(i=>i?F.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new F((s,i)=>{const r=e.length,a=new Array(r);let l=0;for(let c=0;c<r;c++){const d=c;n(e[d]).next(h=>{a[d]=h,++l,l===r&&s(a)},h=>i(h))}})}static doWhile(e,n){return new F((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function ZD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Wa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}qd.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=-1;function Hd(t){return t==null}function Zu(t){return t===0&&1/t==-1/0}function eO(t){return typeof t=="number"&&Number.isInteger(t)&&!Zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="";function tO(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Hv(e)),e=nO(t.get(n),e);return Hv(e)}function nO(t,e){let n=e;const s=t.length;for(let i=0;i<s;i++){const r=t.charAt(i);switch(r){case"\0":n+="";break;case y1:n+="";break;default:n+=r}}return n}function Hv(t){return t+y1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Xe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Xe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Oc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Oc(this.root,e,this.comparator,!0)}}class Oc{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??At.RED,this.left=i??At.EMPTY,this.right=r??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new At(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return At.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,s,i,r){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gv(this.data.getIterator())}getIteratorFrom(e){return new Gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class Gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new rn([])}unionWith(e){let n=new pt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ja(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new v1("Invalid base64 string: "+r):r}}(e);return new jt(n)}static fromUint8Array(e){const n=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const sO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ri(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=sO.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:nt(t.seconds),nanos:nt(t.nanos)}}function nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="server_timestamp",x1="__type__",E1="__previous_value__",w1="__local_write_time__";function Rg(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[x1])==null?void 0:s.stringValue)===b1}function Fd(t){const e=t.mapValue.fields[E1];return Rg(e)?Fd(e):e}function Ao(t){const e=Ri(t.mapValue.fields[w1].timestampValue);return new Fe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iO{constructor(e,n,s,i,r,a,l,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=a,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const ed="(default)";class So{constructor(e,n){this.projectId=e,this.database=n||ed}static empty(){return new So("","")}get isDefaultDatabase(){return this.database===ed}isEqual(e){return e instanceof So&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T1="__type__",rO="__max__",Mc={mapValue:{}},A1="__vector__",td="value";function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Rg(t)?4:lO(t)?9007199254740991:aO(t)?10:11:ie(28295,{value:t})}function Xn(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ao(t).isEqual(Ao(e));case 3:return function(i,r){if(typeof i.timestampValue=="string"&&typeof r.timestampValue=="string"&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=Ri(i.timestampValue),l=Ri(r.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,r){return Ii(i.bytesValue).isEqual(Ii(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,r){return nt(i.geoPointValue.latitude)===nt(r.geoPointValue.latitude)&&nt(i.geoPointValue.longitude)===nt(r.geoPointValue.longitude)}(t,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return nt(i.integerValue)===nt(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=nt(i.doubleValue),l=nt(r.doubleValue);return a===l?Zu(a)===Zu(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return ja(t.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(i,r){const a=i.mapValue.fields||{},l=r.mapValue.fields||{};if(Fv(a)!==Fv(l))return!1;for(const c in a)if(a.hasOwnProperty(c)&&(l[c]===void 0||!Xn(a[c],l[c])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function No(t,e){return(t.values||[]).find(n=>Xn(n,e))!==void 0}function ka(t,e){if(t===e)return 0;const n=ji(t),s=ji(e);if(n!==s)return xe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return xe(t.booleanValue,e.booleanValue);case 2:return function(r,a){const l=nt(r.integerValue||r.doubleValue),c=nt(a.integerValue||a.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return Kv(t.timestampValue,e.timestampValue);case 4:return Kv(Ao(t),Ao(e));case 5:return Pm(t.stringValue,e.stringValue);case 6:return function(r,a){const l=Ii(r),c=Ii(a);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(r,a){const l=r.split("/"),c=a.split("/");for(let d=0;d<l.length&&d<c.length;d++){const h=xe(l[d],c[d]);if(h!==0)return h}return xe(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,a){const l=xe(nt(r.latitude),nt(a.latitude));return l!==0?l:xe(nt(r.longitude),nt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Qv(t.arrayValue,e.arrayValue);case 10:return function(r,a){var p,y,C,j;const l=r.fields||{},c=a.fields||{},d=(p=l[td])==null?void 0:p.arrayValue,h=(y=c[td])==null?void 0:y.arrayValue,m=xe(((C=d==null?void 0:d.values)==null?void 0:C.length)||0,((j=h==null?void 0:h.values)==null?void 0:j.length)||0);return m!==0?m:Qv(d,h)}(t.mapValue,e.mapValue);case 11:return function(r,a){if(r===Mc.mapValue&&a===Mc.mapValue)return 0;if(r===Mc.mapValue)return 1;if(a===Mc.mapValue)return-1;const l=r.fields||{},c=Object.keys(l),d=a.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const p=Pm(c[m],h[m]);if(p!==0)return p;const y=ka(l[c[m]],d[h[m]]);if(y!==0)return y}return xe(c.length,h.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{he:n})}}function Kv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xe(t,e);const n=Ri(t),s=Ri(e),i=xe(n.seconds,s.seconds);return i!==0?i:xe(n.nanos,s.nanos)}function Qv(t,e){const n=t.values||[],s=e.values||[];for(let i=0;i<n.length&&i<s.length;++i){const r=ka(n[i],s[i]);if(r)return r}return xe(n.length,s.length)}function Da(t){return zm(t)}function zm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const s=Ri(n);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let s="[",i=!0;for(const r of n.values||[])i?i=!1:s+=",",s+=zm(r);return s+"]"}(t.arrayValue):"mapValue"in t?function(n){const s=Object.keys(n.fields||{}).sort();let i="{",r=!0;for(const a of s)r?r=!1:i+=",",i+=`${a}:${zm(n.fields[a])}`;return i+"}"}(t.mapValue):ie(61005,{value:t})}function lu(t){switch(ji(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fd(t);return e?16+lu(e):16;case 5:return 2*t.stringValue.length;case 6:return Ii(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((i,r)=>i+lu(r),0)}(t.arrayValue);case 10:case 11:return function(s){let i=0;return Bi(s.fields,(r,a)=>{i+=r.length+lu(a)}),i}(t.mapValue);default:throw ie(13486,{value:t})}}function $v(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Bm(t){return!!t&&"integerValue"in t}function Ig(t){return!!t&&"arrayValue"in t}function Yv(t){return!!t&&"nullValue"in t}function Xv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ou(t){return!!t&&"mapValue"in t}function aO(t){var n,s;return((s=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[T1])==null?void 0:s.stringValue)===A1}function Jl(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Bi(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Jl(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Jl(t.arrayValue.values[n]);return e}return{...t}}function lO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===rO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ou(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(n)}setAll(e){let n=Ct.emptyPath(),s={},i=[];e.forEach((a,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,s,i),s={},i=[],n=l.popLast()}a?s[l.lastSegment()]=Jl(a):i.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());ou(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];ou(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){Bi(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new Yt(Jl(this.value))}}function S1(t){const e=[];return Bi(t.fields,(n,s)=>{const i=new Ct([n]);if(ou(s)){const r=S1(s.mapValue).fields;if(r.length===0)e.push(i);else for(const a of r)e.push(i.child(a))}else e.push(i)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,s,i,r,a,l){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new Vt(e,0,oe.min(),oe.min(),oe.min(),Yt.empty(),0)}static newFoundDocument(e,n,s,i){return new Vt(e,1,n,oe.min(),s,i,0)}static newNoDocument(e,n){return new Vt(e,2,n,oe.min(),oe.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,oe.min(),oe.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,n){this.position=e,this.inclusive=n}}function Wv(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],a=t.position[i];if(r.field.isKeyField()?s=ee.comparator(ee.fromName(a.referenceValue),n.key):s=ka(a,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Jv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Xn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n="asc"){this.field=e,this.dir=n}}function oO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{}class ut extends N1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new uO(e,n,s):n==="array-contains"?new fO(e,s):n==="in"?new mO(e,s):n==="not-in"?new pO(e,s):n==="array-contains-any"?new gO(e,s):new ut(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dO(e,s):new hO(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ka(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends N1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kn(e,n)}matches(e){return C1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function C1(t){return t.op==="and"}function R1(t){return cO(t)&&C1(t)}function cO(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function qm(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+Da(t.value);if(R1(t))return t.filters.map(e=>qm(e)).join(",");{const e=t.filters.map(n=>qm(n)).join(",");return`${t.op}(${e})`}}function I1(t,e){return t instanceof ut?function(s,i){return i instanceof ut&&s.op===i.op&&s.field.isEqual(i.field)&&Xn(s.value,i.value)}(t,e):t instanceof kn?function(s,i){return i instanceof kn&&s.op===i.op&&s.filters.length===i.filters.length?s.filters.reduce((r,a,l)=>r&&I1(a,i.filters[l]),!0):!1}(t,e):void ie(19439)}function j1(t){return t instanceof ut?function(n){return`${n.field.canonicalString()} ${n.op} ${Da(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(j1).join(" ,")+"}"}(t):"Filter"}class uO extends ut{constructor(e,n,s){super(e,n,s),this.key=ee.fromName(s.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class dO extends ut{constructor(e,n){super(e,"in",n),this.keys=k1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hO extends ut{constructor(e,n){super(e,"not-in",n),this.keys=k1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function k1(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(s=>ee.fromName(s.referenceValue))}class fO extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ig(n)&&No(n.arrayValue,this.value)}}class mO extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&No(this.value.arrayValue,n)}}class pO extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(No(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!No(this.value.arrayValue,n)}}class gO extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ig(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>No(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,n=null,s=[],i=[],r=null,a=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=a,this.endAt=l,this.Te=null}}function Zv(t,e=null,n=[],s=[],i=null,r=null,a=null){return new yO(t,e,n,s,i,r,a)}function jg(t){const e=ce(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>qm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(r){return r.field.canonicalString()+r.dir}(s)).join(","),Hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Da(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Da(s)).join(",")),e.Te=n}return e.Te}function kg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!I1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jv(t.startAt,e.startAt)&&Jv(t.endAt,e.endAt)}function Hm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e,n=null,s=[],i=[],r=null,a="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=a,this.startAt=l,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function _O(t,e,n,s,i,r,a,l){return new Ja(t,e,n,s,i,r,a,l)}function Gd(t){return new Ja(t)}function eb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function D1(t){return t.collectionGroup!==null}function Zl(t){const e=ce(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const r of e.explicitOrderBy)e.Ie.push(r),n.add(r.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let l=new pt(Ct.comparator);return a.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(r=>{n.has(r.canonicalString())||r.isKeyField()||e.Ie.push(new Co(r,s))}),n.has(Ct.keyField().canonicalString())||e.Ie.push(new Co(Ct.keyField(),s))}return e.Ie}function Kn(t){const e=ce(t);return e.Ee||(e.Ee=vO(e,Zl(t))),e.Ee}function vO(t,e){if(t.limitType==="F")return Zv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const r=i.dir==="desc"?"asc":"desc";return new Co(i.field,r)});const n=t.endAt?new nd(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nd(t.startAt.position,t.startAt.inclusive):null;return Zv(t.path,t.collectionGroup,e,t.filters,t.limit,n,s)}}function Fm(t,e){const n=t.filters.concat([e]);return new Ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gm(t,e,n){return new Ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kd(t,e){return kg(Kn(t),Kn(e))&&t.limitType===e.limitType}function O1(t){return`${jg(Kn(t))}|lt:${t.limitType}`}function Fr(t){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(i=>j1(i)).join(", ")}]`),Hd(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>Da(i)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>Da(i)).join(",")),`Target(${s})`}(Kn(t))}; limitType=${t.limitType})`}function Qd(t,e){return e.isFoundDocument()&&function(s,i){const r=i.key.path;return s.collectionGroup!==null?i.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):ee.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,i){for(const r of Zl(s))if(!r.field.isKeyField()&&i.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,i){for(const r of s.filters)if(!r.matches(i))return!1;return!0}(t,e)&&function(s,i){return!(s.startAt&&!function(a,l,c){const d=Wv(a,l,c);return a.inclusive?d<=0:d<0}(s.startAt,Zl(s),i)||s.endAt&&!function(a,l,c){const d=Wv(a,l,c);return a.inclusive?d>=0:d>0}(s.endAt,Zl(s),i))}(t,e)}function bO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function M1(t){return(e,n)=>{let s=!1;for(const i of Zl(t)){const r=xO(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function xO(t,e,n){const s=t.field.isKeyField()?ee.comparator(e.key,n.key):function(r,a,l){const c=a.data.field(r),d=l.data.field(r);return c!==null&&d!==null?ka(c,d):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Bi(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return _1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new Xe(ee.comparator);function js(){return EO}const V1=new Xe(ee.comparator);function kl(...t){let e=V1;for(const n of t)e=e.insert(n.key,n);return e}function U1(t){let e=V1;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function nr(){return eo()}function L1(){return eo()}function eo(){return new kr(t=>t.toString(),(t,e)=>t.isEqual(e))}const wO=new Xe(ee.comparator),TO=new pt(ee.comparator);function Ee(...t){let e=TO;for(const n of t)e=e.add(n);return e}const AO=new pt(xe);function SO(){return AO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dg(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zu(e)?"-0":e}}function P1(t){return{integerValue:""+t}}function NO(t,e){return eO(e)?P1(e):Dg(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(){this._=void 0}}function CO(t,e,n){return t instanceof Ro?function(i,r){const a={fields:{[x1]:{stringValue:b1},[w1]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&Rg(r)&&(r=Fd(r)),r&&(a.fields[E1]=r),{mapValue:a}}(n,e):t instanceof Io?B1(t,e):t instanceof jo?q1(t,e):function(i,r){const a=z1(i,r),l=tb(a)+tb(i.Ae);return Bm(a)&&Bm(i.Ae)?P1(l):Dg(i.serializer,l)}(t,e)}function RO(t,e,n){return t instanceof Io?B1(t,e):t instanceof jo?q1(t,e):n}function z1(t,e){return t instanceof sd?function(s){return Bm(s)||function(r){return!!r&&"doubleValue"in r}(s)}(e)?e:{integerValue:0}:null}class Ro extends $d{}class Io extends $d{constructor(e){super(),this.elements=e}}function B1(t,e){const n=H1(e);for(const s of t.elements)n.some(i=>Xn(i,s))||n.push(s);return{arrayValue:{values:n}}}class jo extends $d{constructor(e){super(),this.elements=e}}function q1(t,e){let n=H1(e);for(const s of t.elements)n=n.filter(i=>!Xn(i,s));return{arrayValue:{values:n}}}class sd extends $d{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function tb(t){return nt(t.integerValue||t.doubleValue)}function H1(t){return Ig(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n){this.field=e,this.transform=n}}function jO(t,e){return t.field.isEqual(e.field)&&function(s,i){return s instanceof Io&&i instanceof Io||s instanceof jo&&i instanceof jo?ja(s.elements,i.elements,Xn):s instanceof sd&&i instanceof sd?Xn(s.Ae,i.Ae):s instanceof Ro&&i instanceof Ro}(t.transform,e.transform)}class kO{constructor(e,n){this.version=e,this.transformResults=n}}class In{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new In}static exists(e){return new In(void 0,e)}static updateTime(e){return new In(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function cu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yd{}function F1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Og(t.key,In.none()):new Zo(t.key,t.data,In.none());{const n=t.data,s=Yt.empty();let i=new pt(Ct.comparator);for(let r of e.fields)if(!i.has(r)){let a=n.field(r);a===null&&r.length>1&&(r=r.popLast(),a=n.field(r)),a===null?s.delete(r):s.set(r,a),i=i.add(r)}return new qi(t.key,s,new rn(i.toArray()),In.none())}}function DO(t,e,n){t instanceof Zo?function(i,r,a){const l=i.value.clone(),c=sb(i.fieldTransforms,r,a.transformResults);l.setAll(c),r.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof qi?function(i,r,a){if(!cu(i.precondition,r))return void r.convertToUnknownDocument(a.version);const l=sb(i.fieldTransforms,r,a.transformResults),c=r.data;c.setAll(G1(i)),c.setAll(l),r.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):function(i,r,a){r.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function to(t,e,n,s){return t instanceof Zo?function(r,a,l,c){if(!cu(r.precondition,a))return l;const d=r.value.clone(),h=ib(r.fieldTransforms,c,a);return d.setAll(h),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),null}(t,e,n,s):t instanceof qi?function(r,a,l,c){if(!cu(r.precondition,a))return l;const d=ib(r.fieldTransforms,c,a),h=a.data;return h.setAll(G1(r)),h.setAll(d),a.convertToFoundDocument(a.version,h).setHasLocalMutations(),l===null?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(m=>m.field))}(t,e,n,s):function(r,a,l){return cu(r.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function OO(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=z1(s.transform,i||null);r!=null&&(n===null&&(n=Yt.empty()),n.set(s.field,r))}return n||null}function nb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,i){return s===void 0&&i===void 0||!(!s||!i)&&ja(s,i,(r,a)=>jO(r,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zo extends Yd{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class qi extends Yd{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function G1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function sb(t,e,n){const s=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const r=t[i],a=r.transform,l=e.data.field(r.field);s.set(r.field,RO(a,l,n[i]))}return s}function ib(t,e,n){const s=new Map;for(const i of t){const r=i.transform,a=n.data.field(i.field);s.set(i.field,CO(r,a,e))}return s}class Og extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MO extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&DO(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=to(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=to(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=L1();return this.mutations.forEach(i=>{const r=e.get(i.key),a=r.overlayedDocument;let l=this.applyToLocalView(a,r.mutatedFields);l=n.has(i.key)?null:l;const c=F1(a,l);c!==null&&s.set(i.key,c),a.isValidDocument()||a.convertToNoDocument(oe.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ee())}isEqual(e){return this.batchId===e.batchId&&ja(this.mutations,e.mutations,(n,s)=>nb(n,s))&&ja(this.baseMutations,e.baseMutations,(n,s)=>nb(n,s))}}class Mg{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Re(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let i=function(){return wO}();const r=e.mutations;for(let a=0;a<r.length;a++)i=i.insert(r[a].key,s[a].version);return new Mg(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Se;function PO(t){switch(t){case q.OK:return ie(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function K1(t){if(t===void 0)return Is("GRPC error has no .code"),q.UNKNOWN;switch(t){case at.OK:return q.OK;case at.CANCELLED:return q.CANCELLED;case at.UNKNOWN:return q.UNKNOWN;case at.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case at.INTERNAL:return q.INTERNAL;case at.UNAVAILABLE:return q.UNAVAILABLE;case at.UNAUTHENTICATED:return q.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case at.NOT_FOUND:return q.NOT_FOUND;case at.ALREADY_EXISTS:return q.ALREADY_EXISTS;case at.PERMISSION_DENIED:return q.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case at.ABORTED:return q.ABORTED;case at.OUT_OF_RANGE:return q.OUT_OF_RANGE;case at.UNIMPLEMENTED:return q.UNIMPLEMENTED;case at.DATA_LOSS:return q.DATA_LOSS;default:return ie(39323,{code:t})}}(Se=at||(at={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new xi([4294967295,4294967295],0);function rb(t){const e=zO().encode(t),n=new l1;return n.update(e),new Uint8Array(n.digest())}function ab(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new xi([n,s],0),new xi([i,r],0)]}class Vg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Dl(`Invalid padding: ${n}`);if(s<0)throw new Dl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=xi.fromNumber(this.ge)}ye(e,n,s){let i=e.add(n.multiply(xi.fromNumber(s)));return i.compare(BO)===1&&(i=new xi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rb(e),[s,i]=ab(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(s,i,r);if(!this.we(a))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),a=new Vg(r,i,n);return s.forEach(l=>a.insert(l)),a}insert(e){if(this.ge===0)return;const n=rb(e),[s,i]=ab(n);for(let r=0;r<this.hashCount;r++){const a=this.ye(s,i,r);this.Se(a)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Xd(oe.min(),i,new Xe(xe),js(),Ee())}}class ec{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ec(s,n,Ee(),Ee(),Ee())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n,s,i){this.be=e,this.removedTargetIds=n,this.key=s,this.De=i}}class Q1{constructor(e,n){this.targetId=e,this.Ce=n}}class $1{constructor(e,n,s=jt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class lb{constructor(){this.ve=0,this.Fe=ob(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ee(),n=Ee(),s=Ee();return this.Fe.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:ie(38017,{changeType:r})}}),new ec(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=ob()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qO{constructor(e){this.Ge=e,this.ze=new Map,this.je=js(),this.Je=Vc(),this.He=Vc(),this.Ye=new Xe(xe)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((s,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,s=e.Ce.count,i=this.ot(n);if(i){const r=i.target;if(Hm(r))if(s===0){const a=new ee(r.path);this.et(n,a,Vt.newNoDocument(a,oe.min()))}else Re(s===1,20013,{expectedCount:s});else{const a=this._t(n);if(a!==s){const l=this.ut(e),c=l?this.ct(l,e,a):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:i=0},hashCount:r=0}=n;let a,l;try{a=Ii(s).toUint8Array()}catch(c){if(c instanceof v1)return Ia("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Vg(a,i,r)}catch(c){return Ia(c instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.ge===0?null:l}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let i=0;return s.forEach(r=>{const a=this.Ge.ht(),l=`projects/${a.projectId}/databases/${a.database}/documents/${r.path.canonicalString()}`;e.mightContain(l)||(this.et(n,r,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((r,a)=>{const l=this.ot(a);if(l){if(r.current&&Hm(l.target)){const c=new ee(l.target.path);this.It(c).has(a)||this.Et(a,c)||this.et(a,c,Vt.newNoDocument(c,e))}r.Be&&(n.set(a,r.ke()),r.qe())}});let s=Ee();this.He.forEach((r,a)=>{let l=!0;a.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.je.forEach((r,a)=>a.setReadTime(e));const i=new Xd(e,n,this.Ye,this.je,s);return this.je=js(),this.Je=Vc(),this.He=Vc(),this.Ye=new Xe(xe),i}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new lb,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new pt(xe),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new pt(xe),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Vc(){return new Xe(ee.comparator)}function ob(){return new Xe(ee.comparator)}const HO={asc:"ASCENDING",desc:"DESCENDING"},FO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},GO={and:"AND",or:"OR"};class KO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(t,e){return t.useProto3Json||Hd(e)?e:{value:e}}function id(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Y1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function QO(t,e){return id(t,e.toTimestamp())}function Qn(t){return Re(!!t,49232),oe.fromTimestamp(function(n){const s=Ri(n);return new Fe(s.seconds,s.nanos)}(t))}function Ug(t,e){return Qm(t,e).canonicalString()}function Qm(t,e){const n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function X1(t){const e=Le.fromString(t);return Re(tA(e),10190,{key:e.toString()}),e}function $m(t,e){return Ug(t.databaseId,e.path)}function xf(t,e){const n=X1(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(J1(n))}function W1(t,e){return Ug(t.databaseId,e)}function $O(t){const e=X1(t);return e.length===4?Le.emptyPath():J1(e)}function Ym(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J1(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function cb(t,e,n){return{name:$m(t,e),fields:n.value.mapValue.fields}}function YO(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ie(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(d,h){return d.useProto3Json?(Re(h===void 0||typeof h=="string",58123),jt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,l=a&&function(d){const h=d.code===void 0?q.UNKNOWN:K1(d.code);return new Y(h,d.message||"")}(a);n=new $1(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=xf(t,s.document.name),r=Qn(s.document.updateTime),a=s.document.createTime?Qn(s.document.createTime):oe.min(),l=new Yt({mapValue:{fields:s.document.fields}}),c=Vt.newFoundDocument(i,r,a,l),d=s.targetIds||[],h=s.removedTargetIds||[];n=new uu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=xf(t,s.document),r=s.readTime?Qn(s.readTime):oe.min(),a=Vt.newNoDocument(i,r),l=s.removedTargetIds||[];n=new uu([],l,a.key,a)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=xf(t,s.document),r=s.removedTargetIds||[];n=new uu([],r,i,null)}else{if(!("filter"in e))return ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,a=new LO(i,r),l=s.targetId;n=new Q1(l,a)}}return n}function XO(t,e){let n;if(e instanceof Zo)n={update:cb(t,e.key,e.value)};else if(e instanceof Og)n={delete:$m(t,e.key)};else if(e instanceof qi)n={update:cb(t,e.key,e.data),updateMask:r6(e.fieldMask)};else{if(!(e instanceof MO))return ie(16599,{Vt:e.type});n={verify:$m(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(r,a){const l=a.transform;if(l instanceof Ro)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Io)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof jo)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof sd)return{fieldPath:a.field.canonicalString(),increment:l.Ae};throw ie(20930,{transform:a.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(i,r){return r.updateTime!==void 0?{updateTime:QO(i,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:ie(27497)}(t,e.precondition)),n}function WO(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map(n=>function(i,r){let a=i.updateTime?Qn(i.updateTime):Qn(r);return a.isEqual(oe.min())&&(a=Qn(r)),new kO(a,i.transformResults||[])}(n,e))):[]}function JO(t,e){return{documents:[W1(t,e.path)]}}function ZO(t,e){const n={structuredQuery:{}},s=e.path;let i;e.collectionGroup!==null?(i=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=W1(t,i);const r=function(d){if(d.length!==0)return eA(kn.create(d,"and"))}(e.filters);r&&(n.structuredQuery.where=r);const a=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:Gr(p.field),direction:n6(p.dir)}}(h))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=Km(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:i}}function e6(t){let e=$O(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Re(s===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let r=[];n.where&&(r=function(m){const p=Z1(m);return p instanceof kn&&R1(p)?p.getFilters():[p]}(n.where));let a=[];n.orderBy&&(a=function(m){return m.map(p=>function(C){return new Co(Kr(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(n.orderBy));let l=null;n.limit&&(l=function(m){let p;return p=typeof m=="object"?m.value:m,Hd(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(m){const p=!!m.before,y=m.values||[];return new nd(y,p)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const p=!m.before,y=m.values||[];return new nd(y,p)}(n.endAt)),_O(e,i,a,r,l,"F",c,d)}function t6(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Z1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Kr(n.unaryFilter.field);return ut.create(s,"==",{doubleValue:NaN});case"IS_NULL":const i=Kr(n.unaryFilter.field);return ut.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Kr(n.unaryFilter.field);return ut.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Kr(n.unaryFilter.field);return ut.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return ut.create(Kr(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(s=>Z1(s)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function n6(t){return HO[t]}function s6(t){return FO[t]}function i6(t){return GO[t]}function Gr(t){return{fieldPath:t.canonicalString()}}function Kr(t){return Ct.fromServerFormat(t.fieldPath)}function eA(t){return t instanceof ut?function(n){if(n.op==="=="){if(Xv(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xv(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NOT_NAN"}};if(Yv(n.value))return{unaryFilter:{field:Gr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gr(n.field),op:s6(n.op),value:n.value}}}(t):t instanceof kn?function(n){const s=n.getFilters().map(i=>eA(i));return s.length===1?s[0]:{compositeFilter:{op:i6(n.op),filters:s}}}(t):ie(54877,{filter:t})}function r6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function tA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(e,n,s,i,r=oe.min(),a=oe.min(),l=jt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new li(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new li(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.yt=e}}function l6(t){const e=e6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(){this.Cn=new c6}addToCollectionParentIndex(e,n){return this.Cn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Ci.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Ci.min())}updateCollectionGroup(e,n,s){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class c6{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new pt(Le.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new pt(Le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nA=41943040;class $t{static withCacheSize(e){return new $t(e,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(nA,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Oa(0)}static cr(){return new Oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="LruGarbageCollector",u6=1048576;function hb([t,e],[n,s]){const i=xe(t,n);return i===0?xe(e,s):i}class d6{constructor(e){this.Ir=e,this.buffer=new pt(hb),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hb(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class h6{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Z(db,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Wa(n)?Z(db,"Ignoring IndexedDB error during garbage collection: ",n):await Xa(n)}await this.Vr(3e5)})}}class f6{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return F.resolve(qd.ce);const s=new d6(n);return this.mr.forEachTarget(e,i=>s.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>s.Ar(i))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(ub)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ub):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,i,r,a,l,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(s=m,l=Date.now(),this.removeTargets(e,s,n))).next(m=>(r=m,c=Date.now(),this.removeOrphanedDocuments(e,s))).next(m=>(d=Date.now(),Hr()<=be.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-h}ms
	Determined least recently used ${i} in `+(l-a)+`ms
	Removed ${r} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:r,documentsRemoved:m})))}}function m6(t,e){return new f6(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(){this.changes=new kr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?F.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&to(s.mutation,i,rn.empty(),Fe.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ee()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ee()){const i=nr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let a=kl();return r.forEach((l,c)=>{a=a.insert(l,c.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const s=nr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ee()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((a,l)=>{n.set(a,l)})})}computeViews(e,n,s,i){let r=js();const a=eo(),l=function(){return eo()}();return n.forEach((c,d)=>{const h=s.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof qi)?r=r.insert(d.key,d):h!==void 0?(a.set(d.key,h.mutation.getFieldMask()),to(h.mutation,d,h.mutation.getFieldMask(),Fe.now())):a.set(d.key,rn.empty())}),this.recalculateAndSaveOverlays(e,r).next(c=>(c.forEach((d,h)=>a.set(d,h)),n.forEach((d,h)=>l.set(d,new g6(h,a.get(d)??null))),l))}recalculateAndSaveOverlays(e,n){const s=eo();let i=new Xe((a,l)=>a-l),r=Ee();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const l of a)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=s.get(c)||rn.empty();h=l.applyToLocalView(d,h),s.set(c,h);const m=(i.get(l.batchId)||Ee()).add(c);i=i.insert(l.batchId,m)})}).next(()=>{const a=[],l=i.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,h=c.value,m=L1();h.forEach(p=>{if(!r.has(p)){const y=F1(n.get(p),s.get(p));y!==null&&m.set(p,y),r=r.add(p)}}),a.push(this.documentOverlayCache.saveOverlays(e,d,m))}return F.waitFor(a)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,i){return function(a){return ee.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):D1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,i):this.getDocumentsMatchingCollectionQuery(e,n,s,i)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const a=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):F.resolve(nr());let l=To,c=r;return a.next(d=>F.forEach(d,(h,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),r.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,r)).next(()=>this.computeViews(e,c,d,Ee())).next(h=>({batchId:l,changes:U1(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(s=>{let i=kl();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s,i){const r=n.collectionGroup;let a=kl();return this.indexManager.getCollectionParents(e,r).next(l=>F.forEach(l,c=>{const d=function(m,p){return new Ja(p,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(r));return this.getDocumentsMatchingCollectionQuery(e,d,s,i).next(h=>{h.forEach((m,p)=>{a=a.insert(m,p)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,s,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(a=>(r=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,r,i))).next(a=>{r.forEach((c,d)=>{const h=d.getKey();a.get(h)===null&&(a=a.insert(h,Vt.newInvalidDocument(h)))});let l=kl();return a.forEach((c,d)=>{const h=r.get(c);h!==void 0&&to(h.mutation,d,rn.empty(),Fe.now()),Qd(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return F.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Qn(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:l6(i.bundledQuery),readTime:Qn(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.overlays=new Xe(ee.comparator),this.qr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const s=nr();return F.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.St(e,n,r)}),F.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.qr.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.qr.delete(s)),F.resolve()}getOverlaysForCollection(e,n,s){const i=nr(),r=n.length+1,a=new ee(n.child("")),l=this.overlays.getIteratorFrom(a);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===r&&c.largestBatchId>s&&i.set(c.getKey(),c)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Xe((d,h)=>d-h);const a=this.overlays.getIterator();for(;a.hasNext();){const d=a.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>s){let h=r.get(d.largestBatchId);h===null&&(h=nr(),r=r.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const l=nr(),c=r.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>l.set(d,h)),!(l.size()>=i)););return F.resolve(l)}St(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(s.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(s.key,new UO(n,s));let r=this.qr.get(n);r===void 0&&(r=Ee(),this.qr.set(n,r)),this.qr.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{constructor(){this.Qr=new pt(_t.$r),this.Ur=new pt(_t.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new _t(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Gr(new _t(e,n))}zr(e,n){e.forEach(s=>this.removeReference(s,n))}jr(e){const n=new ee(new Le([])),s=new _t(n,e),i=new _t(n,e+1),r=[];return this.Ur.forEachInRange([s,i],a=>{this.Gr(a),r.push(a.key)}),r}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ee(new Le([])),s=new _t(n,e),i=new _t(n,e+1);let r=Ee();return this.Ur.forEachInRange([s,i],a=>{r=r.add(a.key)}),r}containsKey(e){const n=new _t(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class _t{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ee.comparator(e.key,n.key)||xe(e.Yr,n.Yr)}static Kr(e,n){return xe(e.Yr,n.Yr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new pt(_t.$r)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new VO(r,n,s,i);this.mutationQueue.push(a);for(const l of i)this.Zr=this.Zr.add(new _t(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return F.resolve(a)}lookupMutationBatch(e,n){return F.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.ei(s),r=i<0?0:i;return F.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Cg:this.tr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),r=[];return this.Zr.forEachInRange([s,i],a=>{const l=this.Xr(a.Yr);r.push(l)}),F.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new pt(xe);return n.forEach(i=>{const r=new _t(i,0),a=new _t(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([r,a],l=>{s=s.add(l.Yr)})}),F.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;ee.isDocumentKey(r)||(r=r.child(""));const a=new _t(new ee(r),0);let l=new pt(xe);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!s.isPrefixOf(d)&&(d.length===i&&(l=l.add(c.Yr)),!0)},a),F.resolve(this.ti(l))}ti(e){const n=[];return e.forEach(s=>{const i=this.Xr(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return F.forEach(n.mutations,i=>{const r=new _t(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=s})}ir(e){}containsKey(e,n){const s=new _t(n,0),i=this.Zr.firstAfterOrEqual(s);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.ri=e,this.docs=function(){return new Xe(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:a}),this.size+=a-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return F.resolve(s?s.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let s=js();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():Vt.newInvalidDocument(i))}),F.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=js();const a=n.path,l=new ee(a.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!a.isPrefixOf(d.path))break;d.path.length>a.length+1||XD(YD(h),s)<=0||(i.has(h.key)||Qd(n,h))&&(r=r.insert(h.key,h.mutableCopy()))}return F.resolve(r)}getAllFromCollectionGroup(e,n,s,i){ie(9500)}ii(e,n){return F.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new w6(this)}getSize(e){return F.resolve(this.size)}}class w6 extends p6{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(s)}),F.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e){this.persistence=e,this.si=new kr(n=>jg(n),kg),this.lastRemoteSnapshotVersion=oe.min(),this.highestTargetId=0,this.oi=0,this._i=new Lg,this.targetCount=0,this.ai=Oa.ur()}forEachTarget(e,n){return this.si.forEach((s,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),F.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Oa(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Pr(n),F.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.si.forEach((a,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.si.delete(a),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),F.waitFor(r).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return F.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),F.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(a=>{r.push(i.markPotentiallyOrphaned(e,a))}),F.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return F.resolve(s)}containsKey(e,n){return F.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e,n){this.ui={},this.overlays={},this.ci=new qd(0),this.li=!1,this.li=!0,this.hi=new b6,this.referenceDelegate=e(this),this.Pi=new T6(this),this.indexManager=new o6,this.remoteDocumentCache=function(i){return new E6(i)}(s=>this.referenceDelegate.Ti(s)),this.serializer=new a6(n),this.Ii=new _6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new v6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new x6(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){Z("MemoryPersistence","Starting transaction:",e);const i=new A6(this.ci.next());return this.referenceDelegate.Ei(),s(i).next(r=>this.referenceDelegate.di(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Ai(e,n){return F.or(Object.values(this.ui).map(s=>()=>s.containsKey(e,n)))}}class A6 extends JD{constructor(e){super(),this.currentSequenceNumber=e}}class Pg{constructor(e){this.persistence=e,this.Ri=new Lg,this.Vi=null}static mi(e){return new Pg(e)}get fi(){if(this.Vi)return this.Vi;throw ie(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),F.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.fi.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.fi,s=>{const i=ee.fromPath(s);return this.gi(e,i).next(r=>{r||n.removeEntry(i,oe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class rd{constructor(e,n){this.persistence=e,this.pi=new kr(s=>tO(s.path),(s,i)=>s.isEqual(i)),this.garbageCollector=m6(this,n)}static mi(e,n){return new rd(e,n)}Ei(){}di(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(i=>s+i))}wr(e){let n=0;return this.pr(e,s=>{n++}).next(()=>n)}pr(e,n){return F.forEach(this.pi,(s,i)=>this.br(e,s,i).next(r=>r?F.resolve():n(i)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const i=this.persistence.getRemoteDocumentCache(),r=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(l=>{l||(s++,r.removeEntry(a,oe.min()))})).next(()=>r.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),F.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=lu(e.data.value)),n}br(e,n,s){return F.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return F.resolve(i!==void 0&&i>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=i}static As(e,n){let s=Ee(),i=Ee();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new zg(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return aj()?8:ZD(Ut())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,i){const r={result:null};return this.ys(e,n).next(a=>{r.result=a}).next(()=>{if(!r.result)return this.ws(e,n,i,s).next(a=>{r.result=a})}).next(()=>{if(r.result)return;const a=new S6;return this.Ss(e,n,a).next(l=>{if(r.result=l,this.Vs)return this.bs(e,n,a,l.size)})}).next(()=>r.result)}bs(e,n,s,i){return s.documentReadCount<this.fs?(Hr()<=be.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",Fr(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),F.resolve()):(Hr()<=be.DEBUG&&Z("QueryEngine","Query:",Fr(n),"scans",s.documentReadCount,"local documents and returns",i,"documents as results."),s.documentReadCount>this.gs*i?(Hr()<=be.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",Fr(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):F.resolve())}ys(e,n){if(eb(n))return F.resolve(null);let s=Kn(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Gm(n,null,"F"),s=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const a=Ee(...r);return this.ps.getDocuments(e,a).next(l=>this.indexManager.getMinOffset(e,s).next(c=>{const d=this.Ds(n,l);return this.Cs(n,d,a,c.readTime)?this.ys(e,Gm(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,s,i){return eb(n)||i.isEqual(oe.min())?F.resolve(null):this.ps.getDocuments(e,s).next(r=>{const a=this.Ds(n,r);return this.Cs(n,a,s,i)?F.resolve(null):(Hr()<=be.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Fr(n)),this.vs(e,a,n,$D(i,To)).next(l=>l))})}Ds(e,n){let s=new pt(M1(e));return n.forEach((i,r)=>{Qd(e,r)&&(s=s.add(r))}),s}Cs(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Ss(e,n,s){return Hr()<=be.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",Fr(n)),this.ps.getDocumentsMatchingQuery(e,n,Ci.min(),s)}vs(e,n,s,i){return this.ps.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(a=>{r=r.insert(a.key,a)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bg="LocalStore",C6=3e8;class R6{constructor(e,n,s,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Xe(xe),this.xs=new kr(r=>jg(r),kg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new y6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function I6(t,e,n,s){return new R6(t,e,n,s)}async function iA(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.Bs(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const a=[],l=[];let c=Ee();for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of r){l.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(s,c).next(d=>({Ls:d,removedBatchIds:a,addedBatchIds:l}))})})}function j6(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Ns.newChangeBuffer({trackRemovals:!0});return function(l,c,d,h){const m=d.batch,p=m.keys();let y=F.resolve();return p.forEach(C=>{y=y.next(()=>h.getEntry(c,C)).next(j=>{const D=d.docVersions.get(C);Re(D!==null,48541),j.version.compareTo(D)<0&&(m.applyToRemoteDocument(j,d),j.isValidDocument()&&(j.setReadTime(d.commitVersion),h.addEntry(j)))})}),y.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(l){let c=Ee();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function rA(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function k6(t,e){const n=ce(t),s=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const l=[];e.targetChanges.forEach((h,m)=>{const p=i.get(m);if(!p)return;l.push(n.Pi.removeMatchingKeys(r,h.removedDocuments,m).next(()=>n.Pi.addMatchingKeys(r,h.addedDocuments,m)));let y=p.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(m)!==null?y=y.withResumeToken(jt.EMPTY_BYTE_STRING,oe.min()).withLastLimboFreeSnapshotVersion(oe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,s)),i=i.insert(m,y),function(j,D,T){return j.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=C6?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,y,h)&&l.push(n.Pi.updateTargetData(r,y))});let c=js(),d=Ee();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,h))}),l.push(D6(r,a,e.documentUpdates).next(h=>{c=h.ks,d=h.qs})),!s.isEqual(oe.min())){const h=n.Pi.getLastRemoteSnapshotVersion(r).next(m=>n.Pi.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(h)}return F.waitFor(l).next(()=>a.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,c,d)).next(()=>c)}).then(r=>(n.Ms=i,r))}function D6(t,e,n){let s=Ee(),i=Ee();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let a=js();return n.forEach((l,c)=>{const d=r.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(l)),c.isNoDocument()&&c.version.isEqual(oe.min())?(e.removeEntry(l,c.readTime),a=a.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),a=a.insert(l,c)):Z(Bg,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{ks:a,qs:i}})}function O6(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Cg),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function M6(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Pi.getTargetData(s,e).next(r=>r?(i=r,F.resolve(i)):n.Pi.allocateTargetId(s).next(a=>(i=new li(e,a,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Ms.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s})}async function Xm(t,e,n){const s=ce(t),i=s.Ms.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,a=>s.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!Wa(a))throw a;Z(Bg,`Failed to update sequence numbers for target ${e}: ${a}`)}s.Ms=s.Ms.remove(e),s.xs.delete(i.target)}function fb(t,e,n){const s=ce(t);let i=oe.min(),r=Ee();return s.persistence.runTransaction("Execute query","readwrite",a=>function(c,d,h){const m=ce(c),p=m.xs.get(h);return p!==void 0?F.resolve(m.Ms.get(p)):m.Pi.getTargetData(d,h)}(s,a,Kn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(a,l.targetId).next(c=>{r=c})}).next(()=>s.Fs.getDocumentsMatchingQuery(a,e,n?i:oe.min(),n?r:Ee())).next(l=>(V6(s,bO(e),l),{documents:l,Qs:r})))}function V6(t,e,n){let s=t.Os.get(e)||oe.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Os.set(e,s)}class mb{constructor(){this.activeTargetIds=SO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class U6{constructor(){this.Mo=new mb,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new mb,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb="ConnectivityMonitor";class gb{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Z(pb,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Z(pb,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc=null;function Wm(){return Uc===null?Uc=function(){return 268435456+Math.round(2147483648*Math.random())}():Uc++,"0x"+Uc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="RestConnection",P6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class z6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${i}`,this.Wo=this.databaseId.database===ed?`project_id=${s}`:`project_id=${s}&database_id=${i}`}Go(e,n,s,i,r){const a=Wm(),l=this.zo(e,n.toUriEncodedString());Z(Ef,`Sending RPC '${e}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,r);const{host:d}=new URL(l),h=Pi(d);return this.Jo(e,l,c,s,h).then(m=>(Z(Ef,`Received RPC '${e}' ${a}: `,m),m),m=>{throw Ia(Ef,`RPC '${e}' ${a} failed with error: `,m,"url: ",l,"request:",s),m})}Ho(e,n,s,i,r,a){return this.Go(e,n,s,i,r)}jo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ya}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}zo(e,n){const s=P6[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class q6 extends z6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,i,r){const a=Wm();return new Promise((l,c)=>{const d=new o1;d.setWithCredentials(!0),d.listenOnce(c1.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case au.NO_ERROR:const m=d.getResponseJson();Z(Ot,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),l(m);break;case au.TIMEOUT:Z(Ot,`RPC '${e}' ${a} timed out`),c(new Y(q.DEADLINE_EXCEEDED,"Request time out"));break;case au.HTTP_ERROR:const p=d.getStatus();if(Z(Ot,`RPC '${e}' ${a} failed with status:`,p,"response text:",d.getResponseText()),p>0){let y=d.getResponseJson();Array.isArray(y)&&(y=y[0]);const C=y==null?void 0:y.error;if(C&&C.status&&C.message){const j=function(T){const b=T.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(b)>=0?b:q.UNKNOWN}(C.status);c(new Y(j,C.message))}else c(new Y(q.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new Y(q.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{l_:e,streamId:a,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{Z(Ot,`RPC '${e}' ${a} completed.`)}});const h=JSON.stringify(i);Z(Ot,`RPC '${e}' ${a} sending request:`,i),d.send(n,"POST",h,s,15)})}T_(e,n,s){const i=Wm(),r=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=h1(),l=d1(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,s),c.encodeInitMessageHeaders=!0;const h=r.join("");Z(Ot,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=a.createWebChannel(h,c);this.I_(m);let p=!1,y=!1;const C=new B6({Yo:D=>{y?Z(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(p||(Z(Ot,`Opening RPC '${e}' stream ${i} transport.`),m.open(),p=!0),Z(Ot,`RPC '${e}' stream ${i} sending:`,D),m.send(D))},Zo:()=>m.close()}),j=(D,T,b)=>{D.listen(T,x=>{try{b(x)}catch(k){setTimeout(()=>{throw k},0)}})};return j(m,jl.EventType.OPEN,()=>{y||(Z(Ot,`RPC '${e}' stream ${i} transport opened.`),C.o_())}),j(m,jl.EventType.CLOSE,()=>{y||(y=!0,Z(Ot,`RPC '${e}' stream ${i} transport closed`),C.a_(),this.E_(m))}),j(m,jl.EventType.ERROR,D=>{y||(y=!0,Ia(Ot,`RPC '${e}' stream ${i} transport errored. Name:`,D.name,"Message:",D.message),C.a_(new Y(q.UNAVAILABLE,"The operation could not be completed")))}),j(m,jl.EventType.MESSAGE,D=>{var T;if(!y){const b=D.data[0];Re(!!b,16349);const x=b,k=(x==null?void 0:x.error)||((T=x[0])==null?void 0:T.error);if(k){Z(Ot,`RPC '${e}' stream ${i} received error:`,k);const U=k.status;let z=function(v){const S=at[v];if(S!==void 0)return K1(S)}(U),w=k.message;z===void 0&&(z=q.INTERNAL,w="Unknown error status: "+U+" with message "+k.message),y=!0,C.a_(new Y(z,w)),m.close()}else Z(Ot,`RPC '${e}' stream ${i} received:`,b),C.u_(b)}}),j(l,u1.STAT_EVENT,D=>{D.stat===Lm.PROXY?Z(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===Lm.NOPROXY&&Z(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.__()},0),C}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){return new KO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,n,s=1e3,i=1.5,r=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=i,this.R_=r,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-s);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="PersistentStream";class lA{constructor(e,n,s,i,r,a,l,c){this.Mi=e,this.S_=s,this.b_=i,this.connection=r,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new aA(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Is(n.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.D_===n&&this.G_(s,i)},s=>{e(()=>{const i=new Y(q.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(i)})})}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{s(()=>this.listener.Xo())}),this.stream.t_(()=>{s(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{s(()=>this.z_(i))}),this.stream.onMessage(i=>{s(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return Z(yb,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(Z(yb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class H6 extends lA{constructor(e,n,s,i,r,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,a),this.serializer=r}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=YO(this.serializer,e),s=function(r){if(!("targetChange"in r))return oe.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?oe.min():a.readTime?Qn(a.readTime):oe.min()}(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Ym(this.serializer),n.addTarget=function(r,a){let l;const c=a.target;if(l=Hm(c)?{documents:JO(r,c)}:{query:ZO(r,c).ft},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){l.resumeToken=Y1(r,a.resumeToken);const d=Km(r,a.expectedCount);d!==null&&(l.expectedCount=d)}else if(a.snapshotVersion.compareTo(oe.min())>0){l.readTime=id(r,a.snapshotVersion.toTimestamp());const d=Km(r,a.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const s=t6(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.q_(n)}}class F6 extends lA{constructor(e,n,s,i,r,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,a),this.serializer=r}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=WO(e.writeResults,e.commitTime),s=Qn(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Ym(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>XO(this.serializer,s))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{}class K6 extends G6{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new Y(q.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.connection.Go(e,Qm(n,s),i,r,a)).catch(r=>{throw r.name==="FirebaseError"?(r.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Y(q.UNKNOWN,r.toString())})}Ho(e,n,s,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.Ho(e,Qm(n,s),i,a,l,r)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Y(q.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Q6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Is(n),this.aa=!1):Z("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="RemoteStore";class $6{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=r,this.Aa.Oo(a=>{s.enqueueAndForget(async()=>{Dr(this)&&(Z(Er,"Restarting streams for network reachability change."),await async function(c){const d=ce(c);d.Ea.add(4),await tc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Jd(d)}(this))})}),this.Ra=new Q6(s,i)}}async function Jd(t){if(Dr(t))for(const e of t.da)await e(!0)}async function tc(t){for(const e of t.da)await e(!1)}function oA(t,e){const n=ce(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Gg(n)?Fg(n):Za(n).O_()&&Hg(n,e))}function qg(t,e){const n=ce(t),s=Za(n);n.Ia.delete(e),s.O_()&&cA(n,e),n.Ia.size===0&&(s.O_()?s.L_():Dr(n)&&n.Ra.set("Unknown"))}function Hg(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Za(t).Y_(e)}function cA(t,e){t.Va.Ue(e),Za(t).Z_(e)}function Fg(t){t.Va=new qO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Za(t).start(),t.Ra.ua()}function Gg(t){return Dr(t)&&!Za(t).x_()&&t.Ia.size>0}function Dr(t){return ce(t).Ea.size===0}function uA(t){t.Va=void 0}async function Y6(t){t.Ra.set("Online")}async function X6(t){t.Ia.forEach((e,n)=>{Hg(t,e)})}async function W6(t,e){uA(t),Gg(t)?(t.Ra.ha(e),Fg(t)):t.Ra.set("Unknown")}async function J6(t,e,n){if(t.Ra.set("Online"),e instanceof $1&&e.state===2&&e.cause)try{await async function(i,r){const a=r.cause;for(const l of r.targetIds)i.Ia.has(l)&&(await i.remoteSyncer.rejectListen(l,a),i.Ia.delete(l),i.Va.removeTarget(l))}(t,e)}catch(s){Z(Er,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ad(t,s)}else if(e instanceof uu?t.Va.Ze(e):e instanceof Q1?t.Va.st(e):t.Va.tt(e),!n.isEqual(oe.min()))try{const s=await rA(t.localStore);n.compareTo(s)>=0&&await function(r,a){const l=r.Va.Tt(a);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=r.Ia.get(d);h&&r.Ia.set(d,h.withResumeToken(c.resumeToken,a))}}),l.targetMismatches.forEach((c,d)=>{const h=r.Ia.get(c);if(!h)return;r.Ia.set(c,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),cA(r,c);const m=new li(h.target,c,d,h.sequenceNumber);Hg(r,m)}),r.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(s){Z(Er,"Failed to raise snapshot:",s),await ad(t,s)}}async function ad(t,e,n){if(!Wa(e))throw e;t.Ea.add(1),await tc(t),t.Ra.set("Offline"),n||(n=()=>rA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z(Er,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Jd(t)})}function dA(t,e){return e().catch(n=>ad(t,n,e))}async function Zd(t){const e=ce(t),n=ki(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cg;for(;Z6(e);)try{const i=await O6(e.localStore,s);if(i===null){e.Ta.length===0&&n.L_();break}s=i.batchId,e3(e,i)}catch(i){await ad(e,i)}hA(e)&&fA(e)}function Z6(t){return Dr(t)&&t.Ta.length<10}function e3(t,e){t.Ta.push(e);const n=ki(t);n.O_()&&n.X_&&n.ea(e.mutations)}function hA(t){return Dr(t)&&!ki(t).x_()&&t.Ta.length>0}function fA(t){ki(t).start()}async function t3(t){ki(t).ra()}async function n3(t){const e=ki(t);for(const n of t.Ta)e.ea(n.mutations)}async function s3(t,e,n){const s=t.Ta.shift(),i=Mg.from(s,e,n);await dA(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Zd(t)}async function i3(t,e){e&&ki(t).X_&&await async function(s,i){if(function(a){return PO(a)&&a!==q.ABORTED}(i.code)){const r=s.Ta.shift();ki(s).B_(),await dA(s,()=>s.remoteSyncer.rejectFailedWrite(r.batchId,i)),await Zd(s)}}(t,e),hA(t)&&fA(t)}async function _b(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Z(Er,"RemoteStore received new credentials");const s=Dr(n);n.Ea.add(3),await tc(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Jd(n)}async function r3(t,e){const n=ce(t);e?(n.Ea.delete(2),await Jd(n)):e||(n.Ea.add(2),await tc(n),n.Ra.set("Unknown"))}function Za(t){return t.ma||(t.ma=function(n,s,i){const r=ce(n);return r.sa(),new H6(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Xo:Y6.bind(null,t),t_:X6.bind(null,t),r_:W6.bind(null,t),H_:J6.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),Gg(t)?Fg(t):t.Ra.set("Unknown")):(await t.ma.stop(),uA(t))})),t.ma}function ki(t){return t.fa||(t.fa=function(n,s,i){const r=ce(n);return r.sa(),new F6(s,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:t3.bind(null,t),r_:i3.bind(null,t),ta:n3.bind(null,t),na:s3.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await Zd(t)):(await t.fa.stop(),t.Ta.length>0&&(Z(Er,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new bs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,i,r){const a=Date.now()+s,l=new Kg(e,n,a,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qg(t,e){if(Is("AsyncQueue",`${e}: ${t}`),Wa(t))return new Y(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{static emptySet(e){return new ga(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ee.comparator(n.key,s.key):(n,s)=>ee.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new Xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ga)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ga;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{constructor(){this.ga=new Xe(ee.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ma{constructor(e,n,s,i,r,a,l,c,d){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=a,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,s,i,r){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ma(e,n,ga.emptySet(n),a,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Kd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class l3{constructor(){this.queries=bb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const i=ce(n),r=i.queries;i.queries=bb(),r.forEach((a,l)=>{for(const c of l.Sa)c.onError(s)})})(this,new Y(q.ABORTED,"Firestore shutting down"))}}function bb(){return new kr(t=>O1(t),Kd)}async function $g(t,e){const n=ce(t);let s=3;const i=e.query;let r=n.queries.get(i);r?!r.ba()&&e.Da()&&(s=2):(r=new a3,s=e.Da()?0:1);try{switch(s){case 0:r.wa=await n.onListen(i,!0);break;case 1:r.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const l=Qg(a,`Initialization of query '${Fr(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,r),r.Sa.push(e),e.va(n.onlineState),r.wa&&e.Fa(r.wa)&&Xg(n)}async function Yg(t,e){const n=ce(t),s=e.query;let i=3;const r=n.queries.get(s);if(r){const a=r.Sa.indexOf(e);a>=0&&(r.Sa.splice(a,1),r.Sa.length===0?i=e.Da()?0:1:!r.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function o3(t,e){const n=ce(t);let s=!1;for(const i of e){const r=i.query,a=n.queries.get(r);if(a){for(const l of a.Sa)l.Fa(i)&&(s=!0);a.wa=i}}s&&Xg(n)}function c3(t,e,n){const s=ce(t),i=s.queries.get(e);if(i)for(const r of i.Sa)r.onError(n);s.queries.delete(e)}function Xg(t){t.Ca.forEach(e=>{e.next()})}var Jm,xb;(xb=Jm||(Jm={})).Ma="default",xb.Cache="cache";class Wg{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new Ma(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ma.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Jm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.key=e}}class pA{constructor(e){this.key=e}}class u3{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ee(),this.mutatedKeys=Ee(),this.eu=M1(e),this.tu=new ga(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new vb,i=n?n.tu:this.tu;let r=n?n.mutatedKeys:this.mutatedKeys,a=i,l=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,m)=>{const p=i.get(h),y=Qd(this.query,m)?m:null,C=!!p&&this.mutatedKeys.has(p.key),j=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let D=!1;p&&y?p.data.isEqual(y.data)?C!==j&&(s.track({type:3,doc:y}),D=!0):this.su(p,y)||(s.track({type:2,doc:y}),D=!0,(c&&this.eu(y,c)>0||d&&this.eu(y,d)<0)&&(l=!0)):!p&&y?(s.track({type:0,doc:y}),D=!0):p&&!y&&(s.track({type:1,doc:p}),D=!0,(c||d)&&(l=!0)),D&&(y?(a=a.add(y),r=j?r.add(h):r.delete(h)):(a=a.delete(h),r=r.delete(h)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const h=this.query.limitType==="F"?a.last():a.first();a=a.delete(h.key),r=r.delete(h.key),s.track({type:1,doc:h})}return{tu:a,iu:s,Cs:l,mutatedKeys:r}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,i){const r=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((h,m)=>function(y,C){const j=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{Rt:D})}};return j(y)-j(C)}(h.type,m.type)||this.eu(h.doc,m.doc)),this.ou(s),i=i??!1;const l=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,a.length!==0||d?{snapshot:new Ma(this.query,e.tu,r,a,e.mutatedKeys,c===0,d,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:l}:{au:l}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new vb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ee(),this.tu.forEach(s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))});const n=[];return e.forEach(s=>{this.Xa.has(s)||n.push(new pA(s))}),this.Xa.forEach(s=>{e.has(s)||n.push(new mA(s))}),n}cu(e){this.Ya=e.Qs,this.Xa=Ee();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ma.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jg="SyncEngine";class d3{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class h3{constructor(e){this.key=e,this.hu=!1}}class f3{constructor(e,n,s,i,r,a){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new kr(l=>O1(l),Kd),this.Iu=new Map,this.Eu=new Set,this.du=new Xe(ee.comparator),this.Au=new Map,this.Ru=new Lg,this.Vu={},this.mu=new Map,this.fu=Oa.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m3(t,e,n=!0){const s=xA(t);let i;const r=s.Tu.get(e);return r?(s.sharedClientState.addLocalQueryTarget(r.targetId),i=r.view.lu()):i=await gA(s,e,n,!0),i}async function p3(t,e){const n=xA(t);await gA(n,e,!0,!1)}async function gA(t,e,n,s){const i=await M6(t.localStore,Kn(e)),r=i.targetId,a=t.sharedClientState.addLocalQueryTarget(r,n);let l;return s&&(l=await g3(t,e,r,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&oA(t.remoteStore,i),l}async function g3(t,e,n,s,i){t.pu=(m,p,y)=>async function(j,D,T,b){let x=D.view.ru(T);x.Cs&&(x=await fb(j.localStore,D.query,!1).then(({documents:w})=>D.view.ru(w,x)));const k=b&&b.targetChanges.get(D.targetId),U=b&&b.targetMismatches.get(D.targetId)!=null,z=D.view.applyChanges(x,j.isPrimaryClient,k,U);return wb(j,D.targetId,z.au),z.snapshot}(t,m,p,y);const r=await fb(t.localStore,e,!0),a=new u3(e,r.Qs),l=a.ru(r.documents),c=ec.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),d=a.applyChanges(l,t.isPrimaryClient,c);wb(t,n,d.au);const h=new d3(e,n,a);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function y3(t,e,n){const s=ce(t),i=s.Tu.get(e),r=s.Iu.get(i.targetId);if(r.length>1)return s.Iu.set(i.targetId,r.filter(a=>!Kd(a,e))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(i.targetId),s.sharedClientState.isActiveQueryTarget(i.targetId)||await Xm(s.localStore,i.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(i.targetId),n&&qg(s.remoteStore,i.targetId),Zm(s,i.targetId)}).catch(Xa)):(Zm(s,i.targetId),await Xm(s.localStore,i.targetId,!0))}async function _3(t,e){const n=ce(t),s=n.Tu.get(e),i=n.Iu.get(s.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),qg(n.remoteStore,s.targetId))}async function v3(t,e,n){const s=S3(t);try{const i=await function(a,l){const c=ce(a),d=Fe.now(),h=l.reduce((y,C)=>y.add(C.key),Ee());let m,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=js(),j=Ee();return c.Ns.getEntries(y,h).next(D=>{C=D,C.forEach((T,b)=>{b.isValidDocument()||(j=j.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,C)).next(D=>{m=D;const T=[];for(const b of l){const x=OO(b,m.get(b.key).overlayedDocument);x!=null&&T.push(new qi(b.key,x,S1(x.value.mapValue),In.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,T,l)}).next(D=>{p=D;const T=D.applyToLocalDocumentSet(m,j);return c.documentOverlayCache.saveOverlays(y,D.batchId,T)})}).then(()=>({batchId:p.batchId,changes:U1(m)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(a,l,c){let d=a.Vu[a.currentUser.toKey()];d||(d=new Xe(xe)),d=d.insert(l,c),a.Vu[a.currentUser.toKey()]=d}(s,i.batchId,n),await nc(s,i.changes),await Zd(s.remoteStore)}catch(i){const r=Qg(i,"Failed to persist write");n.reject(r)}}async function yA(t,e){const n=ce(t);try{const s=await k6(n.localStore,e);e.targetChanges.forEach((i,r)=>{const a=n.Au.get(r);a&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Re(a.hu,14607):i.removedDocuments.size>0&&(Re(a.hu,42227),a.hu=!1))}),await nc(n,s,e)}catch(s){await Xa(s)}}function Eb(t,e,n){const s=ce(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.Tu.forEach((r,a)=>{const l=a.view.va(e);l.snapshot&&i.push(l.snapshot)}),function(a,l){const c=ce(a);c.onlineState=l;let d=!1;c.queries.forEach((h,m)=>{for(const p of m.Sa)p.va(l)&&(d=!0)}),d&&Xg(c)}(s.eventManager,e),i.length&&s.Pu.H_(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function b3(t,e,n){const s=ce(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.Au.get(e),r=i&&i.key;if(r){let a=new Xe(ee.comparator);a=a.insert(r,Vt.newNoDocument(r,oe.min()));const l=Ee().add(r),c=new Xd(oe.min(),new Map,new Xe(xe),a,l);await yA(s,c),s.du=s.du.remove(r),s.Au.delete(e),Zg(s)}else await Xm(s.localStore,e,!1).then(()=>Zm(s,e,n)).catch(Xa)}async function x3(t,e){const n=ce(t),s=e.batch.batchId;try{const i=await j6(n.localStore,e);vA(n,s,null),_A(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await nc(n,i)}catch(i){await Xa(i)}}async function E3(t,e,n){const s=ce(t);try{const i=await function(a,l){const c=ce(a);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(Re(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(s.localStore,e);vA(s,e,n),_A(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await nc(s,i)}catch(i){await Xa(i)}}function _A(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function vA(t,e,n){const s=ce(t);let i=s.Vu[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Vu[s.currentUser.toKey()]=i}}function Zm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t.Iu.get(e))t.Tu.delete(s),n&&t.Pu.yu(s,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(s=>{t.Ru.containsKey(s)||bA(t,s)})}function bA(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(qg(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),Zg(t))}function wb(t,e,n){for(const s of n)s instanceof mA?(t.Ru.addReference(s.key,e),w3(t,s)):s instanceof pA?(Z(Jg,"Document no longer in limbo: "+s.key),t.Ru.removeReference(s.key,e),t.Ru.containsKey(s.key)||bA(t,s.key)):ie(19791,{wu:s})}function w3(t,e){const n=e.key,s=n.path.canonicalString();t.du.get(n)||t.Eu.has(s)||(Z(Jg,"New document in limbo: "+n),t.Eu.add(s),Zg(t))}function Zg(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ee(Le.fromString(e)),s=t.fu.next();t.Au.set(s,new h3(n)),t.du=t.du.insert(n,s),oA(t.remoteStore,new li(Kn(Gd(n.path)),s,"TargetPurposeLimboResolution",qd.ce))}}async function nc(t,e,n){const s=ce(t),i=[],r=[],a=[];s.Tu.isEmpty()||(s.Tu.forEach((l,c)=>{a.push(s.pu(c,e,n).then(d=>{var h;if((d||n)&&s.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;s.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=zg.As(c.targetId,d);r.push(m)}}))}),await Promise.all(a),s.Pu.H_(i),await async function(c,d){const h=ce(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>F.forEach(d,p=>F.forEach(p.Es,y=>h.persistence.referenceDelegate.addReference(m,p.targetId,y)).next(()=>F.forEach(p.ds,y=>h.persistence.referenceDelegate.removeReference(m,p.targetId,y)))))}catch(m){if(!Wa(m))throw m;Z(Bg,"Failed to update sequence numbers: "+m)}for(const m of d){const p=m.targetId;if(!m.fromCache){const y=h.Ms.get(p),C=y.snapshotVersion,j=y.withLastLimboFreeSnapshotVersion(C);h.Ms=h.Ms.insert(p,j)}}}(s.localStore,r))}async function T3(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Z(Jg,"User change. New user:",e.toKey());const s=await iA(n.localStore,e);n.currentUser=e,function(r,a){r.mu.forEach(l=>{l.forEach(c=>{c.reject(new Y(q.CANCELLED,a))})}),r.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await nc(n,s.Ls)}}function A3(t,e){const n=ce(t),s=n.Au.get(e);if(s&&s.hu)return Ee().add(s.key);{let i=Ee();const r=n.Iu.get(e);if(!r)return i;for(const a of r){const l=n.Tu.get(a);i=i.unionWith(l.view.nu)}return i}}function xA(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=yA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=b3.bind(null,e),e.Pu.H_=o3.bind(null,e.eventManager),e.Pu.yu=c3.bind(null,e.eventManager),e}function S3(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=E3.bind(null,e),e}class ld{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return I6(this.persistence,new N6,e.initialUser,this.serializer)}Cu(e){return new sA(Pg.mi,this.serializer)}Du(e){return new U6}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ld.provider={build:()=>new ld};class N3 extends ld{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof rd,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new h6(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new sA(s=>rd.mi(s,n),this.serializer)}}class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Eb(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T3.bind(null,this.syncEngine),await r3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new l3}()}createDatastore(e){const n=Wd(e.databaseInfo.databaseId),s=function(r){return new q6(r)}(e.databaseInfo);return function(r,a,l,c){return new K6(r,a,l,c)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,i,r,a,l){return new $6(s,i,r,a,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Eb(this.syncEngine,n,0),function(){return gb.v()?new gb:new L6}())}createSyncEngine(e,n){return function(i,r,a,l,c,d,h){const m=new f3(i,r,a,l,c,d);return h&&(m.gu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const r=ce(i);Z(Er,"RemoteStore shutting down."),r.Ea.add(5),await tc(r),r.Aa.shutdown(),r.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di="FirestoreClient";class C3{constructor(e,n,s,i,r){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=Mt.UNAUTHENTICATED,this.clientId=Ng.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=r,this.authCredentials.start(s,async a=>{Z(Di,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(s,a=>(Z(Di,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Qg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Tf(t,e){t.asyncQueue.verifyOperationInProgress(),Z(Di,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await iA(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Tb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await R3(t);Z(Di,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(s=>_b(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>_b(e.remoteStore,i)),t._onlineComponents=e}async function R3(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z(Di,"Using user provided OfflineComponentProvider");try{await Tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ia("Error using user provided cache. Falling back to memory cache: "+n),await Tf(t,new ld)}}else Z(Di,"Using default OfflineComponentProvider"),await Tf(t,new N3(void 0));return t._offlineComponents}async function EA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z(Di,"Using user provided OnlineComponentProvider"),await Tb(t,t._uninitializedComponentsProvider._online)):(Z(Di,"Using default OnlineComponentProvider"),await Tb(t,new ep))),t._onlineComponents}function I3(t){return EA(t).then(e=>e.syncEngine)}async function od(t){const e=await EA(t),n=e.eventManager;return n.onListen=m3.bind(null,e.syncEngine),n.onUnlisten=y3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=p3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_3.bind(null,e.syncEngine),n}function j3(t,e,n={}){const s=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,c,d){const h=new ey({next:p=>{h.Nu(),a.enqueueAndForget(()=>Yg(r,m));const y=p.docs.has(l);!y&&p.fromCache?d.reject(new Y(q.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new Y(q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new Wg(Gd(l.path),h,{includeMetadataChanges:!0,qa:!0});return $g(r,m)}(await od(t),t.asyncQueue,e,n,s)),s.promise}function k3(t,e,n={}){const s=new bs;return t.asyncQueue.enqueueAndForget(async()=>function(r,a,l,c,d){const h=new ey({next:p=>{h.Nu(),a.enqueueAndForget(()=>Yg(r,m)),p.fromCache&&c.source==="server"?d.reject(new Y(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),m=new Wg(l,h,{includeMetadataChanges:!0,qa:!0});return $g(r,m)}(await od(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ab=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firestore.googleapis.com",Sb=!0;class Nb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Y(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=TA,this.ssl=Sb}else this.host=e.host,this.ssl=e.ssl??Sb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<u6)throw new Y(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wA(e.experimentalLongPollingOptions??{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,i){return s.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class eh{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Y(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Y(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new UD;switch(s.type){case"firstParty":return new BD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new Y(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Ab.get(n);s&&(Z("ComponentProvider","Removing Datastore"),Ab.delete(n),s.terminate())}(this),Promise.resolve()}}function AA(t,e,n,s={}){var d;t=Tn(t,eh);const i=Pi(e),r=t._getSettings(),a={...r,emulatorOptions:t._getEmulatorOptions()},l=`${e}:${n}`;i&&(hg(`https://${l}`),fg("Firestore",!0)),r.host!==TA&&r.host!==l&&Ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...r,host:l,ssl:i,emulatorOptions:s};if(!_r(c,a)&&(t._setSettings(c),s.mockUserToken)){let h,m;if(typeof s.mockUserToken=="string")h=s.mockUserToken,m=Mt.MOCK_USER;else{h=bT(s.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=s.mockUserToken.sub||s.mockUserToken.user_id;if(!p)throw new Y(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Mt(p)}t._authCredentials=new LD(new m1(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Hi(this.firestore,e,this._query)}}class it{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new it(this.firestore,e,this._key)}toJSON(){return{type:it._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Jo(n,it._jsonSchema))return new it(e,s||null,new ee(Le.fromString(n.referencePath)))}}it._jsonSchemaVersion="firestore/documentReference/1.0",it._jsonSchema={type:ht("string",it._jsonSchemaVersion),referencePath:ht("string")};class Ei extends Hi{constructor(e,n,s){super(e,n,Gd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new it(this.firestore,null,new ee(e))}withConverter(e){return new Ei(this.firestore,e,this._path)}}function kt(t,e,...n){if(t=$e(t),p1("collection","path",e),t instanceof eh){const s=Le.fromString(e,...n);return zv(s),new Ei(t,null,s)}{if(!(t instanceof it||t instanceof Ei))throw new Y(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Le.fromString(e,...n));return zv(s),new Ei(t.firestore,null,s)}}function Wn(t,e,...n){if(t=$e(t),arguments.length===1&&(e=Ng.newId()),p1("doc","path",e),t instanceof eh){const s=Le.fromString(e,...n);return Pv(s),new it(t,null,new ee(s))}{if(!(t instanceof it||t instanceof Ei))throw new Y(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(Le.fromString(e,...n));return Pv(s),new it(t.firestore,t instanceof Ei?t.converter:null,new ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="AsyncQueue";class Rb{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new aA(this,"async_queue_retry"),this._c=()=>{const s=wf();s&&Z(Cb,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new bs;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Wa(e))throw e;Z(Cb,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(s=>{throw this.nc=s,this.rc=!1,Is("INTERNAL UNHANDLED ERROR: ",Ib(s)),s}).then(s=>(this.rc=!1,s))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=Kg.createAndSchedule(this,e,n,s,r=>this.hc(r));return this.tc.push(i),i}uc(){this.nc&&ie(47125,{Pc:Ib(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function Ib(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){return function(n,s){if(typeof n!="object"||n===null)return!1;const i=n;for(const r of s)if(r in i&&typeof i[r]=="function")return!0;return!1}(t,["next","error","complete"])}class Oi extends eh{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new Rb,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rb(e),this._firestoreClient=void 0,await e}}}function D3(t,e){const n=typeof t=="object"?t:gg(),s=typeof t=="string"?t:ed,i=Vd(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=yT("firestore");r&&AA(i,...r)}return i}function th(t){if(t._terminated)throw new Y(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||O3(t),t._firestoreClient}function O3(t){var s,i,r;const e=t._freezeSettings(),n=function(l,c,d,h){return new iO(l,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,wA(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(t._databaseId,((s=t._app)==null?void 0:s.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((r=e.localCache)!=null&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new C3(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new xn(jt.fromBase64String(e))}catch(n){throw new Y(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new xn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:xn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jo(e,xn._jsonSchema))return xn.fromBase64String(e.bytes)}}xn._jsonSchemaVersion="firestore/bytes/1.0",xn._jsonSchema={type:ht("string",xn._jsonSchemaVersion),bytes:ht("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xe(this._lat,e._lat)||xe(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:$n._jsonSchemaVersion}}static fromJSON(e){if(Jo(e,$n._jsonSchema))return new $n(e.latitude,e.longitude)}}$n._jsonSchemaVersion="firestore/geoPoint/1.0",$n._jsonSchema={type:ht("string",$n._jsonSchemaVersion),latitude:ht("number"),longitude:ht("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,i){if(s.length!==i.length)return!1;for(let r=0;r<s.length;++r)if(s[r]!==i[r])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Yn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jo(e,Yn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Yn(e.vectorValues);throw new Y(q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Yn._jsonSchemaVersion="firestore/vectorValue/1.0",Yn._jsonSchema={type:ht("string",Yn._jsonSchemaVersion),vectorValues:ht("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M3=/^__.*__$/;class V3{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new qi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Zo(e,this.data,n,this.fieldTransforms)}}class SA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new qi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function NA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ac:t})}}class ty{constructor(e,n,s,i,r,a){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.Rc(),this.fieldTransforms=r||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ty({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cd(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(NA(this.Ac)&&M3.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class U3{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Wd(e)}Cc(e,n,s,i=!1){return new ty({Ac:e,methodName:n,Dc:s,path:Ct.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ny(t){const e=t._freezeSettings(),n=Wd(t._databaseId);return new U3(t._databaseId,!!e.ignoreUndefinedProperties,n)}function L3(t,e,n,s,i,r={}){const a=t.Cc(r.merge||r.mergeFields?2:0,e,n,i);iy("Data must be an object, but it was:",a,s);const l=CA(s,a);let c,d;if(r.merge)c=new rn(a.fieldMask),d=a.fieldTransforms;else if(r.mergeFields){const h=[];for(const m of r.mergeFields){const p=tp(e,m,n);if(!a.contains(p))throw new Y(q.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);IA(h,p)||h.push(p)}c=new rn(h),d=a.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=a.fieldTransforms;return new V3(new Yt(l),c,d)}class ih extends sh{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ih}}class sy extends sh{_toFieldTransform(e){return new IO(e.path,new Ro)}isEqual(e){return e instanceof sy}}function P3(t,e,n,s){const i=t.Cc(1,e,n);iy("Data must be an object, but it was:",i,s);const r=[],a=Yt.empty();Bi(s,(c,d)=>{const h=ry(e,c,n);d=$e(d);const m=i.yc(h);if(d instanceof ih)r.push(h);else{const p=sc(d,m);p!=null&&(r.push(h),a.set(h,p))}});const l=new rn(r);return new SA(a,l,i.fieldTransforms)}function z3(t,e,n,s,i,r){const a=t.Cc(1,e,n),l=[tp(e,s,n)],c=[i];if(r.length%2!=0)throw new Y(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<r.length;p+=2)l.push(tp(e,r[p])),c.push(r[p+1]);const d=[],h=Yt.empty();for(let p=l.length-1;p>=0;--p)if(!IA(d,l[p])){const y=l[p];let C=c[p];C=$e(C);const j=a.yc(y);if(C instanceof ih)d.push(y);else{const D=sc(C,j);D!=null&&(d.push(y),h.set(y,D))}}const m=new rn(d);return new SA(h,m,a.fieldTransforms)}function B3(t,e,n,s=!1){return sc(n,t.Cc(s?4:3,e))}function sc(t,e){if(RA(t=$e(t)))return iy("Unsupported field value:",e,t),CA(t,e);if(t instanceof sh)return function(s,i){if(!NA(i.Ac))throw i.Sc(`${s._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(s,i){const r=[];let a=0;for(const l of s){let c=sc(l,i.wc(a));c==null&&(c={nullValue:"NULL_VALUE"}),r.push(c),a++}return{arrayValue:{values:r}}}(t,e)}return function(s,i){if((s=$e(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return NO(i.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=Fe.fromDate(s);return{timestampValue:id(i.serializer,r)}}if(s instanceof Fe){const r=new Fe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:id(i.serializer,r)}}if(s instanceof $n)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof xn)return{bytesValue:Y1(i.serializer,s._byteString)};if(s instanceof it){const r=i.databaseId,a=s.firestore._databaseId;if(!a.isEqual(r))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Ug(s.firestore._databaseId||i.databaseId,s._key.path)}}if(s instanceof Yn)return function(a,l){return{mapValue:{fields:{[T1]:{stringValue:A1},[td]:{arrayValue:{values:a.toArray().map(d=>{if(typeof d!="number")throw l.Sc("VectorValues must only contain numeric values.");return Dg(l.serializer,d)})}}}}}}(s,i);throw i.Sc(`Unsupported field value: ${Bd(s)}`)}(t,e)}function CA(t,e){const n={};return _1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bi(t,(s,i)=>{const r=sc(i,e.mc(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function RA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Fe||t instanceof $n||t instanceof xn||t instanceof it||t instanceof sh||t instanceof Yn)}function iy(t,e,n){if(!RA(n)||!g1(n)){const s=Bd(n);throw s==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+s)}}function tp(t,e,n){if((e=$e(e))instanceof nh)return e._internalPath;if(typeof e=="string")return ry(t,e);throw cd("Field path arguments must be of type string or ",t,!1,void 0,n)}const q3=new RegExp("[~\\*/\\[\\]]");function ry(t,e,n){if(e.search(q3)>=0)throw cd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new nh(...e.split("."))._internalPath}catch{throw cd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function cd(t,e,n,s,i){const r=s&&!s.isEmpty(),a=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(r||a)&&(c+=" (found",r&&(c+=` in field ${s}`),a&&(c+=` in document ${i}`),c+=")"),new Y(q.INVALID_ARGUMENT,l+t+c)}function IA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new it(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new H3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(rh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class H3 extends jA{data(){return super.data()}}function rh(t,e){return typeof e=="string"?ry(t,e):e instanceof nh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ay{}class DA extends ay{}function On(t,e,...n){let s=[];e instanceof ay&&s.push(e),s=s.concat(n),function(r){const a=r.filter(c=>c instanceof ly).length,l=r.filter(c=>c instanceof ah).length;if(a>1||a>0&&l>0)throw new Y(q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class ah extends DA{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ah(e,n,s)}_apply(e){const n=this._parse(e);return OA(e._query,n),new Hi(e.firestore,e.converter,Fm(e._query,n))}_parse(e){const n=ny(e.firestore);return function(r,a,l,c,d,h,m){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new Y(q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){Db(m,h);const C=[];for(const j of m)C.push(kb(c,r,j));p={arrayValue:{values:C}}}else p=kb(c,r,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||Db(m,h),p=B3(l,a,m,h==="in"||h==="not-in");return ut.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ks(t,e,n){const s=e,i=rh("where",t);return ah._create(i,s,n)}class ly extends ay{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ly(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,r){let a=i;const l=r.getFlattenedFilters();for(const c of l)OA(a,c),a=Fm(a,c)}(e._query,n),new Hi(e.firestore,e.converter,Fm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class oy extends DA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new oy(e,n)}_apply(e){const n=function(i,r,a){if(i.startAt!==null)throw new Y(q.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(q.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Co(r,a)}(e._query,this._field,this._direction);return new Hi(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Ja(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Or(t,e="asc"){const n=e,s=rh("orderBy",t);return oy._create(s,n)}function kb(t,e,n){if(typeof(n=$e(n))=="string"){if(n==="")throw new Y(q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!D1(e)&&n.indexOf("/")!==-1)throw new Y(q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(Le.fromString(n));if(!ee.isDocumentKey(s))throw new Y(q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return $v(t,new ee(s))}if(n instanceof it)return $v(t,n._key);throw new Y(q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Bd(n)}.`)}function Db(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function OA(t,e){const n=function(i,r){for(const a of i)for(const l of a.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class F3{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Bi(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertVectorValue(e){var s,i,r;const n=(r=(i=(s=e.fields)==null?void 0:s[td].arrayValue)==null?void 0:i.values)==null?void 0:r.map(a=>nt(a.doubleValue));return new Yn(n)}convertGeoPoint(e){return new $n(nt(e.latitude),nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fd(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ao(e));default:return null}}convertTimestamp(e){const n=Ri(e);return new Fe(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Le.fromString(e);Re(tA(s),9688,{name:e});const i=new So(s.get(1),s.get(3)),r=new ee(s.popFirst(5));return i.isEqual(n)||Is(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G3(t,e,n){let s;return s=t?t.toFirestore(e):e,s}class Ol{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class cr extends jA{constructor(e,n,s,i,r,a){super(e,n,s,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(rh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=cr._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}cr._jsonSchemaVersion="firestore/documentSnapshot/1.0",cr._jsonSchema={type:ht("string",cr._jsonSchemaVersion),bundleSource:ht("string","DocumentSnapshot"),bundleName:ht("string"),bundle:ht("string")};class du extends cr{data(e={}){return super.data(e)}}class ur{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ol(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new du(this._firestore,this._userDataWriter,s.key,s,new Ol(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(l=>{const c=new du(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ol(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||l.type!==3).map(l=>{const c=new du(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Ol(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return l.type!==0&&(d=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),h=a.indexOf(l.doc.key)),{type:K3(l.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Y(q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ur._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ng.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],i=[];return this.docs.forEach(r=>{r._document!==null&&(n.push(r._document),s.push(this._userDataWriter.convertObjectMap(r._document.data.value.mapValue.fields,"previous")),i.push(r.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function K3(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q3(t){t=Tn(t,it);const e=Tn(t.firestore,Oi);return j3(th(e),t._key).then(n=>MA(e,t,n))}ur._jsonSchemaVersion="firestore/querySnapshot/1.0",ur._jsonSchema={type:ht("string",ur._jsonSchemaVersion),bundleSource:ht("string","QuerySnapshot"),bundleName:ht("string"),bundle:ht("string")};class cy extends F3{constructor(e){super(),this.firestore=e}convertBytes(e){return new xn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new it(this.firestore,null,n)}}function $3(t){t=Tn(t,Hi);const e=Tn(t.firestore,Oi),n=th(e),s=new cy(e);return kA(t._query),k3(n,t._query).then(i=>new ur(e,s,t,i))}function Y3(t,e,n,...s){t=Tn(t,it);const i=Tn(t.firestore,Oi),r=ny(i);let a;return a=typeof(e=$e(e))=="string"||e instanceof nh?z3(r,"updateDoc",t._key,e,n,s):P3(r,"updateDoc",t._key,e),uy(i,[a.toMutation(t._key,In.exists(!0))])}function X3(t){return uy(Tn(t.firestore,Oi),[new Og(t._key,In.none())])}function lh(t,e){const n=Tn(t.firestore,Oi),s=Wn(t),i=G3(t.converter,e);return uy(n,[L3(ny(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,In.exists(!1))]).then(()=>s)}function Et(t,...e){var c,d,h;t=$e(t);let n={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jb(e[s])||(n=e[s++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(jb(e[s])){const m=e[s];e[s]=(c=m.next)==null?void 0:c.bind(m),e[s+1]=(d=m.error)==null?void 0:d.bind(m),e[s+2]=(h=m.complete)==null?void 0:h.bind(m)}let r,a,l;if(t instanceof it)a=Tn(t.firestore,Oi),l=Gd(t._key.path),r={next:m=>{e[s]&&e[s](MA(a,t,m))},error:e[s+1],complete:e[s+2]};else{const m=Tn(t,Hi);a=Tn(m.firestore,Oi),l=m._query;const p=new cy(a);r={next:y=>{e[s]&&e[s](new ur(a,p,m,y))},error:e[s+1],complete:e[s+2]},kA(t._query)}return function(p,y,C,j){const D=new ey(j),T=new Wg(y,D,C);return p.asyncQueue.enqueueAndForget(async()=>$g(await od(p),T)),()=>{D.Nu(),p.asyncQueue.enqueueAndForget(async()=>Yg(await od(p),T))}}(th(a),l,i,r)}function uy(t,e){return function(s,i){const r=new bs;return s.asyncQueue.enqueueAndForget(async()=>v3(await I3(s),i,r)),r.promise}(th(t),e)}function MA(t,e,n){const s=n.docs.get(e._key),i=new cy(t);return new cr(t,i,e._key,s,new Ol(n.hasPendingWrites,n.fromCache),e.converter)}function dr(){return new sy("serverTimestamp")}(function(e,n=!0){(function(i){Ya=i})(Ir),vr(new Ni("firestore",(s,{instanceIdentifier:i,options:r})=>{const a=s.getProvider("app").getImmediate(),l=new Oi(new PD(s.getProvider("auth-internal")),new qD(a,s.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new Y(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new So(d.options.projectId,h)}(a,i),a);return r={useFetchStreams:n,...r},l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),Hn(Mv,Vv,e),Hn(Mv,Vv,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="firebasestorage.googleapis.com",UA="storageBucket",W3=2*60*1e3,J3=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends ns{constructor(e,n,s=0){super(Af(e),`Firebase Storage: ${n} (${Af(e)})`),this.status_=s,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Af(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var et;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(et||(et={}));function Af(t){return"storage/"+t}function dy(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(et.UNKNOWN,t)}function Z3(t){return new tt(et.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function eM(t){return new tt(et.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function tM(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(et.UNAUTHENTICATED,t)}function nM(){return new tt(et.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sM(t){return new tt(et.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function iM(){return new tt(et.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rM(){return new tt(et.CANCELED,"User canceled the upload/download.")}function aM(t){return new tt(et.INVALID_URL,"Invalid URL '"+t+"'.")}function lM(t){return new tt(et.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function oM(){return new tt(et.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+UA+"' property when initializing the app?")}function cM(){return new tt(et.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function uM(){return new tt(et.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function dM(t){return new tt(et.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function np(t){return new tt(et.INVALID_ARGUMENT,t)}function LA(){return new tt(et.APP_DELETED,"The Firebase app was deleted.")}function hM(t){return new tt(et.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function no(t,e){return new tt(et.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wl(t){throw new tt(et.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let s;try{s=an.makeFromUrl(e,n)}catch{return new an(e,"")}if(s.path==="")return s;throw lM(e)}static makeFromUrl(e,n){let s=null;const i="([A-Za-z0-9.\\-_]+)";function r(k){k.path.charAt(k.path.length-1)==="/"&&(k.path_=k.path_.slice(0,-1))}const a="(/(.*))?$",l=new RegExp("^gs://"+i+a,"i"),c={bucket:1,path:3};function d(k){k.path_=decodeURIComponent(k.path)}const h="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${m}/${h}/b/${i}/o${p}`,"i"),C={bucket:1,path:3},j=n===VA?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",T=new RegExp(`^https?://${j}/${i}/${D}`,"i"),x=[{regex:l,indices:c,postModify:r},{regex:y,indices:C,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let k=0;k<x.length;k++){const U=x[k],z=U.regex.exec(e);if(z){const w=z[U.indices.bucket];let _=z[U.indices.path];_||(_=""),s=new an(w,_),U.postModify(s);break}}if(s==null)throw aM(e);return s}}class fM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t,e,n){let s=1,i=null,r=null,a=!1,l=0;function c(){return l===2}let d=!1;function h(...D){d||(d=!0,e.apply(null,D))}function m(D){i=setTimeout(()=>{i=null,t(y,c())},D)}function p(){r&&clearTimeout(r)}function y(D,...T){if(d){p();return}if(D){p(),h.call(null,D,...T);return}if(c()||a){p(),h.call(null,D,...T);return}s<64&&(s*=2);let x;l===1?(l=2,x=0):x=(s+Math.random())*1e3,m(x)}let C=!1;function j(D){C||(C=!0,p(),!d&&(i!==null?(D||(l=2),clearTimeout(i),m(0)):D||(l=1)))}return m(0),r=setTimeout(()=>{a=!0,j(!0)},n),j}function pM(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){return t!==void 0}function yM(t){return typeof t=="object"&&!Array.isArray(t)}function hy(t){return typeof t=="string"||t instanceof String}function Ob(t){return fy()&&t instanceof Blob}function fy(){return typeof Blob<"u"}function Mb(t,e,n,s){if(s<e)throw np(`Invalid value for '${t}'. Expected ${e} or greater.`);if(s>n)throw np(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oh(t,e,n){let s=e;return n==null&&(s=`https://${e}`),`${n}://${s}/v0${t}`}function PA(t){const e=encodeURIComponent;let n="?";for(const s in t)if(t.hasOwnProperty(s)){const i=e(s)+"="+e(t[s]);n=n+i+"&"}return n=n.slice(0,-1),n}var hr;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(hr||(hr={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _M(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,r=e.indexOf(t)!==-1;return n||i||r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e,n,s,i,r,a,l,c,d,h,m,p=!0,y=!1){this.url_=e,this.method_=n,this.headers_=s,this.body_=i,this.successCodes_=r,this.additionalRetryCodes_=a,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=m,this.retry=p,this.isUsingEmulator=y,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((C,j)=>{this.resolve_=C,this.reject_=j,this.start_()})}start_(){const e=(s,i)=>{if(i){s(!1,new Lc(!1,null,!0));return}const r=this.connectionFactory_();this.pendingConnection_=r;const a=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&r.addUploadProgressListener(a),r.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&r.removeUploadProgressListener(a),this.pendingConnection_=null;const l=r.getErrorCode()===hr.NO_ERROR,c=r.getStatus();if(!l||_M(c,this.additionalRetryCodes_)&&this.retry){const h=r.getErrorCode()===hr.ABORT;s(!1,new Lc(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;s(!0,new Lc(d,r))})},n=(s,i)=>{const r=this.resolve_,a=this.reject_,l=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());gM(c)?r(c):r()}catch(c){a(c)}else if(l!==null){const c=dy();c.serverResponse=l.getErrorText(),this.errorCallback_?a(this.errorCallback_(l,c)):a(c)}else if(i.canceled){const c=this.appDelete_?LA():rM();a(c)}else{const c=iM();a(c)}};this.canceled_?n(!1,new Lc(!1,null,!0)):this.backoffId_=mM(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&pM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Lc{constructor(e,n,s){this.wasSuccessCode=e,this.connection=n,this.canceled=!!s}}function bM(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xM(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EM(t,e){e&&(t["X-Firebase-GMPID"]=e)}function wM(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function TM(t,e,n,s,i,r,a=!0,l=!1){const c=PA(t.urlParams),d=t.url+c,h=Object.assign({},t.headers);return EM(h,e),bM(h,n),xM(h,r),wM(h,s),new vM(d,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SM(...t){const e=AM();if(e!==void 0){const n=new e;for(let s=0;s<t.length;s++)n.append(t[s]);return n.getBlob()}else{if(fy())return new Blob(t);throw new tt(et.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function NM(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CM(t){if(typeof atob>"u")throw dM("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Sf{constructor(e,n){this.data=e,this.contentType=n||null}}function RM(t,e){switch(t){case Bn.RAW:return new Sf(zA(e));case Bn.BASE64:case Bn.BASE64URL:return new Sf(BA(t,e));case Bn.DATA_URL:return new Sf(jM(e),kM(e))}throw dy()}function zA(t){const e=[];for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);if(s<=127)e.push(s);else if(s<=2047)e.push(192|s>>6,128|s&63);else if((s&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const r=s,a=t.charCodeAt(++n);s=65536|(r&1023)<<10|a&1023,e.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|s&63)}else(s&64512)===56320?e.push(239,191,189):e.push(224|s>>12,128|s>>6&63,128|s&63)}return new Uint8Array(e)}function IM(t){let e;try{e=decodeURIComponent(t)}catch{throw no(Bn.DATA_URL,"Malformed data URL.")}return zA(e)}function BA(t,e){switch(t){case Bn.BASE64:{const i=e.indexOf("-")!==-1,r=e.indexOf("_")!==-1;if(i||r)throw no(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Bn.BASE64URL:{const i=e.indexOf("+")!==-1,r=e.indexOf("/")!==-1;if(i||r)throw no(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=CM(e)}catch(i){throw i.message.includes("polyfill")?i:no(t,"Invalid character found")}const s=new Uint8Array(n.length);for(let i=0;i<n.length;i++)s[i]=n.charCodeAt(i);return s}class qA{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw no(Bn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;s!=null&&(this.base64=DM(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-7):s),this.rest=e.substring(e.indexOf(",")+1)}}function jM(t){const e=new qA(t);return e.base64?BA(Bn.BASE64,e.rest):IM(e.rest)}function kM(t){return new qA(t).contentType}function DM(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e,n){let s=0,i="";Ob(e)?(this.data_=e,s=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),s=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),s=e.length),this.size_=s,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(Ob(this.data_)){const s=this.data_,i=NM(s,e,n);return i===null?null:new ei(i)}else{const s=new Uint8Array(this.data_.buffer,e,n-e);return new ei(s,!0)}}static getBlob(...e){if(fy()){const n=e.map(s=>s instanceof ei?s.data_:s);return new ei(SM.apply(null,n))}else{const n=e.map(a=>hy(a)?RM(Bn.RAW,a).data:a.data_);let s=0;n.forEach(a=>{s+=a.byteLength});const i=new Uint8Array(s);let r=0;return n.forEach(a=>{for(let l=0;l<a.length;l++)i[r++]=a[l]}),new ei(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t){let e;try{e=JSON.parse(t)}catch{return null}return yM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function MM(t,e){const n=e.split("/").filter(s=>s.length>0).join("/");return t.length===0?n:t+"/"+n}function FA(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VM(t,e){return e}class zt{constructor(e,n,s,i){this.server=e,this.local=n||e,this.writable=!!s,this.xform=i||VM}}let Pc=null;function UM(t){return!hy(t)||t.length<2?t:FA(t)}function GA(){if(Pc)return Pc;const t=[];t.push(new zt("bucket")),t.push(new zt("generation")),t.push(new zt("metageneration")),t.push(new zt("name","fullPath",!0));function e(r,a){return UM(a)}const n=new zt("name");n.xform=e,t.push(n);function s(r,a){return a!==void 0?Number(a):a}const i=new zt("size");return i.xform=s,t.push(i),t.push(new zt("timeCreated")),t.push(new zt("updated")),t.push(new zt("md5Hash",null,!0)),t.push(new zt("cacheControl",null,!0)),t.push(new zt("contentDisposition",null,!0)),t.push(new zt("contentEncoding",null,!0)),t.push(new zt("contentLanguage",null,!0)),t.push(new zt("contentType",null,!0)),t.push(new zt("metadata","customMetadata",!0)),Pc=t,Pc}function LM(t,e){function n(){const s=t.bucket,i=t.fullPath,r=new an(s,i);return e._makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function PM(t,e,n){const s={};s.type="file";const i=n.length;for(let r=0;r<i;r++){const a=n[r];s[a.local]=a.xform(s,e[a.server])}return LM(s,t),s}function KA(t,e,n){const s=HA(e);return s===null?null:PM(t,s,n)}function zM(t,e,n,s){const i=HA(e);if(i===null||!hy(i.downloadTokens))return null;const r=i.downloadTokens;if(r.length===0)return null;const a=encodeURIComponent;return r.split(",").map(d=>{const h=t.bucket,m=t.fullPath,p="/b/"+a(h)+"/o/"+a(m),y=oh(p,n,s),C=PA({alt:"media",token:d});return y+C})[0]}function BM(t,e){const n={},s=e.length;for(let i=0;i<s;i++){const r=e[i];r.writable&&(n[r.server]=t[r.local])}return JSON.stringify(n)}class my{constructor(e,n,s,i){this.url=e,this.method=n,this.handler=s,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QA(t){if(!t)throw dy()}function qM(t,e){function n(s,i){const r=KA(t,i,e);return QA(r!==null),r}return n}function HM(t,e){function n(s,i){const r=KA(t,i,e);return QA(r!==null),zM(r,i,t.host,t._protocol)}return n}function $A(t){function e(n,s){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=nM():i=tM():n.getStatus()===402?i=eM(t.bucket):n.getStatus()===403?i=sM(t.path):i=s,i.status=n.getStatus(),i.serverResponse=s.serverResponse,i}return e}function YA(t){const e=$A(t);function n(s,i){let r=e(s,i);return s.getStatus()===404&&(r=Z3(t.path)),r.serverResponse=i.serverResponse,r}return n}function FM(t,e,n){const s=e.fullServerUrl(),i=oh(s,t.host,t._protocol),r="GET",a=t.maxOperationRetryTime,l=new my(i,r,HM(t,n),a);return l.errorHandler=YA(e),l}function GM(t,e){const n=e.fullServerUrl(),s=oh(n,t.host,t._protocol),i="DELETE",r=t.maxOperationRetryTime;function a(c,d){}const l=new my(s,i,a,r);return l.successCodes=[200,204],l.errorHandler=YA(e),l}function KM(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function QM(t,e,n){const s=Object.assign({},n);return s.fullPath=t.path,s.size=e.size(),s.contentType||(s.contentType=KM(null,e)),s}function $M(t,e,n,s,i){const r=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function l(){let x="";for(let k=0;k<2;k++)x=x+Math.random().toString().slice(2);return x}const c=l();a["Content-Type"]="multipart/related; boundary="+c;const d=QM(e,s,i),h=BM(d,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,p=`\r
--`+c+"--",y=ei.getBlob(m,s,p);if(y===null)throw cM();const C={name:d.fullPath},j=oh(r,t.host,t._protocol),D="POST",T=t.maxUploadRetryTime,b=new my(j,D,qM(t,n),T);return b.urlParams=C,b.headers=a,b.body=y.uploadData(),b.errorHandler=$A(e),b}class YM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=hr.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=hr.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=hr.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,s,i,r){if(this.sent_)throw wl("cannot .send() more than once");if(Pi(e)&&s&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),r!==void 0)for(const a in r)r.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,r[a].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XM extends YM{initXhr(){this.xhr_.responseType="text"}}function py(){return new XM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,n){this._service=e,n instanceof an?this._location=n:this._location=an.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new wr(e,n)}get root(){const e=new an(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FA(this._location.path)}get storage(){return this._service}get parent(){const e=OM(this._location.path);if(e===null)return null;const n=new an(this._location.bucket,e);return new wr(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw hM(e)}}function WM(t,e,n){t._throwIfRoot("uploadBytes");const s=$M(t.storage,t._location,GA(),new ei(e,!0),n);return t.storage.makeRequestWithTokens(s,py).then(i=>({metadata:i,ref:t}))}function JM(t){t._throwIfRoot("getDownloadURL");const e=FM(t.storage,t._location,GA());return t.storage.makeRequestWithTokens(e,py).then(n=>{if(n===null)throw uM();return n})}function ZM(t){t._throwIfRoot("deleteObject");const e=GM(t.storage,t._location);return t.storage.makeRequestWithTokens(e,py)}function e5(t,e){const n=MM(t._location.path,e),s=new an(t._location.bucket,n);return new wr(t.storage,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t){return/^[A-Za-z]+:\/\//.test(t)}function n5(t,e){return new wr(t,e)}function XA(t,e){if(t instanceof gy){const n=t;if(n._bucket==null)throw oM();const s=new wr(n,n._bucket);return e!=null?XA(s,e):s}else return e!==void 0?e5(t,e):t}function s5(t,e){if(e&&t5(e)){if(t instanceof gy)return n5(t,e);throw np("To use ref(service, url), the first argument must be a Storage instance.")}else return XA(t,e)}function Vb(t,e){const n=e==null?void 0:e[UA];return n==null?null:an.makeFromBucketSpec(n,t)}function i5(t,e,n,s={}){t.host=`${e}:${n}`;const i=Pi(e);i&&(hg(`https://${t.host}/b`),fg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:r}=s;r&&(t._overrideAuthToken=typeof r=="string"?r:bT(r,t.app.options.projectId))}class gy{constructor(e,n,s,i,r,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=s,this._url=i,this._firebaseVersion=r,this._isUsingEmulator=a,this._bucket=null,this._host=VA,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=W3,this._maxUploadRetryTime=J3,this._requests=new Set,i!=null?this._bucket=an.makeFromBucketSpec(i,this._host):this._bucket=Vb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=an.makeFromBucketSpec(this._url,e):this._bucket=Vb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Mb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Mb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new wr(this,e)}_makeRequest(e,n,s,i,r=!0){if(this._deleted)return new fM(LA());{const a=TM(e,this._appId,s,i,n,this._firebaseVersion,r,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[s,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,s,i).getPromise()}}const Ub="@firebase/storage",Lb="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA="storage";function r5(t,e,n){return t=$e(t),WM(t,e,n)}function JA(t){return t=$e(t),JM(t)}function a5(t){return t=$e(t),ZM(t)}function yy(t,e){return t=$e(t),s5(t,e)}function l5(t=gg(),e){t=$e(t);const s=Vd(t,WA).getImmediate({identifier:e}),i=yT("storage");return i&&ZA(s,...i),s}function ZA(t,e,n,s={}){i5(t,e,n,s)}function o5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),s=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new gy(n,s,i,e,Ir)}function c5(){vr(new Ni(WA,o5,"PUBLIC").setMultipleInstances(!0)),Hn(Ub,Lb,""),Hn(Ub,Lb,"esm2020")}c5();const Nf={},u5={apiKey:"fake-api-key",authDomain:"localhost",projectId:"evcwebsite12345",storageBucket:"evcwebsite12345.firebasestorage.app"},_y=wT(u5),Mi=MD(_y),ze=D3(_y),ch=l5(_y),d5=typeof window<"u"&&["localhost","127.0.0.1","::1"].includes(window.location.hostname),h5=(Nf==null?void 0:Nf.VITE_USE_EMULATORS)==="true"||d5;let Pb=!1;if(!Pb&&h5){try{GT(Mi,"http://localhost:9099")}catch{}try{AA(ze,"localhost",8080)}catch{}try{ZA(ch,"localhost",9199)}catch{}Pb=!0}const f5=[{label:"Admin • Dashboard",to:"/admin"},{label:"Admin • Assignments",to:"/admin/assignments"},{label:"Admin • Trajects",to:"/admin/trajects"},{label:"Admin • Users",to:"/admin/users"},{label:"Admin • Profile",to:"/admin/profile"},{label:"Coach • Dashboard",to:"/coach"},{label:"Coach • My Customers",to:"/coach/customers"},{label:"Coach • Feedback",to:"/coach/feedback"},{label:"Coach • Messages",to:"/coach/messages"},{label:"Customer • Planning",to:"/customer/planning"},{label:"Customer • Messages",to:"/customer/messages"},{label:"Customer • Profile",to:"/customer/profile"},{label:"Test • Create Account",to:"/testing/create-account",badge:"DEV"}],m5=()=>{const t=ts(),e=Rr(),[n,s]=A.useState(!1),[i,r]=A.useState(()=>!!localStorage.getItem("token"));A.useEffect(()=>{const h=wg(Mi,m=>{r(!!m||!!localStorage.getItem("token"))});return()=>h()},[]);const a=A.useMemo(()=>f5.map(h=>({...h,active:e.pathname===h.to||e.pathname.startsWith(`${h.to}/`)})),[e.pathname]),l=h=>{t(h),s(!1)},c=async()=>{try{await XT(Mi)}catch{}localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("impersonationBackup"),r(!1),t("/login",{replace:!0}),s(!1)},d=()=>{t("/login"),s(!1)};return u.jsxs("header",{className:"sticky top-0 z-30 border-b border-evc-blue-500/40 bg-evc-blue-600/95 text-white backdrop-blur",children:[u.jsxs("div",{className:"mx-auto flex h-16 max-w-6xl items-center justify-between px-4 sm:px-6",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Go,{className:"inline-flex shrink-0",tone:"dark"}),u.jsx("button",{type:"button",onClick:()=>l("/"),className:"text-sm font-medium text-white transition hover:text-white/80",children:"EVC Portfolio"})]}),u.jsx("nav",{className:"hidden items-center gap-6 text-sm font-medium text-white/80 md:flex",children:a.map(h=>u.jsxs("button",{type:"button",onClick:()=>l(h.to),className:`relative inline-flex items-center gap-2 transition hover:text-white ${h.active?"text-white":""}`,children:[u.jsx("span",{children:h.label}),h.badge?u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[0.65rem] font-semibold uppercase tracking-wide text-white/90",children:h.badge}):null,h.active&&u.jsx("span",{className:"absolute -bottom-2 left-0 right-0 h-0.5 rounded-full bg-white"})]},h.to))}),u.jsxs("div",{className:"flex items-center gap-3",children:[i?u.jsxs("button",{type:"button",onClick:c,className:"hidden items-center gap-2 rounded-full border border-white/40 px-4 py-2 text-sm font-medium text-white transition hover:border-white hover:bg-white/10 md:inline-flex",children:[u.jsx(J_,{className:"h-4 w-4"}),u.jsx("span",{children:"Logout"})]}):u.jsxs("button",{type:"button",onClick:d,className:"hidden items-center gap-2 rounded-full border border-white/40 px-4 py-2 text-sm font-medium text-white transition hover:border-white hover:bg-white/10 md:inline-flex",children:[u.jsx(Cm,{className:"h-4 w-4"}),u.jsx("span",{children:"Login"})]}),u.jsx("button",{type:"button",onClick:()=>s(h=>!h),className:"inline-flex items-center justify-center rounded-full border border-white/40 p-2 text-white transition hover:border-white hover:text-white md:hidden","aria-label":"Toggle navigation",children:n?u.jsx(LI,{className:"h-5 w-5"}):u.jsx(uT,{className:"h-5 w-5"})})]})]}),n&&u.jsx("div",{className:"border-t border-white/20 bg-evc-blue-600/95 text-white md:hidden",children:u.jsxs("div",{className:"mx-auto flex max-w-6xl flex-col gap-1 px-4 py-3 text-sm font-medium text-white/80",children:[a.map(h=>u.jsxs("button",{type:"button",onClick:()=>l(h.to),className:`flex items-center justify-between rounded-lg px-3 py-2 text-left transition hover:bg-white/10 ${h.active?"bg-white/10 text-white":""}`,children:[u.jsxs("span",{className:"flex items-center gap-2",children:[h.label,h.badge?u.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[0.6rem] font-semibold uppercase tracking-wide text-white/90",children:h.badge}):null]}),h.active&&u.jsx("span",{className:"text-xs font-semibold uppercase text-white",children:"Now"})]},h.to)),i?u.jsxs("button",{type:"button",onClick:c,className:"mt-2 inline-flex items-center justify-center gap-2 rounded-lg bg-white/15 px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-white/20",children:[u.jsx(J_,{className:"h-4 w-4"}),u.jsx("span",{children:"Logout"})]}):u.jsxs("button",{type:"button",onClick:d,className:"mt-2 inline-flex items-center justify-center gap-2 rounded-lg bg-white/15 px-3 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-white/20",children:[u.jsx(Cm,{className:"h-4 w-4"}),u.jsx("span",{children:"Login"})]})]})})]})},vy=({title:t,description:e,kicker:n,actions:s,children:i,showHeader:r=!0})=>u.jsxs("div",{className:"min-h-screen bg-transparent",children:[u.jsx(m5,{}),u.jsxs("main",{className:"mx-auto w-full max-w-6xl px-4 pb-16 pt-10 sm:px-6 lg:px-8",children:[r&&(t||e||n||s)?u.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-6 border-b border-slate-200 pb-8",children:[u.jsxs("div",{className:"max-w-2xl space-y-2",children:[n?u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.32em] text-brand-600",children:n}):null,t?u.jsx("h1",{className:"text-3xl font-semibold tracking-tight text-slate-900 sm:text-4xl",children:t}):null,e?u.jsx("p",{className:"text-base text-slate-500 sm:text-lg",children:e}):null]}),s?u.jsx("div",{className:"flex flex-col items-stretch gap-3 sm:flex-row sm:items-center",children:s}):null]}):null,u.jsx("div",{className:r?"mt-8 space-y-8":"space-y-8",children:i})]})]}),p5=()=>{const[t,e]=A.useState(""),[n,s]=A.useState(""),[i,r]=A.useState(!1),[a,l]=A.useState(""),c=ts(),d=async h=>{var m;h.preventDefault(),r(!0),l("");try{const y=await(await Ek(Mi,t,n)).user.getIdToken(),C=await Ko("/auth/login/firebase",{idToken:y});if(!(C!=null&&C.token))throw new Error((C==null?void 0:C.error)||"Inloggen is niet gelukt. Probeer het opnieuw.");localStorage.setItem("token",C.token),C.user&&localStorage.setItem("user",JSON.stringify(C.user));const j=C.redirectPath||"/dashboard";c(j,{replace:!0})}catch(p){l(((m=p==null?void 0:p.data)==null?void 0:m.error)||(p==null?void 0:p.message)||"Inloggen is niet gelukt. Controleer je gegevens.")}finally{r(!1)}};return u.jsx(vy,{kicker:"Inloggen",title:"Welkom terug bij EVC",description:"Log in om je traject te volgen, bewijsstukken te uploaden en contact te houden met je coach. Nieuwe accounts worden door een administrator aangemaakt.",children:u.jsxs("section",{className:"mx-auto w-full max-w-xl rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-brand-100 text-brand-600",children:u.jsx(Cm,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Log in op je account"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Gebruik het e-mailadres waarmee je bent aangemeld voor het traject."})]})]}),u.jsxs("form",{onSubmit:d,className:"mt-6 space-y-5",children:[a?u.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:a}):null,u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"login-email",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"E-mail"}),u.jsx("input",{id:"login-email",type:"email",placeholder:"jij@voorbeeld.nl",value:t,onChange:h=>e(h.target.value),className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",required:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"login-password",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Wachtwoord"}),u.jsx("input",{id:"login-password",type:"password",placeholder:"Vul je wachtwoord in",value:n,onChange:h=>s(h.target.value),className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",required:!0})]}),u.jsxs("div",{className:"flex items-center justify-between text-sm",children:[u.jsxs("label",{className:"flex items-center gap-2 text-slate-600",children:[u.jsx("input",{type:"checkbox",className:"h-4 w-4 rounded border-slate-300 text-brand-600 focus:ring-brand-500"}),u.jsx("span",{children:"Onthoud mij"})]}),u.jsx("button",{type:"button",onClick:()=>alert("Neem contact op met support om je wachtwoord te resetten."),className:"font-medium text-brand-600 transition hover:text-brand-500",children:"Wachtwoord vergeten?"})]}),u.jsx("button",{type:"submit",disabled:i,className:"mt-4 w-full rounded-full bg-brand-600 px-5 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-500 disabled:cursor-not-allowed disabled:bg-brand-300",children:i?"Bezig met inloggen...":"Inloggen"})]}),u.jsx("p",{className:"mt-6 text-center text-sm text-slate-500",children:"Hulp nodig? Neem contact op met het EVC-team."})]})})},g5=["Je portfolio opbouwen met duidelijke stappen","Bewijsstukken veilig uploaden en beheren","Berichten sturen naar coaches en begeleiders","Voortgang bijhouden via planning en taken"],y5=()=>u.jsxs(vy,{showHeader:!1,children:[u.jsx("section",{className:"overflow-hidden rounded-3xl bg-gradient-to-br from-brand-600 via-brand-500 to-brand-400 text-white shadow-xl",children:u.jsxs("div",{className:"grid gap-10 px-8 py-16 sm:px-12 lg:grid-cols-2 lg:px-16",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.32em] text-white/60",children:"EVC platform"}),u.jsx("h1",{className:"mt-6 text-4xl font-semibold leading-tight tracking-tight sm:text-5xl",children:"Welkom bij jouw EVC portfolio"}),u.jsx("p",{className:"mt-6 max-w-xl text-lg text-white/80",children:"Werk stap voor stap naar je erkenning toe. Verzamel bewijsstukken, werk samen met je coach en houd alles op één plek bij."}),u.jsxs("div",{className:"mt-10 flex flex-wrap gap-4",children:[u.jsxs(Yl,{to:"/login",className:"inline-flex items-center justify-center gap-2 rounded-full bg-white px-5 py-3 text-sm font-semibold text-brand-600 shadow-lg shadow-brand-900/10 transition hover:-translate-y-0.5 hover:bg-slate-50",children:["Naar login",u.jsx(tu,{className:"h-4 w-4"})]}),u.jsx("span",{className:"inline-flex items-center justify-center gap-2 rounded-full border border-white/40 px-5 py-3 text-sm font-semibold text-white/80",children:"Nieuwe accounts? Neem contact op met het EVC-team"})]})]}),u.jsxs("div",{className:"relative isolate",children:[u.jsx("div",{className:"absolute -top-10 right-10 h-32 w-32 rounded-full bg-white/10 blur-3xl","aria-hidden":"true"}),u.jsx("div",{className:"absolute -bottom-12 left-6 h-24 w-24 rounded-full bg-brand-200/40 blur-3xl","aria-hidden":"true"}),u.jsxs("div",{className:"relative rounded-2xl border border-white/20 bg-white/10 p-8 backdrop-blur",children:[u.jsx("h2",{className:"text-xl font-semibold text-white",children:"Alles in één vertrouwde omgeving"}),u.jsx("ul",{className:"mt-6 space-y-4",children:g5.map(t=>u.jsxs("li",{className:"flex items-start gap-3 text-sm text-white/85",children:[u.jsx(or,{className:"mt-0.5 h-5 w-5 flex-none text-white"}),u.jsx("span",{children:t})]},t))})]})]})]})}),u.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Voor kandidaten"}),u.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Werk op je eigen tempo aan opdrachten, voeg reflecties toe en beheer bewijsstukken."})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Voor coaches"}),u.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Krijg realtime inzicht in voortgang, geef feedback en begeleid kandidaten gericht."})]}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Veilig en transparant"}),u.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Bewaar bestanden veilig en werk samen in een omgeving met duidelijke rollen en rechten."})]})]}),u.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs(Yl,{to:"/admin",className:"group flex items-start gap-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition hover:-translate-y-1 hover:border-brand-400 hover:shadow-lg",children:[u.jsx("span",{className:"flex h-11 w-11 items-center justify-center rounded-full bg-brand-50 text-brand-600",children:u.jsx(ug,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Bekijk de admin-ervaring"}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Navigeer naar het beheerdersdashboard met klantoverzicht en toewijzingen."}),u.jsxs("span",{className:"mt-3 inline-flex items-center gap-1 text-sm font-medium text-brand-600",children:["Naar admin-dashboard",u.jsx(tu,{className:"h-4 w-4 transition group-hover:translate-x-1"})]})]})]}),u.jsxs(Yl,{to:"/coach",className:"group flex items-start gap-4 rounded-3xl border border-slate-200 bg-white p-6 shadow-sm transition hover:-translate-y-1 hover:border-brand-400 hover:shadow-lg",children:[u.jsx("span",{className:"flex h-11 w-11 items-center justify-center rounded-full bg-brand-50 text-brand-600",children:u.jsx(Fo,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Ervaar het coachportaal"}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Ga direct naar het coachdashboard met klantkaarten, feedback en berichten."}),u.jsxs("span",{className:"mt-3 inline-flex items-center gap-1 text-sm font-medium text-brand-600",children:["Naar coach-dashboard",u.jsx(tu,{className:"h-4 w-4 transition group-hover:translate-x-1"})]})]})]})]})]});function by(t){if(!(t!=null&&t.exists()))return null;const e=t.data();return{id:t.id,...e}}function _5(t){const e=[];if(Array.isArray(t)&&t.length>0){const n=t.map(s=>typeof s=="string"?s.trim().toLowerCase():"").filter(Boolean);n.length===1?e.push(ks("role","==",n[0])):n.length>1&&e.push(ks("role","in",n.slice(0,10)))}return e}function sp(t,e={}){const{roles:n}=e,s=kt(ze,"users"),i=On(s,..._5(n));return Et(i,r=>{const a=r.docs.map(by).filter(Boolean).sort((l,c)=>{const d=(l.name||"").toLowerCase(),h=(c.name||"").toLowerCase();return d.localeCompare(h)});t({data:a,error:null})},r=>t({data:null,error:r}))}function v5(t){const e=kt(ze,"assignments"),n=On(e,Or("createdAt","desc"));return Et(n,s=>{const i=s.docs.map(r=>{var l,c;const a=r.data();return{id:r.id,customerId:a.customerId||null,coachId:a.coachId||null,status:a.status||"pending",createdAt:a.createdAt?((c=(l=a.createdAt).toDate)==null?void 0:c.call(l))??a.createdAt:null,createdBy:a.createdBy||null}});t({data:i,error:null})},s=>t({data:null,error:s}))}async function b5({customerId:t,coachId:e,status:n="pending"}){if(!t||!e)throw new Error("customerId and coachId are verplicht");const s=Mi.currentUser,i=(s==null?void 0:s.uid)??null,r=kt(ze,"assignments");await lh(r,{customerId:t,coachId:e,status:n,createdBy:i,createdAt:dr()})}function eS(t,e){if(!t)return e({data:null,error:new Error("Missing uid")}),()=>{};const n=Wn(ze,"users",t),s=Wn(ze,"adminProfiles",t);let i=null,r=null,a=null,l=null;const c=()=>{if(a||l){e({data:null,error:a||l});return}if(!i){e({data:null,error:null});return}e({data:{...i,...r},error:null})},d=Et(n,m=>{i=by(m),a=null,c()},m=>{a=m,c()}),h=Et(s,m=>{r=m.exists()?m.data():null,l=null,c()},m=>{l=m,c()});return()=>{d(),h()}}async function x5(){const t=kt(ze,"users"),e=await $3(t),n=new Map;return e.forEach(s=>{const i=by(s);i&&n.set(i.id,i)}),n}const E5=()=>{const t=ts(),[e,n]=A.useState([]),[s,i]=A.useState(null),[r,a]=A.useState(!0),[l,c]=A.useState(null),[d,h]=A.useState(null);A.useEffect(()=>{a(!0);const y=sp(({data:C,error:j})=>{if(j){i(j),a(!1);return}n(Array.isArray(C)?C:[]),i(null),a(!1)});return()=>{typeof y=="function"&&y()}},[]);const m=y=>y?y.charAt(0).toUpperCase()+y.slice(1):"Onbekend",p=async y=>{var C;if(!(!y||y.role!=="customer")){c(null),h(y.id);try{const j=await Ko("/auth/admin/impersonate",{firebaseUid:y.id});if(!(j!=null&&j.token))throw new Error("Geen sessie ontvangen");const D=localStorage.getItem("token")||null,T=localStorage.getItem("user")||null;let b=null;if(T)try{b=JSON.parse(T)}catch{b=null}const x={token:D,user:T,userData:b,customerFirebaseUid:y.id,customerName:y.name||"",createdAt:new Date().toISOString()};localStorage.setItem("impersonationBackup",JSON.stringify(x)),localStorage.setItem("token",j.token),j.user?localStorage.setItem("user",JSON.stringify(j.user)):localStorage.removeItem("user"),t("/customer",{replace:!0})}catch(j){const D=((C=j==null?void 0:j.data)==null?void 0:C.error)||(j==null?void 0:j.message)||"Kon klantomgeving niet openen";c(D)}finally{h(null)}}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Customer accounts"}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Beheer klantprofielen en stap in hun omgeving om hun voortgang in te zien."})]}),s?u.jsxs("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:["Kan accounts niet laden: ",s.message||"Onbekende fout"]}):null,l?u.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:l}):null,u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[u.jsx("thead",{className:"bg-slate-50",children:u.jsxs("tr",{children:[u.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Naam"}),u.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:"E-mail"}),u.jsx("th",{scope:"col",className:"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Rol"}),u.jsx("th",{scope:"col",className:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Actie"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 text-sm text-slate-600",children:r?u.jsx("tr",{children:u.jsx("td",{className:"px-4 py-6 text-center text-slate-400",colSpan:4,children:"Accounts laden..."})}):e.length===0?u.jsx("tr",{children:u.jsx("td",{className:"px-4 py-6 text-center text-slate-400",colSpan:4,children:"Nog geen accounts gevonden."})}):e.map(y=>{const C=y.role==="customer";return u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:y.name||"Naam onbekend"}),u.jsx("td",{className:"px-4 py-3",children:y.email?u.jsx("a",{href:`mailto:${y.email}`,className:"text-brand-600 hover:text-brand-500",children:y.email}):u.jsx("span",{className:"text-slate-400",children:"Geen e-mail"})}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:"inline-flex rounded-full border border-slate-200 px-2.5 py-1 text-xs font-semibold uppercase tracking-wide text-slate-500",children:m(y.role)})}),u.jsx("td",{className:"px-4 py-3 text-right",children:u.jsx("button",{type:"button",onClick:()=>p(y),className:`inline-flex items-center gap-2 rounded-full px-3 py-2 text-xs font-semibold transition ${C&&d!==y.id?"bg-brand-600 text-white shadow-sm hover:bg-brand-500":"cursor-not-allowed bg-slate-100 text-slate-400"}`,disabled:!C||d===y.id,children:C?d===y.id?"Bezig...":"Open as Customer":"Alleen klanten"})})]},y.id)})})]})})]})},w5=()=>{const[t,e]=A.useState([]),[n,s]=A.useState([]),[i,r]=A.useState([]),[a,l]=A.useState({customerId:"",coachId:""}),[c,d]=A.useState(!0),[h,m]=A.useState(!0),[p,y]=A.useState(!0),[C,j]=A.useState(!1),[D,T]=A.useState(null),[b,x]=A.useState({customers:null,coaches:null,assignments:null});A.useEffect(()=>{const _=sp(({data:R,error:I})=>{if(I){x(N=>({...N,customers:I})),d(!1);return}x(N=>({...N,customers:null})),e(Array.isArray(R)?R:[]),d(!1)},{roles:["customer"]}),v=sp(({data:R,error:I})=>{if(I){x(N=>({...N,coaches:I})),m(!1);return}x(N=>({...N,coaches:null})),s(Array.isArray(R)?R:[]),m(!1)},{roles:["coach"]}),S=v5(({data:R,error:I})=>{if(I){x(N=>({...N,assignments:I})),y(!1);return}x(N=>({...N,assignments:null})),r(Array.isArray(R)?R:[]),y(!1)});return()=>{typeof _=="function"&&_(),typeof v=="function"&&v(),typeof S=="function"&&S()}},[]),A.useEffect(()=>{l(_=>{var v;return{..._,customerId:_.customerId||((v=t[0])==null?void 0:v.id)||""}})},[t]),A.useEffect(()=>{l(_=>{var v;return{..._,coachId:_.coachId||((v=n[0])==null?void 0:v.id)||""}})},[n]);const k=_=>{const{name:v,value:S}=_.target;l(R=>({...R,[v]:S}))},U=_=>{if(_.preventDefault(),!a.customerId||!a.coachId){T({type:"error",message:"Selecteer zowel een klant als een coach."});return}j(!0),T(null),b5({customerId:a.customerId,coachId:a.coachId}).then(()=>{T({type:"success",message:"Toewijzing opgeslagen."})}).catch(v=>{T({type:"error",message:(v==null?void 0:v.message)||"Toewijzing mislukt."})}).finally(()=>{j(!1)})},z=A.useMemo(()=>{const _=new Map;return t.forEach(v=>_.set(v.id,v)),n.forEach(v=>_.set(v.id,v)),_},[t,n]),w=()=>{if(!D)return null;const v=D.type==="error"?"border-red-200 bg-red-50 text-red-700":"border-emerald-200 bg-emerald-50 text-emerald-700";return u.jsx("div",{className:`rounded-2xl border px-4 py-3 text-sm ${v}`,children:D.message})};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Assignments"}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Pair customers with their coaches and keep the overview tidy."})]}),w(),u.jsxs("form",{onSubmit:U,className:"grid gap-4 rounded-2xl border border-slate-200 bg-white p-4 shadow-sm sm:grid-cols-4 sm:items-end",children:[u.jsxs("div",{className:"sm:col-span-2",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Customer"}),u.jsxs("select",{name:"customerId",value:a.customerId,onChange:k,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100",disabled:c||t.length===0,children:[c?u.jsx("option",{value:"",children:"Laden..."}):null,!c&&t.length===0?u.jsx("option",{value:"",children:"Geen klanten beschikbaar"}):null,t.map(_=>u.jsx("option",{value:_.id,children:_.name||_.email},_.id))]})]}),u.jsxs("div",{className:"sm:col-span-1",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Coach"}),u.jsxs("select",{name:"coachId",value:a.coachId,onChange:k,className:"mt-2 w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100",disabled:h||n.length===0,children:[h?u.jsx("option",{value:"",children:"Laden..."}):null,!h&&n.length===0?u.jsx("option",{value:"",children:"Geen coaches beschikbaar"}):null,n.map(_=>u.jsx("option",{value:_.id,children:_.name||_.email},_.id))]})]}),u.jsx("div",{className:"sm:col-span-1",children:u.jsx("button",{type:"submit",disabled:C||!a.customerId||!a.coachId,className:"inline-flex w-full items-center justify-center rounded-lg bg-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-500 disabled:cursor-not-allowed disabled:bg-brand-300",children:C?"Bezig...":"Assign"})})]}),b.customers?u.jsxs("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:["Klanten konden niet geladen worden: ",b.customers.message||"Onbekende fout"]}):null,b.coaches?u.jsxs("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:["Coaches konden niet geladen worden: ",b.coaches.message||"Onbekende fout"]}):null,b.assignments?u.jsxs("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:["Toewijzingen konden niet geladen worden: ",b.assignments.message||"Onbekende fout"]}):null,u.jsx("div",{className:"overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:u.jsxs("table",{className:"min-w-full divide-y divide-slate-200",children:[u.jsx("thead",{className:"bg-slate-50 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3",children:"Customer"}),u.jsx("th",{className:"px-4 py-3",children:"Coach"}),u.jsx("th",{className:"px-4 py-3",children:"Status"})]})}),u.jsx("tbody",{className:"divide-y divide-slate-200 text-sm text-slate-600",children:p?u.jsx("tr",{children:u.jsx("td",{className:"px-4 py-6 text-center text-slate-400",colSpan:3,children:"Toewijzingen laden..."})}):i.length===0?u.jsx("tr",{children:u.jsx("td",{className:"px-4 py-6 text-center text-slate-400",colSpan:3,children:"No assignments yet."})}):i.map(_=>{var v,S,R,I;return u.jsxs("tr",{className:"hover:bg-slate-50",children:[u.jsx("td",{className:"px-4 py-3 font-medium text-slate-900",children:((v=z.get(_.customerId))==null?void 0:v.name)||((S=z.get(_.customerId))==null?void 0:S.email)||"Onbekende klant"}),u.jsx("td",{className:"px-4 py-3",children:((R=z.get(_.coachId))==null?void 0:R.name)||((I=z.get(_.coachId))==null?void 0:I.email)||"Onbekende coach"}),u.jsx("td",{className:"px-4 py-3",children:u.jsx("span",{className:"inline-flex rounded-full border border-slate-200 px-2.5 py-1 text-xs font-semibold uppercase tracking-wide text-slate-500",children:_.status})})]},_.id)})})]})})]})},ud=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`id-${Math.random().toString(36).slice(2,10)}`,dd=()=>({id:ud(),code:"",title:"",description:"",desiredOutcome:"",subjectKnowledge:"",behavioralComponents:""}),hu=()=>({id:ud(),code:"",title:"",competencies:[dd()]}),zb=()=>({id:null,name:"",description:"",competencyGroups:[hu()]}),T5=t=>{if(!t)return"-";try{const e=typeof t=="string"?new Date(t):t;return Number.isNaN(e.getTime())?"-":new Intl.DateTimeFormat("nl-NL",{year:"numeric",month:"short",day:"numeric"}).format(e)}catch{return"-"}},A5=(t,e=0)=>({id:ud(),code:(t==null?void 0:t.code)||"",title:(t==null?void 0:t.title)||"",order:(t==null?void 0:t.order)??e,competencies:Array.isArray(t==null?void 0:t.competencies)&&t.competencies.length>0?[...t.competencies].sort((n,s)=>((n==null?void 0:n.order)??(n==null?void 0:n.competencyOrder)??0)-((s==null?void 0:s.order)??(s==null?void 0:s.competencyOrder)??0)).map(n=>({id:ud(),code:(n==null?void 0:n.code)||"",title:(n==null?void 0:n.title)||"",description:(n==null?void 0:n.description)||"",desiredOutcome:(n==null?void 0:n.desiredOutcome)||"",subjectKnowledge:(n==null?void 0:n.subjectKnowledge)||"",behavioralComponents:(n==null?void 0:n.behavioralComponents)||""})):[dd()]}),S5=()=>{const[t,e]=A.useState([]),[n,s]=A.useState(!0),[i,r]=A.useState(null),[a,l]=A.useState(null),[c,d]=A.useState(!1),[h,m]=A.useState(null),[p,y]=A.useState(zb),[C,j]=A.useState(!1),[D,T]=A.useState(null),[b,x]=A.useState(null),k=!!p.id,U=C||c,z=A.useCallback(async()=>{s(!0),r(null);try{const G=await Ns("/trajects"),W=Array.isArray(G)?G:[];return e(W),W}catch(G){const W=(G==null?void 0:G.message)||"Kon trajecten niet ophalen";return r(W),e([]),[]}finally{s(!1)}},[]),w=A.useCallback(()=>{l(null),y(zb()),m(null),T(null),x(null)},[]),_=A.useCallback(async G=>{if(G){d(!0),m(null);try{const W=await Ns(`/trajects/${G}`),he=(Array.isArray(W==null?void 0:W.competencyGroups)?W.competencyGroups:[]).map((ge,B)=>A5(ge,B)).sort((ge,B)=>(ge.order??0)-(B.order??0)).map(({order:ge,...B})=>B);y({id:(W==null?void 0:W.id)||G,name:(W==null?void 0:W.name)||"",description:(W==null?void 0:W.description)||"",competencyGroups:he.length>0?he:[hu()]}),l(G)}catch(W){const te=(W==null?void 0:W.message)||"Kon traject niet laden";m(te)}finally{d(!1)}}},[]);A.useEffect(()=>{z()},[z]),A.useEffect(()=>{if(!b&&!D)return()=>{};const G=setTimeout(()=>{x(null),T(null)},4e3);return()=>clearTimeout(G)},[b,D]);const v=G=>{const{name:W,value:te}=G.target;y(he=>({...he,[W]:te}))},S=(G,W,te)=>{y(he=>({...he,competencyGroups:he.competencyGroups.map(ge=>ge.id===G?{...ge,[W]:te}:ge)}))},R=()=>{U||y(G=>({...G,competencyGroups:[...G.competencyGroups,hu()]}))},I=G=>{U||y(W=>{const te=W.competencyGroups.filter(he=>he.id!==G);return{...W,competencyGroups:te.length>0?te:[hu()]}})},N=(G,W,te,he)=>{y(ge=>({...ge,competencyGroups:ge.competencyGroups.map(B=>B.id!==G?B:{...B,competencies:B.competencies.map(X=>X.id===W?{...X,[te]:he}:X)})}))},ae=G=>{U||y(W=>({...W,competencyGroups:W.competencyGroups.map(te=>te.id===G?{...te,competencies:[...te.competencies,dd()]}:te)}))},me=(G,W)=>{U||y(te=>({...te,competencyGroups:te.competencyGroups.map(he=>{if(he.id!==G)return he;const ge=he.competencies.filter(B=>B.id!==W);return{...he,competencies:ge.length>0?ge:[dd()]}})}))},P=A.useMemo(()=>p.competencyGroups.map((G,W)=>{const te=G.code.trim(),he=G.title.trim(),ge=G.competencies.map((B,X)=>{const J={code:B.code.trim(),title:B.title.trim(),description:B.description.trim(),desiredOutcome:B.desiredOutcome.trim(),subjectKnowledge:B.subjectKnowledge.trim(),behavioralComponents:B.behavioralComponents.trim()};return Object.values(J).some(wt=>wt.length>0)?{...J,rawId:B.id,groupId:G.id,competencyIndex:X}:null}).filter(Boolean);return{id:G.id,groupIndex:W,trimmedCode:te,trimmedTitle:he,competencies:ge}}).filter(G=>G.trimmedCode||G.trimmedTitle||G.competencies.length>0),[p.competencyGroups]),V=A.useMemo(()=>P.some(G=>!G.trimmedCode||!G.trimmedTitle),[P]),O=A.useMemo(()=>P.some(G=>G.competencies.some(W=>!W.code||!W.title||!W.desiredOutcome||!W.subjectKnowledge||!W.behavioralComponents)),[P]),K=A.useMemo(()=>P.filter(G=>G.competencies.length>0),[P]),Q=A.useMemo(()=>!(U||!p.name.trim()||K.length===0||V||O),[U,p.name,K,V,O]),pe=async G=>{var te;if(G.preventDefault(),!Q)return;j(!0),T(null),x(null);const W={name:p.name.trim(),description:p.description.trim(),competencyGroups:K.map((he,ge)=>({code:he.trimmedCode,title:he.trimmedTitle,order:ge,competencies:he.competencies.map((B,X)=>({code:B.code,title:B.title,description:B.description,desiredOutcome:B.desiredOutcome,subjectKnowledge:B.subjectKnowledge,behavioralComponents:B.behavioralComponents,order:X}))}))};try{if(k)await hT(`/trajects/${p.id}`,W),x("Traject bijgewerkt"),await z(),await _(p.id);else{const he=await Ko("/trajects",W);x("Nieuw traject opgeslagen");const ge=await z(),B=(he==null?void 0:he.id)||((te=ge.find(X=>X.name===W.name))==null?void 0:te.id)||null;B?await _(B):w()}}catch(he){T((he==null?void 0:he.message)||"Opslaan mislukt")}finally{j(!1)}},ne=A.useMemo(()=>t.find(G=>G.id===a)||null,[t,a]),Ue=K.reduce((G,W)=>G+W.competencies.length,0);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Trajectbeheer"}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Maak nieuwe trajecten aan of bewerk bestaande trajecten en competenties. Wijzigingen zijn direct zichtbaar voor deelnemers en coaches."})]}),u.jsxs("div",{className:"grid gap-8 xl:grid-cols-[minmax(0,1fr)_360px]",children:[u.jsxs("form",{onSubmit:pe,className:"relative space-y-6 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[c&&u.jsx("div",{className:"absolute inset-0 z-10 flex items-center justify-center rounded-2xl bg-white/70",children:u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[u.jsx(hf,{className:"h-4 w-4 animate-spin"}),"Traject laden..."]})}),u.jsxs("div",{className:"flex flex-col gap-3 rounded-xl bg-slate-50/60 p-4 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:k?"Bewerk traject":"Nieuw traject"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:k?p.name||(ne==null?void 0:ne.name)||"Naamloos traject":"Maak een nieuw traject"})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[k&&ne&&u.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-emerald-200 bg-emerald-50 px-3 py-1 text-xs font-semibold text-emerald-700",children:[u.jsx(or,{className:"h-3.5 w-3.5"}),"Gekoppeld: ",ne.competencyCount||0," competenties"]}),u.jsx("button",{type:"button",onClick:w,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-600 transition hover:border-slate-300 hover:text-slate-900",children:"Nieuw traject"})]})]}),h&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 px-3 py-2 text-sm text-red-700",children:h}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"traject-name",className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Trajectnaam"}),u.jsx("input",{id:"traject-name",name:"name",value:p.name,onChange:v,disabled:U,placeholder:"Bijvoorbeeld: Sociaal Werk Niveau 5",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"traject-description",className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Beschrijving"}),u.jsx("textarea",{id:"traject-description",name:"description",value:p.description,onChange:v,disabled:U,rows:3,placeholder:"Optioneel. Geef een korte toelichting voor coaches.",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]}),u.jsxs("div",{className:"space-y-5",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Competentie-structuur"}),u.jsxs("p",{className:"text-xs text-slate-500",children:["Groepeer competenties per betekenisvolle cluster, zoals ",u.jsx("strong",{children:"B1-K1"})," met meerdere werkprocessen."]})]}),u.jsxs("button",{type:"button",onClick:R,disabled:U,className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-3 py-2 text-xs font-semibold uppercase tracking-wide text-white shadow-sm transition hover:bg-slate-700 disabled:cursor-not-allowed disabled:bg-slate-300",children:[u.jsx(ev,{className:"h-4 w-4"}),"Nieuw cluster"]})]}),p.competencyGroups.map((G,W)=>u.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-200 p-5 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-500",children:["Cluster ",W+1]}),u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Competentiegebied"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Bijvoorbeeld B1-K1 met een herkenbare titel."})]}),u.jsxs("button",{type:"button",onClick:()=>I(G.id),disabled:U,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-500 transition hover:border-red-200 hover:text-red-600 disabled:cursor-not-allowed disabled:border-slate-100 disabled:text-slate-300",children:[u.jsx(Rm,{className:"h-4 w-4"}),"Verwijder cluster"]})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Cluster code"}),u.jsx("input",{value:G.code,onChange:te=>S(G.id,"code",te.target.value),disabled:U,placeholder:"Bijv. B1-K1",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Cluster naam"}),u.jsx("input",{value:G.title,onChange:te=>S(G.id,"title",te.target.value),disabled:U,placeholder:"Bijv. Analyseren van ondersteuningsvragen",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]})]}),u.jsxs("div",{className:"space-y-4",children:[G.competencies.map((te,he)=>u.jsxs("div",{className:"space-y-4 rounded-xl border border-slate-200 p-4 shadow-sm",children:[u.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:items-start sm:justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:["Competentie ",he+1]}),u.jsx("p",{className:"text-sm text-slate-500",children:"Vul de werkprocescode en aanvullende velden in."})]}),u.jsxs("button",{type:"button",onClick:()=>me(G.id,te.id),disabled:U,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-500 transition hover:border-red-200 hover:text-red-600 disabled:cursor-not-allowed disabled:border-slate-100 disabled:text-slate-300",children:[u.jsx(Rm,{className:"h-4 w-4"}),"Verwijder competentie"]})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Code"}),u.jsx("input",{value:te.code,onChange:ge=>N(G.id,te.id,"code",ge.target.value),disabled:U,placeholder:"Bijv. B1-K1-W1",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Titel"}),u.jsx("input",{value:te.title,onChange:ge=>N(G.id,te.id,"title",ge.target.value),disabled:U,placeholder:"Bijv. Ondersteuningsvragen analyseren",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-3",children:[u.jsxs("div",{className:"space-y-2 sm:col-span-2",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Omschrijving"}),u.jsx("textarea",{value:te.description,onChange:ge=>N(G.id,te.id,"description",ge.target.value),disabled:U,rows:2,placeholder:"Optioneel. Beschrijf het werkproces kort.",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Gewenst resultaat"}),u.jsx("textarea",{value:te.desiredOutcome,onChange:ge=>N(G.id,te.id,"desiredOutcome",ge.target.value),disabled:U,rows:2,placeholder:"Wat moet er bereikt worden?",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Vakkennis"}),u.jsx("textarea",{value:te.subjectKnowledge,onChange:ge=>N(G.id,te.id,"subjectKnowledge",ge.target.value),disabled:U,rows:2,placeholder:"Welke kennis is nodig?",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Gedragscomponenten"}),u.jsx("textarea",{value:te.behavioralComponents,onChange:ge=>N(G.id,te.id,"behavioralComponents",ge.target.value),disabled:U,rows:2,placeholder:"Welke houding wordt verwacht?",className:"w-full rounded-lg border border-slate-200 px-3 py-2 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:bg-slate-100"})]})]})]},te.id)),u.jsxs("button",{type:"button",onClick:()=>ae(G.id),disabled:U,className:"inline-flex items-center gap-2 rounded-full border border-dashed border-brand-300 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-brand-600 transition hover:border-brand-400 hover:text-brand-700 disabled:cursor-not-allowed disabled:border-brand-100 disabled:text-brand-200",children:[u.jsx(ev,{className:"h-4 w-4"}),"Voeg competentie toe"]})]})]},G.id))]}),u.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{className:"space-y-1 text-sm",children:[b&&u.jsx("p",{className:"text-sm font-medium text-emerald-600",children:b}),D&&u.jsx("p",{className:"text-sm font-medium text-red-600",children:D}),!b&&!D&&u.jsxs("p",{className:"text-xs text-slate-500",children:["Je traject bevat ",Ue," competenties verdeeld over ",K.length," clusters."]})]}),u.jsxs("button",{type:"submit",disabled:!Q,className:"inline-flex items-center gap-2 rounded-full bg-brand-500 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-600 disabled:cursor-not-allowed disabled:bg-slate-300",children:[C?u.jsx(hf,{className:"h-4 w-4 animate-spin"}):u.jsx(or,{className:"h-4 w-4"}),k?"Wijzigingen opslaan":"Traject opslaan"]})]})]}),u.jsxs("aside",{className:"space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Trajecten"}),u.jsxs("button",{type:"button",onClick:z,disabled:n,className:"inline-flex items-center gap-2 rounded-full border border-slate-200 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-slate-500 transition hover:border-slate-300 hover:text-slate-700 disabled:cursor-not-allowed disabled:text-slate-300",children:[u.jsx(_I,{className:n?"h-4 w-4 animate-spin":"h-4 w-4"}),"Vernieuwen"]})]}),n?u.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-500",children:[u.jsx(hf,{className:"h-4 w-4 animate-spin"})," Trajecten laden..."]}):i?u.jsx("p",{className:"text-sm text-red-600",children:i}):t.length===0?u.jsx("p",{className:"text-sm text-slate-500",children:"Er zijn nog geen trajecten aangemaakt."}):u.jsx("ul",{className:"space-y-3",children:t.map(G=>{var te;const W=G.id===a;return u.jsx("li",{children:u.jsxs("button",{type:"button",onClick:()=>_(G.id),className:`w-full text-left transition focus:outline-none focus:ring-2 focus:ring-brand-200 ${W?"rounded-xl border border-brand-300 bg-brand-50 p-4 shadow-sm":"rounded-xl border border-slate-200 p-4 shadow-sm hover:border-brand-200 hover:bg-brand-50/60"}`,children:[u.jsxs("div",{className:"flex items-start justify-between gap-2",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-base font-semibold text-slate-900",children:G.name}),u.jsxs("p",{className:"text-xs text-slate-500",children:[((te=G.competencyGroups)==null?void 0:te.length)||0," clusters · ",G.competencyCount||0," competenties"]})]}),W&&u.jsx(or,{className:"h-4 w-4 text-brand-600"})]}),u.jsxs("p",{className:"mt-2 text-xs text-slate-400",children:["Laatst bijgewerkt: ",T5(G.updatedAt)]})]})},G.id)})})]})]})]})},N5=()=>{const[t,e]=A.useState(null),[n,s]=A.useState(null),[i,r]=A.useState(!0),[a,l]=A.useState(null);A.useEffect(()=>{let j=!0;const D=localStorage.getItem("user");if(D)try{const b=JSON.parse(D),x=(b==null?void 0:b.firebaseUid)||(b==null?void 0:b.uid);x&&j&&e(x)}catch{}const T=wg(Mi,b=>{j&&e(x=>x||(b==null?void 0:b.uid)||null)});return()=>{j=!1,T()}},[]),A.useEffect(()=>{if(!t){r(!1);return}r(!0);const j=eS(t,({data:D,error:T})=>{if(T){l(T),r(!1);return}s(D),l(null),r(!1)});return()=>{typeof j=="function"&&j()}},[t]);const c=(n==null?void 0:n.securityClearance)||null,d=A.useMemo(()=>{if(!(c!=null&&c.badge))return tv;switch(String(c.badge).toLowerCase()){case"shield-check":case"check":return CI;case"alert":case"shield-alert":return SI;case"question":case"shield-question":return II;default:return tv}},[c]),h=Array.isArray(n==null?void 0:n.highlights)?n.highlights:[],m=Array.isArray(n==null?void 0:n.responsibilities)?n.responsibilities:[],p=Array.isArray(n==null?void 0:n.certifications)?n.certifications:[],y=n!=null&&n.role?n.role.charAt(0).toUpperCase()+n.role.slice(1):"Admin",C=(n==null?void 0:n.name)||(n==null?void 0:n.email)||"Admin";return i?u.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white px-6 py-8 text-center text-sm text-slate-500 shadow-sm",children:"Profiel laden..."}):a?u.jsxs("div",{className:"rounded-3xl border border-red-200 bg-red-50 px-6 py-8 text-center text-sm text-red-700 shadow-sm",children:["Kon profiel niet laden: ",a.message||"Onbekende fout"]}):n?u.jsxs("div",{className:"space-y-8",children:[u.jsxs("section",{className:"rounded-3xl bg-gradient-to-br from-slate-900 via-slate-800 to-slate-700 px-8 py-10 text-white shadow-card",children:[u.jsx("p",{className:"text-sm uppercase tracking-[0.35em] text-white/60",children:"Profile"}),u.jsxs("div",{className:"mt-4 flex flex-col justify-between gap-6 lg:flex-row lg:items-end",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-semibold",children:C}),u.jsx("p",{className:"mt-2 text-white/80",children:y}),u.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/70",children:n.bio||"Nog geen biografie toegevoegd."})]}),u.jsxs("dl",{className:"grid grid-cols-3 gap-4",children:[h.length===0?u.jsx("div",{className:"col-span-3 text-sm text-white/70",children:"Nog geen statistieken vastgelegd."}):null,h.map(j=>u.jsxs("div",{className:"rounded-2xl bg-white/10 px-4 py-3 text-center shadow-inner backdrop-blur",children:[u.jsx("dt",{className:"text-xs uppercase tracking-[0.3em] text-white/70",children:j.label}),u.jsx("dd",{className:"mt-2 text-2xl font-semibold",children:j.metric})]},j.id))]})]})]}),u.jsxs("section",{className:"grid gap-6 lg:grid-cols-[1.2fr,1fr]",children:[u.jsxs("article",{className:"rounded-3xl bg-white p-6 shadow-card",children:[u.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Contact & verantwoordelijkheden"}),u.jsxs("div",{className:"mt-6 grid gap-6 sm:grid-cols-2",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"E-mail"}),u.jsx("p",{className:"mt-1 text-sm font-medium text-slate-900",children:n.email||"-"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Telefoon"}),u.jsx("p",{className:"mt-1 text-sm font-medium text-slate-900",children:n.phone||"Niet opgegeven"})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Locatie"}),u.jsx("p",{className:"mt-1 text-sm font-medium text-slate-900",children:n.location||"Niet opgegeven"})]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.25em] text-slate-400",children:"Kernverantwoordelijkheden"}),m.length===0?u.jsx("p",{className:"mt-3 text-sm text-slate-500",children:"Nog geen verantwoordelijkheden toegevoegd."}):u.jsx("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:m.map(j=>u.jsxs("li",{className:"flex items-center gap-3 rounded-xl bg-slate-50 px-3 py-2",children:[u.jsx("span",{className:"h-1.5 w-1.5 rounded-full bg-brand-500"}),u.jsx("span",{children:j})]},j))})]})]})]}),u.jsxs("article",{className:"rounded-3xl bg-white p-6 shadow-card",children:[u.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Beveiliging"}),u.jsxs("div",{className:"mt-4 flex items-center gap-4 rounded-2xl bg-brand-50 px-4 py-5 text-brand-700",children:[d?u.jsx(d,{className:"h-10 w-10"}):null,u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-semibold",children:["Toegangsniveau: ",(c==null?void 0:c.level)||"Onbekend"]}),u.jsxs("p",{className:"text-sm text-brand-600",children:["Laatste verlenging: ",(c==null?void 0:c.renewedOn)||"Niet geregistreerd"]})]})]}),u.jsx("p",{className:"mt-4 text-xs text-slate-500",children:"Administratieve gebruikers hebben uitgebreide rechten om deelnemers, coaches en bewijsstukken te beheren. Houd de logboeken in de gaten en plan jaarlijkse veiligheidsaudits."})]})]}),u.jsxs("section",{className:"rounded-3xl bg-white p-6 shadow-card",children:[u.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Certificeringen & professionalisering"}),u.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[p.length===0?u.jsx("p",{className:"col-span-full text-sm text-slate-500",children:"Nog geen certificeringen geregistreerd."}):null,p.map(j=>u.jsxs("article",{className:"rounded-2xl border border-slate-100 p-4 shadow-sm transition hover:border-brand-300 hover:shadow-md",children:[u.jsx("p",{className:"text-sm font-semibold text-slate-900",children:j.title||"Certificering"}),u.jsx("p",{className:"text-xs text-slate-500",children:j.issuer||"Onbekende instantie"}),u.jsxs("p",{className:"mt-3 text-xs uppercase tracking-[0.2em] text-slate-400",children:["Behaald in ",j.year||"-"]})]},j.id))]})]})]}):u.jsx("div",{className:"rounded-3xl border border-slate-200 bg-white px-6 py-8 text-center text-sm text-slate-500 shadow-sm",children:"Geen profielgegevens gevonden. Zorg dat je account is gekoppeld aan Firebase."})},C5=[{value:"customer",label:"Customer"},{value:"coach",label:"Coach"},{value:"admin",label:"Admin"}],Bb={name:"",email:"",password:"",role:"customer",trajectId:""},R5=({status:t})=>{if(!(t!=null&&t.message))return null;const e=t.type==="error",n=e?YR:or,s=e?"text-red-600 bg-red-50 border-red-200":"text-emerald-600 bg-emerald-50 border-emerald-200";return u.jsxs("div",{className:`mb-6 flex items-center gap-3 rounded-2xl border px-4 py-3 text-sm ${s}`,children:[u.jsx(n,{className:"h-5 w-5"}),u.jsx("span",{children:t.message})]})},I5=()=>{const[t,e]=A.useState([]),[n,s]=A.useState(Bb),[i,r]=A.useState(!1),[a,l]=A.useState(null),[c,d]=A.useState(!1),[h,m]=A.useState([]),[p,y]=A.useState(!1),C=A.useMemo(()=>{const x=new Map;return h.forEach(k=>{x.set(k.id,k)}),x},[h]),j=async()=>{d(!0);try{const x=await Ns("/auth/admin/users");e(Array.isArray(x)?x:[])}catch(x){l({type:"error",message:(x==null?void 0:x.message)||"Kon gebruikers niet laden"})}finally{d(!1)}},D=async()=>{y(!0);try{const x=await Ns("/trajects"),k=Array.isArray(x)?x:[];m(k),s(U=>{var z;return{...U,trajectId:((z=k[0])==null?void 0:z.id)||""}})}catch(x){l({type:"error",message:(x==null?void 0:x.message)||"Kon trajecten niet laden"})}finally{y(!1)}};A.useEffect(()=>{j(),D()},[]);const T=x=>{const{name:k,value:U}=x.target;s(z=>{var w;if(k==="role"){if(U==="customer"){const _=((w=h[0])==null?void 0:w.id)||z.trajectId||"";return{...z,role:U,trajectId:_}}return{...z,role:U}}return{...z,[k]:U}})},b=async x=>{var k,U;x.preventDefault(),r(!0),l(null);try{const z={name:n.name.trim(),email:n.email.trim(),password:n.password,role:n.role,trajectId:n.role==="customer"?n.trajectId:null};await Ko("/auth/admin/users",z),l({type:"success",message:"Account aangemaakt"}),s({...Bb,trajectId:((k=h[0])==null?void 0:k.id)||""}),await j()}catch(z){l({type:"error",message:((U=z==null?void 0:z.data)==null?void 0:U.error)||(z==null?void 0:z.message)||"Aanmaken mislukt"})}finally{r(!1)}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("header",{className:"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:"Admin"}),u.jsx("h1",{className:"mt-1 text-2xl font-semibold text-slate-900",children:"Beheer gebruikers"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Maak nieuwe accounts voor coaches en deelnemers."})]}),u.jsxs("div",{className:"hidden items-center gap-2 rounded-full bg-brand-50 px-4 py-2 text-sm font-medium text-brand-600 sm:flex",children:[u.jsx(Fo,{className:"h-4 w-4"}),u.jsxs("span",{children:[t.length," actieve gebruikers"]})]})]}),u.jsx(R5,{status:a}),u.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[u.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-brand-100 text-brand-600",children:u.jsx(dT,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Nieuw account"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Voer de gegevens in en kies de juiste rol."})]})]}),u.jsxs("form",{onSubmit:b,className:"mt-6 space-y-5",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"user-name",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Volledige naam"}),u.jsx("input",{id:"user-name",name:"name",value:n.name,onChange:T,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",placeholder:"Bijvoorbeeld: Kim de Vries",required:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"user-email",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"E-mail"}),u.jsx("input",{id:"user-email",name:"email",type:"email",value:n.email,onChange:T,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",placeholder:"jij@voorbeeld.nl",required:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"user-password",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Tijdelijk wachtwoord"}),u.jsx("input",{id:"user-password",name:"password",type:"password",value:n.password,onChange:T,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",placeholder:"Minimaal 8 tekens",required:!0}),u.jsx("p",{className:"text-xs text-slate-400",children:"De gebruiker kan dit wachtwoord later wijzigen."})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"user-role",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Rol"}),u.jsx("select",{id:"user-role",name:"role",value:n.role,onChange:T,className:"rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm text-slate-700 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",children:C5.map(x=>u.jsx("option",{value:x.value,children:x.label},x.value))})]}),n.role==="customer"?u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"user-traject",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Traject"}),u.jsxs("select",{id:"user-traject",name:"trajectId",value:n.trajectId,onChange:T,disabled:p||h.length===0,className:"rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm text-slate-700 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100 disabled:cursor-not-allowed disabled:text-slate-400",required:!0,children:[h.length===0?u.jsx("option",{value:"",children:"Geen trajecten beschikbaar"}):null,h.map(x=>u.jsx("option",{value:x.id,children:x.name},x.id))]}),u.jsx("p",{className:"text-xs text-slate-400",children:"Wijs deze deelnemer aan een traject toe. Dit bepaalt welke competenties zichtbaar zijn."})]}):null,u.jsx("button",{type:"submit",disabled:i,className:"w-full rounded-full bg-brand-600 px-5 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-500 disabled:cursor-not-allowed disabled:bg-brand-300",children:i?"Account aanmaken...":"Account aanmaken"})]})]}),u.jsxs("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Bestaande gebruikers"}),u.jsx("span",{className:"text-xs font-medium uppercase tracking-[0.2em] text-slate-400",children:c?"Bezig met laden...":"Laatste update"})]}),u.jsx("div",{className:"mt-4 max-h-[420px] space-y-4 overflow-y-auto pr-2",children:t.length===0?u.jsx("p",{className:"rounded-2xl border border-dashed border-slate-200 p-6 text-sm text-slate-500",children:"Nog geen gebruikers gevonden. Voeg de eerste toe via het formulier hiernaast."}):t.map(x=>{var k;return u.jsxs("article",{className:"flex items-center justify-between rounded-2xl border border-slate-200 px-4 py-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:x.name||"Naam onbekend"}),u.jsx("p",{className:"text-xs text-slate-500",children:x.email}),x.trajectId?u.jsxs("p",{className:"text-xs text-slate-400",children:["Traject: ",((k=C.get(x.trajectId))==null?void 0:k.name)||x.trajectId]}):null]}),u.jsx("span",{className:"rounded-full bg-slate-100 px-3 py-1 text-xs font-semibold uppercase tracking-[0.2em] text-slate-500",children:x.role})]},x.id)})})]})]})]})},j5=[{value:"customer",label:"Customer"},{value:"coach",label:"Coach"},{value:"admin",label:"Admin"}],k5=()=>{const[t,e]=A.useState({name:"",email:"",password:"",role:"customer"}),[n,s]=A.useState(!1),[i,r]=A.useState(null),a=c=>{const{name:d,value:h}=c.target;e(m=>({...m,[d]:h}))},l=async c=>{var d;c.preventDefault(),s(!0),r(null);try{const h={name:t.name.trim(),email:t.email.trim(),password:t.password,role:t.role},p=await fetch("http://localhost:5000/auth/admin/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(h)}),y=p.headers.get("content-type")||"";let C=null;if(y.includes("application/json"))try{C=await p.json()}catch{C=null}else try{C=await p.text()}catch{C=null}if(!p.ok){const j=C&&C.error||typeof C=="string"&&C||p.statusText||"Aanmaken mislukt",D=new Error(j);throw D.status=p.status,D.data=C,D}r({type:"success",message:"Account aangemaakt"}),e({name:"",email:"",password:"",role:"customer"})}catch(h){const m=((d=h==null?void 0:h.data)==null?void 0:d.error)||(h==null?void 0:h.message)||"Aanmaken mislukt";r({type:"error",message:m})}finally{s(!1)}};return u.jsx(vy,{kicker:"Testing",title:"Test account aanmaken",description:"Gebruik dit formulier om snel een account aan te maken via de admin endpoint. In development kun je dit gebruiken zonder in te loggen (zet ALLOW_DEV_ACCOUNT_CREATION=true op de backend).",children:u.jsxs("section",{className:"mx-auto w-full max-w-xl rounded-3xl border border-slate-200 bg-white p-8 shadow-sm",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-full bg-brand-100 text-brand-600",children:u.jsx(dT,{className:"h-5 w-5"})}),u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"Nieuwe gebruiker"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Deze testpagina maakt direct een account aan zonder ingelogd te zijn."})]})]}),i!=null&&i.message?u.jsx("div",{className:`mt-4 rounded-2xl border px-4 py-3 text-sm ${i.type==="error"?"border-red-200 bg-red-50 text-red-700":"border-emerald-200 bg-emerald-50 text-emerald-700"}`,children:i.message}):null,u.jsxs("form",{onSubmit:l,className:"mt-6 space-y-5",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"test-name",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Naam"}),u.jsx("input",{id:"test-name",name:"name",value:t.name,onChange:a,placeholder:"Bijv. Daniël Vermeer",className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",required:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"test-email",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"E-mail"}),u.jsx("input",{id:"test-email",name:"email",type:"email",value:t.email,onChange:a,placeholder:"jij@voorbeeld.nl",className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",required:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"test-password",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Tijdelijk wachtwoord"}),u.jsx("input",{id:"test-password",name:"password",type:"password",value:t.password,onChange:a,placeholder:"Minimaal 8 tekens",className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",required:!0})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"test-role",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Rol"}),u.jsx("select",{id:"test-role",name:"role",value:t.role,onChange:a,className:"rounded-xl border border-slate-200 bg-white px-4 py-2.5 text-sm text-slate-700 focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",children:j5.map(c=>u.jsx("option",{value:c.value,children:c.label},c.value))})]}),u.jsx("button",{type:"submit",disabled:n,className:"w-full rounded-full bg-brand-600 px-5 py-3 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-500 disabled:cursor-not-allowed disabled:bg-brand-300",children:n?"Bezig...":"Account aanmaken"})]})]})})},Va=({label:t="Loading"})=>u.jsxs("div",{className:"flex flex-col items-center justify-center gap-3 py-12 text-sm text-slate-500",children:[u.jsx("span",{className:"inline-flex h-12 w-12 animate-spin items-center justify-center rounded-full border-4 border-slate-200 border-t-brand-500"}),u.jsxs("p",{children:[t,"…"]})]});function D5(t){if(!(t!=null&&t.exists()))return null;const e=t.data()||{};return{id:t.id,name:e.name||"",description:e.description||"",competencyCount:e.competencyCount??null,...e}}function qb(t){return t?Array.isArray(t)?t.filter(e=>e!=null):typeof t=="string"?t.split(/\r?\n/).map(e=>e.trim()).filter(Boolean):[t]:[]}function O5(t){if(!(t!=null&&t.exists()))return null;const e=t.data()||{};return{id:t.id,code:e.code||"",title:e.title||"",description:e.description||"",desiredOutcome:e.desiredOutcome||e.gewenstResultaat||"",subjectKnowledge:qb(e.subjectKnowledge||e.vakkennis||e.vakkennisEnVaardigheden),behavioralComponents:qb(e.behavioralComponents||e.gedragsComponenten||e.behavioral||e.gedragscomponenten),groupCode:e.groupCode||"",groupTitle:e.groupTitle||"",groupOrder:e.groupOrder??0,competencyOrder:e.competencyOrder??0,order:e.order??0}}function Hb(t){var n,s;if(!(t!=null&&t.exists()))return null;const e=t.data()||{};return{id:t.id,uid:t.id,firebaseUid:t.id,name:e.name||"",email:e.email||"",role:e.role||"",trajectId:e.trajectId||null,coachId:e.coachId||null,lastActivity:e.lastActivity?((s=(n=e.lastActivity).toDate)==null?void 0:s.call(n))??e.lastActivity:null}}async function M5(t){if(!t)return null;const e=Wn(ze,"trajects",t),n=await Q3(e);return D5(n)}function V5(t){return!Array.isArray(t)||t.length===0?null:t.map(e=>{var s,i;const n=e.data()||{};return{id:e.id,coachId:n.coachId||null,customerId:n.customerId||null,status:n.status||"",createdAt:n.createdAt?((i=(s=n.createdAt).toDate)==null?void 0:i.call(s))??n.createdAt:null}}).sort((e,n)=>{const s=e.createdAt instanceof Date?e.createdAt.getTime():0;return(n.createdAt instanceof Date?n.createdAt.getTime():0)-s})[0]}function U5(t){if(!(t!=null&&t.exists()))return null;const e=t.data()||{},n=e.uploadedAt?typeof e.uploadedAt.toDate=="function"?e.uploadedAt.toDate():e.uploadedAt:null,s=e.name||e.displayName||e.fileName||t.id;return{id:t.id,name:s,displayName:s,fileName:e.fileName||s,downloadURL:e.downloadURL||"",storagePath:e.storagePath||"",competencyId:e.competencyId||"",userId:e.userId||"",trajectId:e.trajectId||null,uploadedAt:n,contentType:e.contentType||"",size:e.size??null}}async function L5({userId:t,competencyId:e,file:n,displayName:s,trajectId:i}){if(!t)throw new Error("userId is verplicht");if(!e)throw new Error("competencyId is verplicht");if(!n)throw new Error("Bestand ontbreekt");const r=(s||n.name||"Bestand").trim(),a=n.name||"upload",l=`user_uploads/${t}/${e}/${Date.now()}-${a}`,c=yy(ch,l),d=n.type?{contentType:n.type}:void 0;await r5(c,n,d);const h=await JA(c),m=kt(ze,"users",t,"uploads");await lh(m,{name:r,fileName:a,downloadURL:h,storagePath:l,competencyId:e,userId:t,trajectId:i||null,uploadedAt:dr(),contentType:n.type||null,size:typeof n.size=="number"?n.size:null})}async function P5({userId:t,uploadId:e,storagePath:n}){if(!t)throw new Error("userId is verplicht");if(!e)throw new Error("uploadId is verplicht");const s=Wn(ze,"users",t,"uploads",e);if(n){const i=yy(ch,n);try{await a5(i)}catch(r){if((r==null?void 0:r.code)!=="storage/object-not-found")throw r}}await X3(s)}function tS(t,e){if(!t)return e({uploads:[],error:new Error("Missing user id")}),()=>{};const n=kt(ze,"users",t,"uploads"),s=On(n,Or("uploadedAt","desc"));return Et(s,i=>{const r=i.docs.map(U5).filter(Boolean);e({uploads:r,error:null})},i=>{e({uploads:[],error:i})})}async function z5(t){if(!t)return null;if(t.downloadURL)return t.downloadURL;if(!t.storagePath)return null;const e=yy(ch,t.storagePath);return JA(e)}function B5(t,e){if(!t)return e({customer:null,coach:null,assignment:null,error:new Error("Missing user id")}),()=>{};let n=null,s={customer:null,coach:null,assignment:null};const i=(h={},m=null)=>{s={...s,...h},e({...s,error:m})},r=h=>{if(n&&(n(),n=null),!h){i({coach:null});return}n=Et(Wn(ze,"users",h),m=>i({coach:Hb(m)}),m=>i({},m))},a=Et(Wn(ze,"users",t),h=>{const m=Hb(h);i({customer:m}),m!=null&&m.coachId&&r(m.coachId)},h=>i({},h)),l=kt(ze,"assignments"),c=On(l,ks("customerId","==",t)),d=Et(c,h=>{const m=V5(h.docs);i({assignment:m}),m!=null&&m.coachId?r(m.coachId):s.coach||i({})},h=>i({},h));return()=>{a(),d(),n&&n()}}function nS(t,e){if(!t)return e({data:[],error:new Error("Missing trajectId")}),()=>{};const n=On(kt(ze,"competencies"),ks("trajectId","==",t)),s=kt(ze,"trajects",t,"competencies");let i=[],r=[];const a=(d=null)=>{const m=(i.length>0?i:r).map(O5).filter(Boolean).sort((p,y)=>p.groupOrder!==y.groupOrder?p.groupOrder-y.groupOrder:p.competencyOrder!==y.competencyOrder?p.competencyOrder-y.competencyOrder:p.order!==y.order?p.order-y.order:(p.title||"").localeCompare(y.title||""));e({data:m,error:d})},l=Et(n,d=>{i=d.docs,a()},d=>{i=[],a(d)}),c=Et(s,d=>{r=d.docs,i.length===0&&a()},d=>{r=[],i.length===0&&a(d)});return()=>{l(),c()}}const q5=()=>{const{customer:t,coach:e}=Li(),[n,s]=A.useState(null),[i,r]=A.useState([]),[a,l]=A.useState([]),[c,d]=A.useState(!0),[h,m]=A.useState(!0),[p,y]=A.useState(null),[C,j]=A.useState(null),[D,T]=A.useState(null),[b,x]=A.useState([]),[k,U]=A.useState(null),[z,w]=A.useState(null),[_,v]=A.useState(null),[S,R]=A.useState({}),[I,N]=A.useState({}),ae=A.useRef({}),[me]=A.useState(()=>{try{return JSON.parse(localStorage.getItem("user")||"null")}catch{return null}}),P=(t==null?void 0:t.id)||null,V=A.useCallback(async()=>{var B;d(!0),y(null);try{const X=await Ns("/customer/planning");X!=null&&X.traject&&s(X.traject)}catch(X){y(((B=X==null?void 0:X.data)==null?void 0:B.error)||(X==null?void 0:X.message)||"Kon planning niet laden")}finally{d(!1)}},[]);A.useEffect(()=>{V()},[V]);const O=(n==null?void 0:n.id)||(me==null?void 0:me.trajectId)||(t==null?void 0:t.trajectId)||null;A.useEffect(()=>{if(!O){r([]),j(null),m(!1);return}m(!0);const B=nS(O,({data:X,error:J})=>{if(J){j(J),m(!1);return}j(null),r(Array.isArray(X)?X:[]),m(!1)});return()=>{typeof B=="function"&&B()}},[O]);const K=A.useMemo(()=>{const B={};return b.forEach(X=>{if(!X)return;const J=X.competencyId||"__unassigned__";B[J]||(B[J]=[]),B[J].push(X)}),B},[b]);A.useEffect(()=>{if(n||!O)return;let B=!1;return M5(O).then(X=>{!B&&X&&s(J=>J||X)}).catch(()=>{}),()=>{B=!0}},[n,O]),A.useEffect(()=>{if(!P){x([]),U(null);return}const B=tS(P,({uploads:X,error:J})=>{if(J){U(J);return}U(null),x(Array.isArray(X)?X:[])});return()=>{typeof B=="function"&&B()}},[P]);const Q=c||h,pe=B=>{if(!(S[B]||"").trim()){N(le=>({...le,[B]:"Geef een naam op voor je upload."}));return}N(le=>{if(!le[B])return le;const wt={...le};return delete wt[B],wt});const J=ae.current[B];J&&J.click()},ne=async(B,X)=>{var Ms;const J=(Ms=X.target.files)==null?void 0:Ms[0];if(!J)return;X.target.value="";const le=O;if(!le){y("Er is geen traject gekoppeld aan dit account.");return}if(!P){y("Kon je accountgegevens niet vinden. Probeer opnieuw in te loggen.");return}const wt=(S[B]||"").trim();if(!wt){N(ve=>({...ve,[B]:"Geef een naam op voor je upload."}));return}T(B),y(null);try{await L5({userId:P,competencyId:B,file:J,displayName:wt,trajectId:le}),R(ve=>({...ve,[B]:""})),N(ve=>{if(!ve[B])return ve;const ss={...ve};return delete ss[B],ss})}catch(ve){y((ve==null?void 0:ve.message)||"Uploaden mislukt")}finally{T(null)}},Ue=B=>{l(X=>X.includes(B)?X.filter(J=>J!==B):[...X,B])},G=(B,X)=>{R(J=>({...J,[B]:X})),N(J=>{if(!J[B])return J;const le={...J};return delete le[B],le})};A.useEffect(()=>{l(B=>{const X=new Set(i.map((le,wt)=>le.id||le.code||String(wt))),J=B.filter(le=>X.has(le));return J.length===B.length?B:J})},[i]),A.useEffect(()=>{const B=new Set(i.map((X,J)=>X.id||X.code||String(J)));R(X=>{const J={};return B.forEach(le=>{X[le]!==void 0&&(J[le]=X[le])}),Object.keys(J).length===Object.keys(X).length?X:J}),N(X=>{const J={};return B.forEach(le=>{X[le]&&(J[le]=X[le])}),Object.keys(J).length===Object.keys(X).length?X:J})},[i]);const W=(B,X)=>!B||B.length===0?u.jsx("p",{className:"mt-2 text-sm text-slate-400",children:X}):u.jsx("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:B.map((J,le)=>u.jsxs("li",{className:"flex items-start gap-3 rounded-xl bg-white/70 px-3 py-2 shadow-sm",children:[u.jsx("span",{className:"mt-1 h-1.5 w-1.5 flex-shrink-0 rounded-full bg-brand-500"}),u.jsx("span",{className:"leading-relaxed",children:String(J)})]},`${J}-${le}`))}),te=(B,X)=>{if(!B)return[];const J=[B.id,B.code,X].filter(Boolean);for(const le of J)if(K[le])return K[le];return[]},he=async B=>{if(!B)return;if(!!!(B.downloadURL||B.storagePath)){y("Downloadlink is niet beschikbaar voor dit bestand.");return}const J=B.id||B.storagePath||B.fileName||B.name||null;J&&w(J),y(null);try{const le=await z5(B);if(!le)throw new Error("Downloadlink is niet beschikbaar.");window.open(le,"_blank","noopener")}catch(le){y((le==null?void 0:le.message)||"Download mislukt")}finally{w(null)}},ge=async B=>{if(!(!B||!B.id)){if(!P){y("Kon je accountgegevens niet vinden. Probeer opnieuw in te loggen.");return}v(B.id);try{await P5({userId:P,uploadId:B.id,storagePath:B.storagePath||null})}catch(X){y((X==null?void 0:X.message)||"Verwijderen mislukt")}finally{v(null)}}};return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("header",{className:"space-y-2",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-brand-500",children:"Planning"}),u.jsx("h1",{className:"text-3xl font-semibold text-slate-900",children:"Jouw competenties en bewijsstukken"}),u.jsxs("p",{className:"max-w-2xl text-sm text-slate-500",children:["Bekijk welke competenties onderdeel zijn van je traject en voeg eenvoudig nieuwe bewijsstukken toe.",e?` Je coach ${e.name} kijkt mee en geeft feedback.`:""]}),n?u.jsxs("p",{className:"text-xs uppercase tracking-[0.2em] text-slate-400",children:["Traject: ",n.name]}):null]}),Q?u.jsx(Va,{label:"Planning laden"}):null,p&&!Q?u.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:p}):null,C&&!Q?u.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700",children:["Kon competenties niet laden: ",C.message||"Onbekende fout"]}):null,k?u.jsxs("div",{className:"rounded-2xl border border-amber-200 bg-amber-50 px-4 py-3 text-sm text-amber-700",children:["Kon uploads niet laden: ",k.message||"Onbekende fout"]}):null,!Q&&!O?u.jsx("div",{className:"rounded-3xl border border-dashed border-slate-300 bg-white px-6 py-12 text-center text-sm text-slate-400",children:"Er is nog geen traject aan jouw account gekoppeld."}):null,!Q&&O&&i.length===0?u.jsx("div",{className:"rounded-3xl border border-dashed border-slate-300 bg-white px-6 py-12 text-center text-sm text-slate-400",children:"Er zijn nog geen competenties gekoppeld aan jouw traject."}):null,u.jsx("section",{className:"space-y-4",children:i.map((B,X)=>{const J=B.id||B.code||String(X),le=a.includes(J),wt=te(B,J),Ms=`competency-${J}`;return u.jsxs("article",{className:"overflow-hidden rounded-3xl border border-slate-200 bg-white shadow-sm transition-shadow hover:shadow-md",children:[u.jsxs("button",{type:"button",onClick:()=>Ue(J),className:"flex w-full items-center justify-between gap-4 px-6 py-5 text-left","aria-expanded":le,"aria-controls":Ms,children:[u.jsxs("div",{className:"flex flex-col gap-2",children:[u.jsx("span",{className:"inline-flex w-fit items-center gap-2 rounded-full bg-brand-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-brand-600",children:B.code||"Code ontbreekt"}),u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:B.title||"Competentie zonder titel"})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("span",{className:"hidden items-center gap-2 rounded-full bg-brand-50 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-brand-600 sm:inline-flex",children:[u.jsx(or,{className:"h-4 w-4"})," Actief"]}),u.jsx("div",{className:`flex h-9 w-9 items-center justify-center rounded-full border border-slate-200 text-slate-500 transition-all duration-300 ${le?"rotate-180 border-brand-200 bg-brand-50 text-brand-600 shadow-inner":""}`,children:u.jsx(lT,{className:"h-4 w-4"})})]})]}),u.jsx("div",{id:Ms,className:`px-6 ${le?"pb-6":"hidden"}`,hidden:!le,children:u.jsxs("div",{className:"space-y-6 rounded-2xl border border-slate-100 bg-slate-50/80 px-5 py-5 text-slate-600",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Omschrijving"}),u.jsx("p",{className:"mt-2 text-base leading-relaxed text-slate-600",children:B.description||"Geen omschrijving beschikbaar."})]}),u.jsxs("div",{className:"rounded-2xl bg-white px-4 py-4 shadow-inner",children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Gewenst resultaat"}),u.jsx("p",{className:"mt-2 text-sm leading-relaxed text-slate-600",children:B.desiredOutcome||"Nog niet vastgelegd."})]}),u.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Vakkennis & vaardigheden"}),W(B.subjectKnowledge,"Nog geen vakkennis vastgelegd.")]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Gedragscomponenten"}),W(B.behavioralComponents,"Nog geen gedragscomponenten vastgelegd.")]}),u.jsxs("div",{className:"space-y-3 rounded-2xl bg-white px-4 py-4 shadow-inner",children:[u.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:["Uploads (",wt.length,")"]}),wt.length===0?u.jsx("p",{className:"text-sm text-slate-400",children:'Nog geen bestanden. Klik op "Voeg upload toe" om te starten.'}):u.jsx("ul",{className:"space-y-2 text-sm text-slate-600",children:wt.map(ve=>{const ss=!!(ve.downloadURL||ve.storagePath),Fi=ve.id||ve.storagePath||ve.fileName||ve.name;return u.jsxs("li",{className:"flex items-center gap-3 rounded-xl bg-white px-3 py-2 shadow-sm",children:[u.jsx(Z_,{className:"h-4 w-4 text-slate-400"}),u.jsxs("div",{className:"min-w-0 flex-1",children:[u.jsx("p",{className:"truncate text-sm font-medium text-slate-700",children:ve.displayName||ve.name||ve.fileName}),ve.uploadedAt?u.jsxs("p",{className:"mt-0.5 text-xs text-slate-400",children:["Geüpload op ",ve.uploadedAt.toLocaleString()]}):null]}),u.jsxs("div",{className:"ml-auto flex items-center gap-2",children:[u.jsx("button",{type:"button",className:"whitespace-nowrap rounded-full border border-brand-200 px-3 py-1 text-xs font-semibold text-brand-600 transition hover:border-brand-400 hover:bg-brand-50 disabled:cursor-not-allowed disabled:border-slate-200 disabled:text-slate-400",onClick:()=>he(ve),disabled:z===Fi||!ss,children:z===Fi?"Bezig...":ss?"Download":"Niet beschikbaar"}),u.jsx("button",{type:"button",onClick:()=>ge(ve),disabled:_===ve.id,className:"inline-flex h-8 w-8 items-center justify-center rounded-full border border-red-200 text-red-500 transition hover:border-red-300 hover:bg-red-50 disabled:cursor-not-allowed disabled:border-slate-200 disabled:text-slate-300","aria-label":"Verwijder upload",children:_===ve.id?u.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-wide",children:"Wacht"}):u.jsx(Rm,{className:"h-4 w-4"})})]})]},Fi)})}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"text-xs font-semibold uppercase tracking-wide text-slate-400",children:"Naam van je upload"}),u.jsx("input",{type:"text",value:S[J]||"",onChange:ve=>G(J,ve.target.value),placeholder:"Bijvoorbeeld: Reflectieverslag week 3",className:`mt-2 w-full rounded-full border px-4 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-brand-400 ${I[J]?"border-red-300 focus:ring-red-300":"border-slate-200 focus:border-brand-400"}`}),I[J]?u.jsx("p",{className:"mt-1 text-xs text-red-500",children:I[J]}):null]}),u.jsx("input",{ref:ve=>{ve?ae.current[J]=ve:delete ae.current[J]},type:"file",className:"hidden",onChange:ve=>ne(B.id||B.code||J,ve)}),u.jsxs("button",{type:"button",onClick:()=>pe(J),disabled:D===(B.id||B.code||J),className:"inline-flex items-center gap-2 rounded-full border border-dashed border-brand-300 px-3 py-2 text-xs font-semibold text-brand-600 transition hover:border-brand-400 hover:bg-brand-50 disabled:cursor-not-allowed disabled:border-slate-200 disabled:text-slate-400",children:[u.jsx(Z_,{className:"h-4 w-4"}),D===(B.id||B.code||J)?"Bezig...":"Voeg upload toe"]})]})]})]})]}),u.jsxs("div",{className:"flex items-center gap-2 rounded-2xl bg-white px-4 py-3 text-sm text-slate-500 shadow-inner",children:[u.jsx(hI,{className:"h-4 w-4 text-brand-500"}),u.jsx("span",{className:"leading-relaxed",children:"Heb je vragen? Laat een bericht achter bij je coach in het berichtenoverzicht."})]})]})})]},J)})})]})},sS=({threads:t=[],activeThreadId:e,onSelectThread:n,messages:s=[],draft:i,onDraftChange:r,onSend:a,emptyLabel:l="No thread selected"})=>u.jsxs("div",{className:"grid h-[600px] grid-cols-1 overflow-hidden rounded-3xl bg-white shadow-card lg:grid-cols-[280px,1fr]",children:[u.jsxs("aside",{className:"border-r border-slate-100",children:[u.jsx("div",{className:"px-4 py-4",children:u.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-slate-500",children:"Conversations"})}),u.jsx("div",{className:"h-full overflow-y-auto px-2 pb-6",children:u.jsxs("ul",{className:"space-y-1",children:[t.map(c=>u.jsx("li",{children:u.jsxs("button",{type:"button",onClick:()=>n==null?void 0:n(c.id),className:`w-full rounded-2xl px-4 py-3 text-left text-sm transition ${e===c.id?"bg-brand-50 text-brand-700":"text-slate-600 hover:bg-slate-50"}`,children:[u.jsx("p",{className:"font-semibold text-slate-900",children:c.name}),u.jsx("p",{className:"truncate text-xs text-slate-500",children:c.lastMessage})]})},c.id)),t.length===0?u.jsx("li",{className:"px-4 py-12 text-center text-sm text-slate-400",children:"No threads yet."}):null]})})]}),u.jsxs("section",{className:"flex flex-1 flex-col",children:[u.jsx("div",{className:"flex flex-1 flex-col gap-4 overflow-y-auto px-6 py-6",children:s.length===0?u.jsx("div",{className:"m-auto text-center text-sm text-slate-400",children:u.jsx("p",{children:l})}):s.map(c=>u.jsxs("div",{className:`max-w-md rounded-2xl px-4 py-3 text-sm shadow-sm ${c.from==="me"?"self-end bg-brand-600 text-white":"bg-slate-100 text-slate-700"}`,children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-white/80",children:c.author}),u.jsx("p",{className:"mt-1 whitespace-pre-line",children:c.body}),u.jsx("p",{className:"mt-2 text-[10px] uppercase tracking-wide opacity-60",children:c.timestamp})]},c.id))}),u.jsx("form",{onSubmit:c=>{c.preventDefault(),a==null||a()},className:"border-t border-slate-100 bg-slate-50/60 px-6 py-4",children:u.jsxs("div",{className:"flex items-center gap-3 rounded-full bg-white px-4 py-2 shadow-inner",children:[u.jsx("input",{type:"text",value:i??"",onChange:c=>r==null?void 0:r(c.target.value),placeholder:"Type a message",className:"flex-1 border-none bg-transparent text-sm outline-none focus:ring-0"}),u.jsxs("button",{type:"submit",className:"inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-600 text-white shadow-lg transition hover:bg-brand-500",children:[u.jsx(TI,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Send message"})]})]})})]})]}),H5=()=>{const{customer:t,coach:e,account:n}=Li(),s=(n==null?void 0:n.id)??null,[i,r]=A.useState([]),[a,l]=A.useState({}),[c,d]=A.useState(""),[h,m]=A.useState({}),[p,y]=A.useState(!1),[C,j]=A.useState(null),[D,T]=A.useState(!1),b=A.useCallback(z=>{const w=new Map;z.forEach(R=>{const I=(R==null?void 0:R.fromUser)||{},N=(R==null?void 0:R.toUser)||{},ae=(I==null?void 0:I.id)===s,me=ae?N:I;if(!(me!=null&&me.id))return;const P=String(me.id);w.has(P)||w.set(P,{id:P,name:me.name||me.email||"Contactpersoon",targetUserId:me.id,lastMessage:"",lastTimestamp:0,messages:[]});const V=w.get(P),O=R.createdAt?new Date(R.createdAt):null,K=O?O.getTime():Date.now(),Q=ae?(t==null?void 0:t.name)||"Ik":me.name||me.email||"Contactpersoon";V.messages.push({id:R.id,author:Q,body:R.content||"",from:ae?"me":"other",timestamp:O?O.toLocaleString():"",timestampMs:K}),V.lastMessage=R.content||V.lastMessage,V.lastTimestamp=Math.max(V.lastTimestamp,K)});const _=Array.from(w.values()).sort((R,I)=>I.lastTimestamp-R.lastTimestamp),v=_.map(({id:R,name:I,lastMessage:N,targetUserId:ae})=>({id:R,name:I,lastMessage:N,targetUserId:ae})),S={};return _.forEach(R=>{const I=R.messages.sort((N,ae)=>N.timestampMs-ae.timestampMs).map(({timestampMs:N,...ae})=>ae);S[R.id]=I}),{threads:v,messagesByThread:S}},[s,t==null?void 0:t.name]),x=A.useCallback(async()=>{var z;if(!s){r([]),l({}),d(""),y(!1);return}y(!0);try{const w=await Ns("/messages"),_=b(Array.isArray(w)?w:[]);r(_.threads),l(_.messagesByThread),d(v=>{var S;return v&&_.threads.some(R=>R.id===v)?v:((S=_.threads[0])==null?void 0:S.id)??""}),j(null)}catch(w){j(((z=w==null?void 0:w.data)==null?void 0:z.error)||(w==null?void 0:w.message)||"Berichten laden mislukt")}finally{y(!1)}},[s,b]);A.useEffect(()=>{x()},[x]);const k=A.useMemo(()=>a[c]??[],[a,c]),U=async()=>{var v;const w=(h[c]??"").trim();if(!w)return;const _=i.find(S=>S.id===c);if(!(_!=null&&_.targetUserId)){j("Geen ontvanger gekoppeld aan dit gesprek.");return}T(!0);try{await Ko("/messages/send",{toUserId:_.targetUserId,content:w}),m(S=>({...S,[c]:""})),await x()}catch(S){j(((v=S==null?void 0:S.data)==null?void 0:v.error)||(S==null?void 0:S.message)||"Versturen mislukt")}finally{T(!1)}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("header",{children:[u.jsx("h1",{className:"text-2xl font-semibold text-slate-900",children:"Berichten"}),u.jsxs("p",{className:"mt-2 max-w-2xl text-sm text-slate-500",children:["Chat rechtstreeks met je coach",e?` ${e.name}`:"",". Gebruik dit kanaal voor vragen en updates."]})]}),C?u.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 px-4 py-3 text-sm text-red-700",children:C}):null,p?u.jsx(Va,{label:"Berichten laden"}):u.jsx(sS,{threads:i,activeThreadId:c,onSelectThread:d,messages:k,draft:h[c]??"",onDraftChange:z=>m(w=>({...w,[c]:z})),onSend:U,emptyLabel:i.length===0?"Nog geen berichten. Start een gesprek met je coach.":"Selecteer een gesprek"}),D?u.jsx("p",{className:"text-xs text-slate-400",children:"Bericht wordt verzonden…"}):null]})},F5={dateOfBirth:"",placeOfBirth:"",nationality:"",phoneFixed:"",phoneMobile:"",street:"",houseNumber:"",addition:"",postalCode:"",city:"",email:"",name:"",educations:[],certificates:[],workExperience:[]},G5=()=>{const{customer:t,coach:e}=Li(),[n,s]=A.useState(F5),[i,r]=A.useState(!0),[a,l]=A.useState(!1),[c,d]=A.useState(null),[h,m]=A.useState({title:"",institution:"",startDate:"",endDate:"",note:""}),[p,y]=A.useState({role:"",organisation:"",startDate:"",endDate:"",note:""}),[C,j]=A.useState({title:"",note:"",file:null}),[D,T]=A.useState(!1),[b,x]=A.useState(null),[k,U]=A.useState(0),z=A.useMemo(()=>(t==null?void 0:t.name)||n.name||"Jouw profiel",[t==null?void 0:t.name,n.name]),w=n.email||(t==null?void 0:t.email)||"",_=()=>typeof crypto<"u"&&typeof crypto.randomUUID=="function"?crypto.randomUUID():`id-${Date.now()}-${Math.round(Math.random()*1e6)}`;A.useEffect(()=>{let V=!0;return(async()=>{var K;r(!0);try{const Q=await Ns("/customer/profile");if(!V)return;s(pe=>({...pe,...Q}))}catch(Q){if(!V)return;d({type:"error",message:((K=Q==null?void 0:Q.data)==null?void 0:K.error)||(Q==null?void 0:Q.message)||"Kon profiel niet laden"})}finally{V&&r(!1)}})(),()=>{V=!1}},[]);const v=V=>{const{name:O,value:K}=V.target;s(Q=>({...Q,[O]:K}))},S=async V=>{var O;V.preventDefault(),l(!0),d(null);try{const K={dateOfBirth:n.dateOfBirth,placeOfBirth:n.placeOfBirth,nationality:n.nationality,phoneFixed:n.phoneFixed,phoneMobile:n.phoneMobile,street:n.street,houseNumber:n.houseNumber,addition:n.addition,postalCode:n.postalCode,city:n.city,educations:n.educations||[],certificates:(n.certificates||[]).map(({id:pe,title:ne,filePath:Ue,fileName:G,size:W,uploadedAt:te,note:he})=>({id:pe,title:ne,filePath:Ue,fileName:G,size:W,uploadedAt:te,note:he})),workExperience:n.workExperience||[]},Q=await hT("/customer/profile",K);s(pe=>({...pe,...Q})),d({type:"success",message:"Wijzigingen opgeslagen"})}catch(K){d({type:"error",message:((O=K==null?void 0:K.data)==null?void 0:O.error)||(K==null?void 0:K.message)||"Opslaan mislukt"})}finally{l(!1)}},R=({state:V})=>{if(!(V!=null&&V.message))return null;const O=V.type==="error",K=O?OI:or,Q=O?"border-red-200 bg-red-50 text-red-700":"border-emerald-200 bg-emerald-50 text-emerald-700";return u.jsxs("div",{className:`flex items-center gap-3 rounded-2xl border px-4 py-3 text-sm ${Q}`,children:[u.jsx(K,{className:"h-4 w-4"}),u.jsx("span",{children:V.message})]})},I=(V,O)=>{s(K=>({...K,[V]:(K[V]||[]).filter(Q=>Q.id!==O)}))},N=()=>{if(!h.title.trim()){d({type:"error",message:"Voeg minimaal een titel toe voor je opleiding."});return}const V={id:_(),title:h.title.trim(),institution:h.institution.trim(),startDate:h.startDate||"",endDate:h.endDate||"",note:h.note.trim()};s(O=>({...O,educations:[...O.educations||[],V]})),m({title:"",institution:"",startDate:"",endDate:"",note:""})},ae=()=>{if(!p.role.trim()&&!p.organisation.trim()&&!p.note.trim()){d({type:"error",message:"Vul minimaal een functie, organisatie of toelichting in."});return}const V={id:_(),role:p.role.trim(),organisation:p.organisation.trim(),startDate:p.startDate||"",endDate:p.endDate||"",note:p.note.trim()};s(O=>({...O,workExperience:[...O.workExperience||[],V]})),y({role:"",organisation:"",startDate:"",endDate:"",note:""})},me=V=>{var K;const O=((K=V.target.files)==null?void 0:K[0])||null;j(Q=>({...Q,file:O}))},P=async()=>{var O;if(!C.file){x({type:"error",message:"Kies eerst een bestand."});return}const V=C.title.trim()||C.file.name;T(!0),x(null);try{const K=new FormData;K.append("file",C.file);const Q=await qI("/customer/profile/certificates/upload",K),pe={id:_(),title:V,filePath:Q.filePath,fileName:Q.fileName||C.file.name,size:Q.size,uploadedAt:Q.uploadedAt,note:C.note.trim()};s(ne=>({...ne,certificates:[...ne.certificates||[],pe]})),j({title:"",note:"",file:null}),U(ne=>ne+1),x({type:"success",message:"Certificaat toegevoegd"})}catch(K){x({type:"error",message:((O=K==null?void 0:K.data)==null?void 0:O.error)||(K==null?void 0:K.message)||"Upload mislukt"})}finally{T(!1)}};return i?u.jsx(Va,{label:"Profiel laden"}):u.jsxs("div",{className:"space-y-8",children:[u.jsxs("header",{className:"flex flex-wrap items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.35em] text-brand-500",children:"Profiel bewerken"}),u.jsx("h1",{className:"mt-1 text-3xl font-semibold text-slate-900",children:z}),u.jsx("p",{className:"mt-3 max-w-2xl text-sm text-slate-500",children:"Werk je persoonsgegevens en adresgegevens eenvoudig bij. Je coach ziet altijd de meest recente informatie."})]}),e?u.jsxs("div",{className:"rounded-3xl border border-brand-100 bg-brand-50 px-4 py-3 text-sm text-brand-700 shadow-sm",children:["Begeleid door ",u.jsx("strong",{children:e.name})]}):null]}),u.jsxs("form",{onSubmit:S,className:"space-y-6",children:[u.jsx(R,{state:c}),u.jsx("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:u.jsxs("div",{className:"grid gap-6 xl:grid-cols-[1.4fr,1fr]",children:[u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Persoonsgegevens"}),u.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-3",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"dateOfBirth",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Geboortedatum"}),u.jsx("input",{id:"dateOfBirth",name:"dateOfBirth",type:"date",value:n.dateOfBirth||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"placeOfBirth",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Geboorteplaats"}),u.jsx("input",{id:"placeOfBirth",name:"placeOfBirth",value:n.placeOfBirth||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",placeholder:"Bijvoorbeeld: Alkmaar"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"nationality",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Nationaliteit"}),u.jsx("input",{id:"nationality",name:"nationality",value:n.nationality||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",placeholder:"Bijvoorbeeld: NL"})]})]})]}),u.jsxs("div",{className:"space-y-4 border-t border-slate-100 pt-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Contactgegevens"}),u.jsx("button",{type:"button",onClick:()=>alert("Vraag je beheerder om je wachtwoord te wijzigen."),className:"text-sm font-semibold text-brand-600 transition hover:text-brand-500",children:"Wachtwoord wijzigen"})]}),u.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"phoneFixed",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Telefoonnummer (vast)"}),u.jsx("input",{id:"phoneFixed",name:"phoneFixed",value:n.phoneFixed||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",placeholder:"Bijvoorbeeld: 0201234567"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"phoneMobile",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Telefoonnummer (mobiel)"}),u.jsx("input",{id:"phoneMobile",name:"phoneMobile",value:n.phoneMobile||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",placeholder:"Bijvoorbeeld: 0612345678"})]}),u.jsxs("div",{className:"md:col-span-2 grid gap-2",children:[u.jsx("label",{htmlFor:"email",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"E-mailadres"}),u.jsx("input",{id:"email",name:"email",value:w,readOnly:!0,className:"rounded-xl border border-slate-200 bg-slate-50 px-4 py-2.5 text-sm text-slate-500 shadow-inner"}),u.jsx("p",{className:"text-xs text-slate-400",children:"Het e-mailadres wordt beheerd door je organisatie."})]})]})]})]}),u.jsxs("div",{className:"flex flex-col gap-6 rounded-2xl bg-slate-50 p-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Adresgegevens"}),u.jsxs("div",{className:"mt-4 grid gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"street",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Straatnaam"}),u.jsx("input",{id:"street",name:"street",value:n.street||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"})]}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-[1fr,0.8fr]",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"houseNumber",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Huisnummer"}),u.jsx("input",{id:"houseNumber",name:"houseNumber",value:n.houseNumber||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"addition",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Toevoeging"}),u.jsx("input",{id:"addition",name:"addition",value:n.addition||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"postalCode",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Postcode"}),u.jsx("input",{id:"postalCode",name:"postalCode",value:n.postalCode||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100",placeholder:"Bijv. 1822 BW"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx("label",{htmlFor:"city",className:"text-xs font-semibold uppercase tracking-[0.2em] text-slate-400",children:"Woonplaats"}),u.jsx("input",{id:"city",name:"city",value:n.city||"",onChange:v,className:"rounded-xl border border-slate-200 px-4 py-2.5 text-sm text-slate-700 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"})]})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsx("h3",{className:"text-sm font-semibold uppercase tracking-[0.2em] text-slate-500",children:"Downloads"}),u.jsx("button",{type:"button",onClick:()=>alert("Download van profiel volgt later in de productieroute."),className:"flex items-center gap-2 rounded-xl bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-inner transition hover:text-brand-600",children:"⬇️ Download mijn profiel"}),u.jsx("button",{type:"button",onClick:()=>alert("Document downloads zijn binnenkort beschikbaar."),className:"flex items-center gap-2 rounded-xl bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-inner transition hover:text-brand-600",children:"⬇️ Download mijn documenten"}),u.jsx("button",{type:"button",onClick:()=>alert("Zelfevaluatie download is nog niet beschikbaar."),className:"flex items-center gap-2 rounded-xl bg-white px-4 py-2 text-sm font-medium text-slate-600 shadow-inner transition hover:text-brand-600",children:"⬇️ Download mijn zelfevaluatie"})]})]})]})}),u.jsx("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:u.jsxs("div",{className:"grid gap-8 lg:grid-cols-2",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Opleidingen"}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Leg je afgeronde of lopende opleidingen vast inclusief toelichting."})]}),u.jsx("div",{className:"space-y-4",children:(n.educations||[]).length===0?u.jsx("p",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-4 text-sm text-slate-500",children:"Nog geen opleidingen toegevoegd."}):u.jsx("ul",{className:"space-y-3",children:n.educations.map(V=>u.jsxs("li",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:V.title}),V.institution?u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:V.institution}):null]}),u.jsx("button",{type:"button",onClick:()=>I("educations",V.id),className:"text-xs font-semibold text-brand-600 transition hover:text-brand-500",children:"Verwijder"})]}),u.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-xs text-slate-400",children:[V.startDate?u.jsxs("span",{children:["Start: ",V.startDate]}):null,V.endDate?u.jsxs("span",{children:["Einde: ",V.endDate]}):null]}),V.note?u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:V.note}):null]},V.id))})}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Nieuwe opleiding toevoegen"}),u.jsxs("div",{className:"mt-3 grid gap-3 text-sm",children:[u.jsx("input",{type:"text",value:h.title,onChange:V=>m(O=>({...O,title:V.target.value})),placeholder:"Naam opleiding",className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsx("input",{type:"text",value:h.institution,onChange:V=>m(O=>({...O,institution:V.target.value})),placeholder:"Onderwijsinstelling",className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsx("input",{type:"month",value:h.startDate,onChange:V=>m(O=>({...O,startDate:V.target.value})),className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsx("input",{type:"month",value:h.endDate,onChange:V=>m(O=>({...O,endDate:V.target.value})),className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"})]}),u.jsx("textarea",{value:h.note,onChange:V=>m(O=>({...O,note:V.target.value})),placeholder:"Toelichting",rows:3,className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsx("button",{type:"button",onClick:N,className:"inline-flex items-center justify-center rounded-full bg-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-500",children:"Voeg opleiding toe"})]})]})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Certificaten & diploma's"}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Upload officiële documenten en voeg een toelichting toe."})]}),u.jsx("div",{className:"space-y-4",children:(n.certificates||[]).length===0?u.jsx("p",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-4 text-sm text-slate-500",children:"Nog geen certificaten geüpload."}):u.jsx("ul",{className:"space-y-3",children:n.certificates.map(V=>u.jsxs("li",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:V.title}),u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:V.fileName})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("a",{href:V.filePath,target:"_blank",rel:"noreferrer",className:"text-xs font-semibold text-brand-600 transition hover:text-brand-500",children:"Bekijk"}),u.jsx("button",{type:"button",onClick:()=>I("certificates",V.id),className:"text-xs font-semibold text-brand-600 transition hover:text-brand-500",children:"Verwijder"})]})]}),V.note?u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:V.note}):null,u.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-xs text-slate-400",children:[V.uploadedAt?u.jsxs("span",{children:["Geüpload: ",new Date(V.uploadedAt).toLocaleDateString()]}):null,V.size?u.jsxs("span",{children:[(V.size/(1024*1024)).toFixed(2)," MB"]}):null]})]},V.id))})}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Nieuw certificaat toevoegen"}),u.jsxs("div",{className:"mt-3 grid gap-3 text-sm",children:[u.jsx("input",{type:"text",value:C.title,onChange:V=>j(O=>({...O,title:V.target.value})),placeholder:"Titel certificaat of diploma",className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsx("textarea",{value:C.note,onChange:V=>j(O=>({...O,note:V.target.value})),placeholder:"Toelichting",rows:3,className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsx("input",{type:"file",onChange:me,className:"text-sm"},k),u.jsx("button",{type:"button",onClick:P,disabled:D,className:"inline-flex items-center justify-center rounded-full bg-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-500 disabled:cursor-not-allowed disabled:bg-brand-300",children:D?"Bezig met uploaden...":"Upload en voeg toe"}),b?u.jsx("p",{className:`text-xs ${b.type==="error"?"text-red-500":"text-emerald-600"}`,children:b.message}):null]})]})]})]})}),u.jsx("section",{className:"rounded-3xl border border-slate-200 bg-white p-6 shadow-sm",children:u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-base font-semibold text-slate-900",children:"Relevante werkervaring"}),u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:"Beschrijf je belangrijke werkervaringen en voeg een toelichting toe."})]}),u.jsx("div",{className:"space-y-4",children:(n.workExperience||[]).length===0?u.jsx("p",{className:"rounded-2xl border border-dashed border-slate-200 bg-slate-50 px-4 py-4 text-sm text-slate-500",children:"Nog geen werkervaring toegevoegd."}):u.jsx("ul",{className:"space-y-3",children:n.workExperience.map(V=>u.jsxs("li",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-3 text-sm text-slate-600",children:[u.jsxs("div",{className:"flex items-start justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-semibold text-slate-900",children:V.role||"Functie onbekend"}),V.organisation?u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:V.organisation}):null]}),u.jsx("button",{type:"button",onClick:()=>I("workExperience",V.id),className:"text-xs font-semibold text-brand-600 transition hover:text-brand-500",children:"Verwijder"})]}),u.jsxs("div",{className:"mt-2 flex flex-wrap gap-3 text-xs text-slate-400",children:[V.startDate?u.jsxs("span",{children:["Start: ",V.startDate]}):null,V.endDate?u.jsxs("span",{children:["Einde: ",V.endDate]}):null]}),V.note?u.jsx("p",{className:"mt-2 text-sm text-slate-500",children:V.note}):null]},V.id))})}),u.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-slate-50 px-4 py-4",children:[u.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Nieuwe ervaring toevoegen"}),u.jsxs("div",{className:"mt-3 grid gap-3 text-sm",children:[u.jsx("input",{type:"text",value:p.role,onChange:V=>y(O=>({...O,role:V.target.value})),placeholder:"Functietitel",className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsx("input",{type:"text",value:p.organisation,onChange:V=>y(O=>({...O,organisation:V.target.value})),placeholder:"Organisatie",className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsxs("div",{className:"grid gap-3 sm:grid-cols-2",children:[u.jsx("input",{type:"month",value:p.startDate,onChange:V=>y(O=>({...O,startDate:V.target.value})),className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsx("input",{type:"month",value:p.endDate,onChange:V=>y(O=>({...O,endDate:V.target.value})),className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"})]}),u.jsx("textarea",{value:p.note,onChange:V=>y(O=>({...O,note:V.target.value})),placeholder:"Toelichting",rows:3,className:"rounded-xl border border-slate-200 px-4 py-2 shadow-inner focus:border-brand-500 focus:outline-none focus:ring-2 focus:ring-brand-100"}),u.jsx("button",{type:"button",onClick:ae,className:"inline-flex items-center justify-center rounded-full bg-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-sm transition hover:bg-brand-500",children:"Voeg werkervaring toe"})]})]})]})}),u.jsx("div",{className:"flex justify-end",children:u.jsx("button",{type:"submit",disabled:a,className:"rounded-full bg-lime-500 px-6 py-3 text-sm font-semibold text-white shadow transition hover:bg-lime-400 disabled:cursor-not-allowed disabled:bg-lime-300",children:a?"Opslaan...":"Opslaan"})})]})]})},K5=({title:t,value:e,trend:n,icon:s,variant:i="brand"})=>{const r={brand:"bg-brand-50 text-brand-700",emerald:"bg-emerald-50 text-emerald-700",amber:"bg-amber-50 text-amber-700",sky:"bg-sky-50 text-sky-700",slate:"bg-slate-50 text-slate-700"};return u.jsxs("div",{className:"group relative overflow-hidden rounded-2xl bg-white p-6 shadow-card transition hover:-translate-y-1 hover:shadow-xl",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-slate-500",children:t}),u.jsx("p",{className:"mt-2 text-3xl font-semibold text-slate-900",children:e})]}),s?u.jsx("span",{className:Ss("rounded-full p-3",r[i]||r.brand),children:u.jsx(s,{className:"h-6 w-6"})}):null]}),n?u.jsxs("div",{className:"mt-4 flex items-center gap-2 text-sm text-slate-500",children:[u.jsxs("span",{className:Ss("inline-flex items-center gap-1 rounded-full px-2 py-0.5 text-xs font-semibold",n.direction==="up"?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"),children:[n.direction==="up"?"▲":"▼",n.value]}),u.jsx("span",{children:n.caption})]}):null,u.jsx("div",{className:"pointer-events-none absolute inset-0 -z-10 bg-gradient-to-br from-transparent via-white/40 to-transparent opacity-0 transition group-hover:opacity-100"})]})},Q5=()=>{const{coach:t,customers:e=[],assignments:n=[],feedback:s=[]}=Li()??{},i=A.useMemo(()=>(t==null?void 0:t.name)||(t==null?void 0:t.email)||"Coach",[t]),r=A.useMemo(()=>{const c=e.length,d=n.filter(m=>((m==null?void 0:m.status)||"").toLowerCase()==="active").length,h=n.filter(m=>{const p=((m==null?void 0:m.status)||"").toLowerCase();return p==="pending"||p==="open"||p==="todo"}).length;return[{id:"assigned-customers",title:"Assigned customers",value:String(c),icon:Fo,variant:"brand"},{id:"active-assignments",title:"Active assignments",value:String(d),icon:WR,variant:"emerald"},{id:"pending-reviews",title:"Pending reviews",value:String(h),icon:ZR,variant:"amber"}]},[n,e]),a=A.useMemo(()=>[...s].sort((c,d)=>{const h=(c==null?void 0:c.updatedAt)instanceof Date?c.updatedAt.getTime():0;return((d==null?void 0:d.updatedAt)instanceof Date?d.updatedAt.getTime():0)-h}).slice(0,5),[s]),l=A.useMemo(()=>(i==null?void 0:i.split(" ")[0])||"Coach",[i]);return u.jsxs("div",{className:"space-y-8",children:[u.jsxs("section",{className:"rounded-3xl bg-gradient-to-br from-brand-500 via-brand-600 to-brand-700 px-8 py-10 text-white shadow-card",children:[u.jsx("p",{className:"text-sm uppercase tracking-[0.35em] text-white/70",children:"Welcome back"}),u.jsx("h2",{className:"mt-2 text-3xl font-semibold",children:`Hi ${l}, ready to coach?`}),u.jsx("p",{className:"mt-3 max-w-2xl text-sm text-white/80",children:"Review the latest uploads, leave actionable feedback, and keep your customers moving forward in their EVC journey."})]}),u.jsxs("section",{children:[u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:"Today at a glance"}),u.jsx("div",{className:"mt-4 grid gap-4 sm:grid-cols-2 xl:grid-cols-3",children:r.map(c=>u.jsx(K5,{...c},c.id))})]}),u.jsxs("section",{className:"rounded-3xl bg-white p-6 shadow-card",children:[u.jsx("h3",{className:"text-base font-semibold text-slate-900",children:"Recent feedback activity"}),a.length===0?u.jsx("p",{className:"mt-4 text-sm text-slate-500",children:"Nog geen feedback vastgelegd."}):u.jsx("div",{className:"mt-4 divide-y divide-slate-100",children:a.map(c=>u.jsxs("article",{className:"flex items-center justify-between py-3 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-800",children:c.customerName||"Onbekende klant"}),u.jsx("p",{className:"text-xs text-slate-500",children:c.competencyId||"Competentie"})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Feedback"}),u.jsx("p",{className:"text-sm font-medium text-slate-700",children:c.summary||c.content||"-"})]}),u.jsx("div",{className:"text-right text-xs text-slate-400",children:c.updatedAt?c.updatedAt.toLocaleString():""})]},c.id))})]})]})},$5=({columns:t=[],data:e=[],renderActions:n,emptyMessage:s="No data available",dense:i})=>u.jsx("div",{className:"overflow-hidden rounded-2xl bg-white shadow-card",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:Ss("min-w-full divide-y divide-slate-200",i?"text-sm":"text-base"),children:[u.jsx("thead",{className:"bg-slate-50",children:u.jsxs("tr",{children:[t.map(r=>u.jsx("th",{scope:"col",className:"whitespace-nowrap px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-slate-500",children:r.header},r.accessor||r.id)),n?u.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold uppercase tracking-wide text-slate-500",children:"Actions"}):null]})}),u.jsx("tbody",{className:"divide-y divide-slate-100 bg-white",children:e.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:t.length+(n?1:0),className:"px-4 py-8 text-center text-sm text-slate-500",children:s})}):e.map((r,a)=>u.jsxs("tr",{className:"hover:bg-slate-50",children:[t.map(l=>u.jsx("td",{className:"whitespace-nowrap px-4 py-3 text-sm text-slate-700",children:l.render?l.render(r):r[l.accessor]},l.accessor||l.id)),n?u.jsx("td",{className:"px-4 py-3 text-right text-sm text-slate-500",children:n(r)}):null]},r.id||a))})]})})}),Y5=()=>{const{customers:t=[]}=Li()??{},[e,n]=A.useState(""),s=ts(),i=A.useMemo(()=>t.map(l=>{let c="-";return(l==null?void 0:l.lastActivity)instanceof Date?c=l.lastActivity.toLocaleDateString():typeof(l==null?void 0:l.lastActivity)=="string"&&l.lastActivity.trim()&&(c=l.lastActivity),{id:l.id,name:l.name||l.email||"Onbekende klant",email:l.email||"-",lastActivityLabel:c}}),[t]),r=A.useMemo(()=>e?i.filter(l=>`${l.name} ${l.email}`.toLowerCase().includes(e.toLowerCase())):i,[i,e]),a=[{header:"Name",accessor:"name"},{header:"Email",accessor:"email"},{header:"Last Activity",accessor:"lastActivityLabel"}];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col justify-between gap-4 sm:flex-row sm:items-center",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"My customers"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Track progress and dive into each competency set."})]}),u.jsxs("div",{className:"relative",children:[u.jsx(EI,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),u.jsx("input",{type:"search",value:e,onChange:l=>n(l.target.value),placeholder:"Search customers",className:"h-10 w-full min-w-[220px] rounded-full border border-slate-200 bg-white pl-10 pr-4 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100"})]})]}),u.jsx($5,{columns:a,data:r,dense:!0,renderActions:l=>u.jsxs("button",{type:"button",onClick:()=>s(`/coach/customers/${l.id}`),className:"inline-flex items-center gap-2 rounded-full bg-brand-600 px-3 py-1.5 text-xs font-semibold text-white shadow-lg transition hover:bg-brand-500",children:["View details ",u.jsx(tu,{className:"h-3 w-3"})]})})]})},An=t=>{if(!t)return null;if(t instanceof Date)return Number.isNaN(t.getTime())?null:t;if(typeof t.toDate=="function")try{const n=t.toDate();return Number.isNaN(n.getTime())?null:n}catch{return null}const e=new Date(t);return Number.isNaN(e.getTime())?null:e},iS=t=>{if(!(t!=null&&t.exists()))return null;const e=t.data()||{};return{id:t.id,...e,lastActivity:An(e.lastActivity),createdAt:An(e.createdAt),updatedAt:An(e.updatedAt)}},X5=t=>{if(!(t!=null&&t.exists()))return null;const e=t.data()||{};return{id:t.id,coachId:e.coachId||null,customerId:e.customerId||null,status:e.status||"pending",createdAt:An(e.createdAt),updatedAt:An(e.updatedAt)}},rS=t=>{if(!(t!=null&&t.exists()))return null;const e=t.data()||{},n=An(e.updatedAt)||An(e.createdAt);return{id:t.id,coachId:e.coachId||null,coachName:e.coachName||"",customerId:e.customerId||null,customerName:e.customerName||"",competencyId:e.competencyId||"",summary:e.summary||e.status||"",content:e.content||e.body||"",updatedAt:n,createdAt:An(e.createdAt)}},W5=(t,e,n)=>{var h,m;if(!(t!=null&&t.exists()))return null;const s=t.data()||{},r=(Array.isArray(s.participants)?s.participants:Array.isArray(s.participantIds)?s.participantIds:[]).map(p=>typeof p=="string"?p:p==null?void 0:p.id).filter(Boolean),a=r.find(p=>p!==e)||null,l=s.participantProfiles||{};let c=s.title||s.name||"";if(!c&&a&&((h=l[a])!=null&&h.name)&&(c=l[a].name),!c&&a&&((m=l[a])!=null&&m.email)&&(c=l[a].email),!c&&a&&(n!=null&&n.has(a))){const p=n.get(a);c=p.name||p.email||`Gesprek met ${a.slice(0,6)}`}c||(c="Gesprek");const d=An(s.updatedAt)||An(s.lastMessageAt)||An(s.createdAt);return{id:t.id,name:c,lastMessage:s.lastMessage||"",updatedAt:d,participantIds:r,targetUserId:a||null}},J5=t=>{if(!(t!=null&&t.exists()))return null;const e=t.data()||{};return{id:t.id,authorId:e.authorId||e.userId||null,authorName:e.authorName||e.displayName||"",content:e.content||e.body||"",createdAt:An(e.createdAt)||new Date}};function Z5(t,e){if(!t)return e({data:null,error:new Error("coachUid ontbreekt")}),()=>{};const n=Wn(ze,"users",t),s=Wn(ze,"coachProfiles",t);let i=null,r=null,a=null,l=null;const c=()=>{if(a||l){e({data:null,error:a||l});return}if(!i){e({data:null,error:null});return}e({data:{...i,...r},error:null})},d=Et(n,m=>{i=iS(m),a=null,c()},m=>{a=m,c()}),h=Et(s,m=>{r=m!=null&&m.exists()?m.data():null,l=null,c()},m=>{l=m,c()});return()=>{d(),h()}}function eV(t,e){if(!t)return e({data:[],error:new Error("coachUid ontbreekt")}),()=>{};const n=kt(ze,"users"),s=On(n,ks("coachId","==",t));return Et(s,i=>{const r=i.docs.map(iS).filter(Boolean).sort((a,l)=>(a.name||"").localeCompare(l.name||""));e({data:r,error:null})},i=>e({data:[],error:i}))}function tV(t,e){if(!t)return e({data:[],error:new Error("coachUid ontbreekt")}),()=>{};const n=kt(ze,"assignments"),s=On(n,ks("coachId","==",t),Or("createdAt","desc"));return Et(s,i=>{const r=i.docs.map(X5).filter(Boolean);e({data:r,error:null})},i=>e({data:[],error:i}))}function nV(t,e){if(!t)return e({data:[],error:new Error("coachUid ontbreekt")}),()=>{};const n=kt(ze,"feedback"),s=On(n,ks("coachId","==",t),Or("updatedAt","desc"));return Et(s,i=>{const r=i.docs.map(rS).filter(Boolean);e({data:r,error:null})},i=>e({data:[],error:i}))}function sV(t,e){if(!t)return e({data:[],error:new Error("customerId ontbreekt")}),()=>{};const n=kt(ze,"feedback"),s=On(n,ks("customerId","==",t),Or("updatedAt","desc"));return Et(s,i=>{const r=i.docs.map(rS).filter(Boolean);e({data:r,error:null})},i=>e({data:[],error:i}))}async function iV({coachId:t,coachName:e,customerId:n,customerName:s,competencyId:i,body:r}){if(!t)throw new Error("coachId is verplicht");if(!n)throw new Error("customerId is verplicht");if(!i)throw new Error("competencyId is verplicht");const a=(r||"").trim();if(!a)throw new Error("Feedbacktekst is verplicht");const l=kt(ze,"feedback");await lh(l,{coachId:t,coachName:e,customerId:n,customerName:s||null,competencyId:i,content:a,summary:a.slice(0,90),createdAt:dr(),updatedAt:dr()})}function rV(t,e){if(!t)return e({data:[],error:new Error("coachUid ontbreekt")}),()=>{};const n=kt(ze,"threads"),s=On(n,ks("participants","array-contains",t),Or("updatedAt","desc"));return Et(s,async i=>{try{const r=await x5().catch(()=>new Map),a=i.docs.map(l=>W5(l,t,r)).filter(Boolean).sort((l,c)=>{const d=l.updatedAt?l.updatedAt.getTime():0;return(c.updatedAt?c.updatedAt.getTime():0)-d});e({data:a,error:null})}catch(r){e({data:[],error:r})}},i=>e({data:[],error:i}))}function aV(t,e){if(!t)return e({data:[],error:new Error("threadId ontbreekt")}),()=>{};const n=kt(ze,"threads",t,"messages"),s=On(n,Or("createdAt","asc"));return Et(s,i=>{const r=i.docs.map(J5).filter(Boolean);e({data:r,error:null})},i=>e({data:[],error:i}))}async function lV({threadId:t,fromUserId:e,toUserId:n,body:s,authorName:i}){if(!t)throw new Error("threadId is verplicht");if(!e)throw new Error("fromUserId is verplicht");const r=(s||"").trim();if(!r)throw new Error("Bericht mag niet leeg zijn");const a=Wn(ze,"threads",t),l=kt(a,"messages");await lh(l,{authorId:e,authorName:i,toUserId:n||null,content:r,createdAt:dr()}),await Y3(a,{lastMessage:r,lastMessageAuthorId:e,lastMessageAuthorName:i,lastMessageAt:dr(),updatedAt:dr()}).catch(()=>{})}const oV=()=>{const{customerId:t}=aR(),e=ts(),{customers:n=[],coach:s}=Li()??{},i=A.useMemo(()=>n.find(O=>O.id===t)||null,[n,t]),[r,a]=A.useState([]),[l,c]=A.useState(!1),[d,h]=A.useState(null),[m,p]=A.useState([]),[y,C]=A.useState(!1),[j,D]=A.useState(null),[T,b]=A.useState([]),[x,k]=A.useState(!1),[U,z]=A.useState(null),[w,_]=A.useState({}),[v,S]=A.useState({}),[R,I]=A.useState([]);A.useEffect(()=>{if(!(i!=null&&i.trajectId))return a([]),h(null),c(!1),()=>{};c(!0);const O=nS(i.trajectId,({data:K,error:Q})=>{a(Array.isArray(K)?K:[]),h(Q||null),c(!1)});return()=>{typeof O=="function"&&O()}},[i==null?void 0:i.trajectId]),A.useEffect(()=>{if(!(i!=null&&i.id))return p([]),D(null),C(!1),()=>{};C(!0);const O=tS(i.id,({uploads:K,error:Q})=>{p(Array.isArray(K)?K:[]),D(Q||null),C(!1)});return()=>{typeof O=="function"&&O()}},[i==null?void 0:i.id]),A.useEffect(()=>{if(!(i!=null&&i.id))return b([]),z(null),k(!1),()=>{};k(!0);const O=sV(i.id,({data:K,error:Q})=>{b(Array.isArray(K)?K:[]),z(Q||null),k(!1)});return()=>{typeof O=="function"&&O()}},[i==null?void 0:i.id]);const N=A.useMemo(()=>r.map(O=>{const K=m.filter(ne=>ne.competencyId===O.id).sort((ne,Ue)=>{const G=ne.uploadedAt instanceof Date?ne.uploadedAt.getTime():0;return(Ue.uploadedAt instanceof Date?Ue.uploadedAt.getTime():0)-G}),Q=T.filter(ne=>ne.competencyId===O.id).sort((ne,Ue)=>{const G=ne.updatedAt instanceof Date?ne.updatedAt.getTime():0;return(Ue.updatedAt instanceof Date?Ue.updatedAt.getTime():0)-G}),pe=[];return O.code&&pe.push(O.code),O.title&&pe.push(O.title),{id:O.id,title:pe.length>0?pe.join(" • "):O.title||O.code||"Competentie",description:O.description||O.desiredOutcome||"",uploads:K,feedback:Q}}),[r,T,m]);A.useEffect(()=>{I(O=>O.length===N.length?O:N.map((K,Q)=>Q===0))},[N.length]);const ae=l||y||x,me=(d==null?void 0:d.message)||(j==null?void 0:j.message)||(U==null?void 0:U.message)||null,P=O=>{I(K=>K.map((Q,pe)=>pe===O?!Q:Q))},V=async O=>{const K=(w[O.id]||"").trim();if(!K){S(Q=>({...Q,[O.id]:{status:"error",message:"Voer feedback in"}}));return}if(!(s!=null&&s.id)||!(i!=null&&i.id)){S(Q=>({...Q,[O.id]:{status:"error",message:"Informatie ontbreekt"}}));return}S(Q=>({...Q,[O.id]:{status:"saving"}}));try{await iV({coachId:s.id,coachName:s.name||s.email||"Coach",customerId:i.id,customerName:i.name||i.email||"",competencyId:O.id,body:K}),_(Q=>({...Q,[O.id]:""})),S(Q=>({...Q,[O.id]:{status:"success",message:"Feedback opgeslagen"}}))}catch(Q){S(pe=>({...pe,[O.id]:{status:"error",message:Q.message||"Opslaan mislukt"}}))}};return i?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-brand-600 hover:text-brand-500",children:[u.jsx(W_,{className:"h-4 w-4"})," Terug naar klanten"]}),u.jsxs("header",{className:"rounded-3xl bg-white p-6 shadow-card",children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Klantdossier"}),u.jsx("h2",{className:"mt-2 text-2xl font-semibold text-slate-900",children:i.name||"Onbekend"}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:i.email||"Geen e-mail"})]}),ae?u.jsx(Va,{label:"Gegevens laden"}):u.jsxs("section",{className:"space-y-4",children:[me?u.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-700",children:me}):null,N.length===0?u.jsx("div",{className:"rounded-3xl border border-dashed border-slate-200 px-6 py-16 text-center text-sm text-slate-500",children:"Nog geen competenties beschikbaar voor deze klant."}):N.map((O,K)=>{const Q=R[K],pe=v[O.id]||{status:"idle"};return u.jsxs("article",{className:"overflow-hidden rounded-3xl bg-white shadow-card",children:[u.jsxs("button",{type:"button",onClick:()=>P(K),className:"flex w-full items-center justify-between px-6 py-5 text-left",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Competentie"}),u.jsx("h3",{className:"text-lg font-semibold text-slate-900",children:O.title}),u.jsx("p",{className:"mt-1 text-sm text-slate-500",children:O.description||"Geen beschrijving"})]}),Q?u.jsx(KR,{className:"h-5 w-5 text-slate-400"}):u.jsx(lT,{className:"h-5 w-5 text-slate-400"})]}),u.jsxs("div",{className:Ss("grid grid-cols-1 gap-6 border-t border-slate-100 px-6 transition-all duration-200 lg:grid-cols-[2fr,1fr]",Q?"max-h-[560px] py-6":"max-h-0 overflow-hidden"),children:[u.jsxs("div",{className:"space-y-4 text-sm text-slate-600",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Uploads"}),u.jsxs("ul",{className:"mt-2 space-y-2",children:[O.uploads.map(ne=>{const Ue=ne.uploadedAt instanceof Date?ne.uploadedAt.toLocaleDateString():"";return u.jsxs("li",{className:"flex items-center justify-between rounded-2xl bg-slate-50 px-4 py-2",children:[u.jsxs("span",{children:[ne.displayName||ne.name||ne.fileName||"Bestand",Ue?u.jsx("span",{className:"ml-2 text-xs text-slate-400",children:Ue}):null]}),ne.downloadURL?u.jsx("a",{href:ne.downloadURL,target:"_blank",rel:"noopener noreferrer",className:"text-xs font-medium text-brand-600 hover:text-brand-500",children:"Bekijken"}):null]},ne.id)}),O.uploads.length===0?u.jsx("li",{className:"rounded-2xl border border-dashed border-slate-200 px-4 py-6 text-center text-xs text-slate-400",children:"Nog geen uploads."}):null]})]}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Eerdere feedback"}),u.jsxs("ul",{className:"mt-2 space-y-3",children:[O.feedback.map(ne=>{const Ue=ne.updatedAt instanceof Date?ne.updatedAt.toLocaleString():"";return u.jsxs("li",{className:"rounded-2xl bg-slate-100 px-4 py-3 text-xs text-slate-600",children:[u.jsx("p",{className:"font-medium text-slate-800",children:ne.coachName||(s==null?void 0:s.name)||"Coach"}),u.jsx("p",{className:"mt-1 whitespace-pre-line",children:ne.content||ne.summary||"-"}),Ue?u.jsx("p",{className:"mt-2 text-[10px] uppercase tracking-wide text-slate-400",children:Ue}):null]},ne.id)}),O.feedback.length===0?u.jsx("li",{className:"rounded-2xl border border-dashed border-slate-200 px-4 py-6 text-center text-xs text-slate-400",children:"Nog geen feedback vastgelegd."}):null]})]})]}),u.jsxs("form",{className:"flex h-full flex-col rounded-3xl bg-slate-50 p-5",onSubmit:ne=>{ne.preventDefault(),V(O)},children:[u.jsx("p",{className:"text-sm font-medium text-slate-700",children:"Nieuwe feedback"}),u.jsx("textarea",{rows:6,value:w[O.id]??"",onChange:ne=>_(Ue=>({...Ue,[O.id]:ne.target.value})),placeholder:"Beschrijf observaties, geef complimenten, en noteer vervolgstappen.",className:"mt-2 flex-1 rounded-2xl border border-slate-200 bg-white px-4 py-3 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100"}),pe.status==="error"&&pe.message?u.jsx("p",{className:"mt-2 text-xs text-rose-600",children:pe.message}):null,pe.status==="success"&&pe.message?u.jsx("p",{className:"mt-2 text-xs text-emerald-600",children:pe.message}):null,u.jsxs("button",{type:"submit",disabled:pe.status==="saving",className:"mt-4 inline-flex items-center justify-center gap-2 rounded-full bg-brand-600 px-4 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-brand-500 disabled:opacity-60",children:[u.jsx(bI,{className:"h-4 w-4"})," ",pe.status==="saving"?"Opslaan…":"Sla feedback op"]})]})]})]},O.id)})]})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("button",{type:"button",onClick:()=>e(-1),className:"inline-flex items-center gap-2 text-sm font-semibold text-brand-600 hover:text-brand-500",children:[u.jsx(W_,{className:"h-4 w-4"})," Terug naar klanten"]}),u.jsx("div",{className:"rounded-3xl border border-dashed border-slate-200 px-6 py-16 text-center text-sm text-slate-500",children:"Klant niet gevonden."})]})},cV=()=>{const{feedback:t=[],customers:e=[]}=Li()??{},n=A.useMemo(()=>{const s=new Map(e.map(i=>[i.id,i]));return[...t].map(i=>{const r=s.get(i.customerId)||{},a=i.customerName||r.name||r.email||"Onbekende klant",l=i.updatedAt instanceof Date?i.updatedAt:null,c=l?l.toLocaleString():"";return{id:i.id,customerName:a,competencyLabel:i.competencyId||"Competentie",summary:i.summary||i.content||"-",updatedAt:l,updatedAtLabel:c}}).sort((i,r)=>{const a=i.updatedAt instanceof Date?i.updatedAt.getTime():0;return(r.updatedAt instanceof Date?r.updatedAt.getTime():0)-a})},[e,t]);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Feedback queue"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Keep track of open reviews and recently submitted guidance."})]}),u.jsx("div",{className:"overflow-hidden rounded-3xl bg-white shadow-card",children:n.length===0?u.jsx("p",{className:"px-6 py-16 text-center text-sm text-slate-500",children:"Nog geen feedback geregistreerd."}):u.jsx("ul",{className:"divide-y divide-slate-100",children:n.map(s=>u.jsxs("li",{className:"flex items-center justify-between px-6 py-4 text-sm",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-slate-800",children:s.customerName}),u.jsx("p",{className:"text-xs text-slate-500",children:s.competencyLabel})]}),u.jsxs("div",{className:"text-right",children:[u.jsx("p",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Feedback"}),u.jsx("p",{className:"font-medium text-slate-700",children:s.summary})]}),u.jsx("span",{className:"text-xs text-slate-400",children:s.updatedAtLabel})]},s.id))})})]})},uV=()=>{const{coach:t}=Li()??{},e=(t==null?void 0:t.id)||null,n=(t==null?void 0:t.name)||(t==null?void 0:t.email)||"Coach",[s,i]=A.useState([]),[r,a]=A.useState(!1),[l,c]=A.useState(null),[d,h]=A.useState(""),[m,p]=A.useState([]),[y,C]=A.useState(!1),[j,D]=A.useState(null),[T,b]=A.useState({}),[x,k]=A.useState(!1),[U,z]=A.useState(null);A.useEffect(()=>{if(!e)return i([]),c(null),a(!1),()=>{};a(!0);const v=rV(e,({data:S,error:R})=>{i(Array.isArray(S)?S:[]),c(R||null),a(!1)});return()=>{typeof v=="function"&&v()}},[e]),A.useEffect(()=>{var v;if(!d&&s.length>0){h(s[0].id);return}d&&!s.some(S=>S.id===d)&&h(((v=s[0])==null?void 0:v.id)||"")},[d,s]),A.useEffect(()=>{if(!d)return p([]),D(null),C(!1),()=>{};C(!0);const v=aV(d,({data:S,error:R})=>{p(Array.isArray(S)?S:[]),D(R||null),C(!1)});return()=>{typeof v=="function"&&v()}},[d]);const w=A.useMemo(()=>m.map(v=>{const S=v.authorId===e,R=v.createdAt instanceof Date?v.createdAt.toLocaleString():"";return{id:v.id,author:v.authorName||(S?n:"Contact"),body:v.content||v.summary||"",timestamp:R,from:S?"me":"other"}}),[e,n,m]),_=async()=>{var S;if(x||!e||!d)return;const v=(T[d]||"").trim();if(v){k(!0),z(null);try{const R=((S=s.find(I=>I.id===d))==null?void 0:S.targetUserId)||null;await lV({threadId:d,fromUserId:e,toUserId:R,body:v,authorName:n}),b(I=>({...I,[d]:""}))}catch(R){z(R.message||"Versturen mislukt")}finally{k(!1)}}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold text-slate-900",children:"Berichten"}),u.jsx("p",{className:"text-sm text-slate-500",children:"Blijf in contact met je klanten en collega's."})]}),l?u.jsx("div",{className:"rounded-3xl border border-rose-200 bg-rose-50 px-6 py-4 text-sm text-rose-700",children:l.message||"Kon gesprekken niet laden."}):null,r&&s.length===0?u.jsx(Va,{label:"Gesprekken laden"}):u.jsxs(u.Fragment,{children:[j?u.jsx("div",{className:"rounded-3xl border border-amber-200 bg-amber-50 px-6 py-3 text-sm text-amber-700",children:j.message||"Kon berichten niet laden."}):null,y?u.jsx(Va,{label:"Berichten laden"}):u.jsx(sS,{threads:s,activeThreadId:d,onSelectThread:v=>{h(v),z(null)},messages:w,draft:T[d]??"",onDraftChange:v=>{b(S=>({...S,[d]:v})),z(null)},onSend:_,emptyLabel:"Selecteer een gesprek om het bericht te bekijken"})]}),U?u.jsx("p",{className:"text-sm text-rose-600",children:U}):null]})},dV=[{label:"Dashboard",to:"/admin",icon:ug,end:!0},{label:"Assignments",to:"/admin/assignments",icon:tI},{label:"Trajects",to:"/admin/trajects",icon:oT},{label:"Users",to:"/admin/users",icon:Fo},{label:"Profile",to:"/admin/profile",icon:cT}],hV=[{label:"Dashboard",to:"/coach",icon:ug,end:!0},{label:"My Customers",to:"/coach/customers",icon:Fo},{label:"Feedback",to:"/coach/feedback",icon:oT},{label:"Messages",to:"/coach/messages",icon:cI}],fV=[{label:"Planning",to:"/customer/planning",icon:HR},{label:"Messages",to:"/customer/messages",icon:mI},{label:"Profile",to:"/customer/profile",icon:cT}],so=t=>{if(!t||typeof t!="object")return t??null;const e={...t};return e.uid&&!e.firebaseUid?e.firebaseUid=e.uid:e.firebaseUid&&!e.uid&&(e.uid=e.firebaseUid),e},mV=()=>{const t=ts(),[e,n]=A.useState(null),[s,i]=A.useState(null),[r,a]=A.useState(null),l=()=>{localStorage.removeItem("token"),t("/login",{replace:!0})};A.useEffect(()=>{let m=!0;const p=localStorage.getItem("user");if(p)try{const C=JSON.parse(p),j=(C==null?void 0:C.firebaseUid)||(C==null?void 0:C.uid);j&&m&&n(j)}catch{}const y=wg(Mi,C=>{m&&C!=null&&C.uid&&n(j=>j||C.uid)});return()=>{m=!1,y()}},[]),A.useEffect(()=>{if(!e){i(null);return}const m=eS(e,({data:p,error:y})=>{if(y){a(y),i(null);return}a(null),i(p||null)});return()=>{typeof m=="function"&&m()}},[e]);const c=(s==null?void 0:s.name)||(s==null?void 0:s.email)||"Admin",d=s!=null&&s.role?s.role.charAt(0).toUpperCase()+s.role.slice(1):"Administrator",h=r?"Administrator":d;return u.jsx(og,{sidebar:u.jsx(cg,{header:u.jsxs("div",{className:"space-y-4",children:[u.jsx(Go,{className:"w-fit"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-[0.35em] text-slate-400",children:"Admin"}),u.jsx("h1",{className:"mt-1 text-xl font-semibold text-slate-900",children:"EVC Control"})]})]}),navItems:dV,footer:u.jsx("button",{type:"button",onClick:l,className:"flex w-full items-center justify-center rounded-lg border border-slate-200 px-3 py-2 text-sm font-medium text-slate-600 transition hover:border-brand-400 hover:text-brand-600",children:"Sign out"})}),topbar:u.jsx(dg,{title:"Administration overview",user:{name:c,subtitle:h,role:"Admin"},rightSlot:u.jsxs("div",{className:"hidden items-center gap-3 md:flex",children:[u.jsx("button",{type:"button",onClick:()=>alert("Mock: generate report"),className:"rounded-full border border-slate-200 px-3 py-2 text-sm font-medium text-slate-600 transition hover:border-brand-400 hover:text-brand-600",children:"Generate report"}),u.jsx("button",{type:"button",onClick:l,className:"rounded-full bg-brand-600 px-3 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-brand-500",children:"Sign out"})]})}),children:u.jsx(lg,{})})},pV=()=>{const t=ts(),[e,n]=A.useState(()=>{try{const P=localStorage.getItem("user")||"null";return so(JSON.parse(P))}catch{return null}}),[s,i]=A.useState(!e),[r,a]=A.useState(null);A.useEffect(()=>{let P=!0;return(async()=>{i(!0);try{const O=await Ns("/auth/me");if(!P)return;n(K=>{const Q=so({...K||{},...O||{}});try{localStorage.setItem("user",JSON.stringify(Q))}catch{}return Q}),a(null)}catch(O){if(!P)return;a(O)}finally{P&&i(!1)}})(),()=>{P=!1}},[]);const l=(e==null?void 0:e.firebaseUid)||(e==null?void 0:e.uid)||null,[c,d]=A.useState(null),[h,m]=A.useState(null);A.useEffect(()=>{if(!l)return d(null),m(null),()=>{};const P=Z5(l,({data:V,error:O})=>{if(O){m(O),d(null);return}m(null),d(V||null)});return()=>{typeof P=="function"&&P()}},[l]);const[p,y]=A.useState([]),[C,j]=A.useState(null);A.useEffect(()=>{if(!l)return y([]),j(null),()=>{};const P=eV(l,({data:V,error:O})=>{if(O){j(O),y([]);return}j(null),y(Array.isArray(V)?V:[])});return()=>{typeof P=="function"&&P()}},[l]);const[D,T]=A.useState([]),[b,x]=A.useState(null);A.useEffect(()=>{if(!l)return T([]),x(null),()=>{};const P=tV(l,({data:V,error:O})=>{if(O){x(O),T([]);return}x(null),T(Array.isArray(V)?V:[])});return()=>{typeof P=="function"&&P()}},[l]);const[k,U]=A.useState([]),[z,w]=A.useState(null);A.useEffect(()=>{if(!l)return U([]),w(null),()=>{};const P=nV(l,({data:V,error:O})=>{if(O){w(O),U([]);return}w(null),U(Array.isArray(V)?V:[])});return()=>{typeof P=="function"&&P()}},[l]);const _=A.useMemo(()=>[{value:"all",label:"Alle klanten"},...p.map(V=>({value:V.id,label:V.name||V.email||"Unknown customer"}))],[p]),[v,S]=A.useState("all");A.useEffect(()=>{var P;_.some(V=>V.value===v)||S(((P=_[0])==null?void 0:P.value)||"all")},[_,v]);const R=A.useMemo(()=>v==="all"?null:p.find(P=>P.id===v)||null,[v,p]),I=A.useMemo(()=>R?`Focus: ${R.name||R.email||"Customer"}`:p.length===0?"Geen klanten gekoppeld":`${p.length} klanten gekoppeld`,[R,p.length]),N={name:(c==null?void 0:c.name)||(e==null?void 0:e.name)||(c==null?void 0:c.email)||(e==null?void 0:e.email)||"Coach",subtitle:I,role:"Coach"},ae=()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),t("/login",{replace:!0})},me=A.useMemo(()=>({coach:c,account:e,customers:p,assignments:D,feedback:k,selectedCustomer:R,errors:{user:r,profile:h,customers:C,assignments:b,feedback:z},loading:{user:s}}),[D,b,c,h,C,p,z,k,s,R,e,r]);return u.jsx(og,{sidebar:u.jsx(cg,{header:u.jsxs("div",{className:"space-y-4",children:[u.jsx(Go,{className:"w-fit"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Coach"}),u.jsx("h1",{className:"mt-1 text-xl font-semibold text-slate-900",children:"EVC Workspace"})]})]}),navItems:hV}),topbar:u.jsx(dg,{title:"Coaching dashboard",user:N,rightSlot:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("select",{value:v,onChange:P=>S(P.target.value),className:"h-10 rounded-full border border-slate-200 bg-white px-3 text-sm shadow-sm focus:border-brand-400 focus:outline-none focus:ring-2 focus:ring-brand-100",children:_.map(P=>u.jsx("option",{value:P.value,children:P.label},P.value))}),u.jsx("button",{type:"button",onClick:ae,className:"rounded-full bg-brand-600 px-3 py-2 text-sm font-semibold text-white shadow-lg transition hover:bg-brand-500",children:"Sign out"})]})}),children:u.jsx(lg,{context:me})})},gV=()=>{const t=ts(),[e,n]=A.useState(()=>{try{const I=localStorage.getItem("user")||"null";return so(JSON.parse(I))}catch{return null}}),[s,i]=A.useState(()=>{try{const I=localStorage.getItem("impersonationBackup");return I?JSON.parse(I):null}catch{return null}}),[r,a]=A.useState(!e),[l,c]=A.useState(null),[d,h]=A.useState(null),[m,p]=A.useState(null),[y,C]=A.useState(null),[j,D]=A.useState(null);A.useEffect(()=>{let I=!0;return(async()=>{a(!0);try{const ae=await Ns("/auth/me");if(!I)return;n(me=>{const P=so({...me||{},...ae||{}});try{localStorage.setItem("user",JSON.stringify(P))}catch{}return P}),c(null)}catch(ae){if(!I)return;c(ae)}finally{I&&a(!1)}})(),()=>{I=!1}},[]);const T=(e==null?void 0:e.firebaseUid)||(e==null?void 0:e.uid)||null;A.useEffect(()=>{if(!T){h(null),p(null),C(null),D(null);return}const I=B5(T,({customer:N,coach:ae,assignment:me,error:P})=>{if(P){D(P);return}D(null),N!==void 0&&h(N||null),ae!==void 0&&p(ae||null),me!==void 0&&C(me||null)});return()=>{typeof I=="function"&&I()}},[T]);const b=A.useMemo(()=>{if(d){const N=d.firebaseUid||d.id||null;return N?{...d,firebaseUid:N,uid:N}:d}if(!e)return null;const I=e.firebaseUid||e.uid||(e.id?String(e.id):null);return I?{id:I,uid:I,firebaseUid:I,name:e.name||e.email||"Customer",email:e.email||"",role:e.role||"customer",trajectId:e.trajectId||null}:null},[d,e]),x=A.useMemo(()=>m||null,[m]),k=A.useMemo(()=>{if(!(b!=null&&b.lastActivity))return"-";const I=b.lastActivity;return I instanceof Date?I.toLocaleString():typeof I=="string"?I:"-"},[b==null?void 0:b.lastActivity]),U=!!s,z=A.useMemo(()=>{if(!(s!=null&&s.userData))return null;const{name:I,email:N}=s.userData;return I||N||null},[s]),w=[];U&&w.push(`Meekijken door ${z||"Admin"}`),x!=null&&x.name&&w.push(`Coach: ${x.name}`),y!=null&&y.status&&w.push(y.status);const _=w.join(" • ")||"Customer",v={name:(b==null?void 0:b.name)||"Customer",subtitle:_,role:"Customer"},S=async()=>{try{await XT(Mi)}catch{}localStorage.removeItem("token"),localStorage.removeItem("user"),localStorage.removeItem("impersonationBackup"),n(null),i(null),h(null),p(null),C(null),t("/login",{replace:!0})},R=()=>{if(!U){t("/admin",{replace:!0});return}let I=s;if(!I)try{const N=localStorage.getItem("impersonationBackup");I=N?JSON.parse(N):null}catch{I=null}if(I&&Object.prototype.hasOwnProperty.call(I,"token")?I.token===null?localStorage.removeItem("token"):localStorage.setItem("token",I.token):localStorage.removeItem("token"),I&&Object.prototype.hasOwnProperty.call(I,"user"))if(I.user===null)localStorage.removeItem("user"),n(null);else{localStorage.setItem("user",I.user);try{n(so(JSON.parse(I.user)))}catch{n(null)}}else localStorage.removeItem("user"),n(null);localStorage.removeItem("impersonationBackup"),i(null),h(null),p(null),C(null),t("/admin",{replace:!0})};return u.jsx(og,{sidebar:u.jsx(cg,{header:u.jsxs("div",{className:"space-y-4",children:[u.jsx(Go,{className:"w-fit"}),u.jsxs("div",{children:[u.jsx("p",{className:"text-xs uppercase tracking-widest text-slate-400",children:"Customer"}),u.jsx("h1",{className:"mt-1 text-xl font-semibold text-slate-900",children:"Mijn EVC"})]})]}),navItems:fV}),topbar:u.jsx(dg,{title:"Jouw EVC-traject",user:v,rightSlot:u.jsxs("div",{className:"flex flex-wrap items-center justify-end gap-3 text-sm text-slate-600",children:[U?u.jsx("button",{type:"button",onClick:R,className:"rounded-full border border-brand-200 bg-brand-50 px-3 py-1 font-semibold text-brand-600 transition hover:bg-brand-100",children:"Stop meekijken"}):null,u.jsx("button",{type:"button",onClick:S,className:"rounded-full bg-evc-blue-600 px-3 py-1 font-semibold text-white shadow-sm transition hover:bg-evc-blue-500",children:"Log uit"}),u.jsxs("span",{className:"rounded-full bg-white px-3 py-1 font-medium text-slate-600 shadow-sm",children:["Laatste activiteit: ",k]}),x?u.jsxs("span",{className:"hidden rounded-full bg-brand-50 px-3 py-1 font-medium text-brand-600 sm:inline",children:["Coach ",x.name]}):null]})}),children:u.jsx(lg,{context:{customer:b,coach:x,assignment:y,account:e,loadingUser:r,userError:l,firestoreError:j}})})},yV=()=>u.jsx(IR,{children:u.jsxs(ER,{children:[u.jsx(Ie,{path:"/",element:u.jsx(y5,{})}),u.jsx(Ie,{path:"/login",element:u.jsx(p5,{})}),u.jsx(Ie,{path:"/testing/create-account",element:u.jsx(k5,{})}),u.jsxs(Ie,{path:"/admin",element:u.jsx(mV,{}),children:[u.jsx(Ie,{index:!0,element:u.jsx(E5,{})}),u.jsx(Ie,{path:"assignments",element:u.jsx(w5,{})}),u.jsx(Ie,{path:"trajects",element:u.jsx(S5,{})}),u.jsx(Ie,{path:"profile",element:u.jsx(N5,{})}),u.jsx(Ie,{path:"users",element:u.jsx(I5,{})})]}),u.jsxs(Ie,{path:"/coach",element:u.jsx(pV,{}),children:[u.jsx(Ie,{index:!0,element:u.jsx(Q5,{})}),u.jsx(Ie,{path:"customers",element:u.jsx(Y5,{})}),u.jsx(Ie,{path:"customers/:customerId",element:u.jsx(oV,{})}),u.jsx(Ie,{path:"feedback",element:u.jsx(cV,{})}),u.jsx(Ie,{path:"messages",element:u.jsx(uV,{})})]}),u.jsxs(Ie,{path:"/customer",element:u.jsx(gV,{}),children:[u.jsx(Ie,{index:!0,element:u.jsx(os,{to:"/customer/planning",replace:!0})}),u.jsx(Ie,{path:"planning",element:u.jsx(q5,{})}),u.jsx(Ie,{path:"messages",element:u.jsx(H5,{})}),u.jsx(Ie,{path:"profile",element:u.jsx(G5,{})})]}),u.jsx(Ie,{path:"/Login.html",element:u.jsx(os,{to:"/login",replace:!0})}),u.jsx(Ie,{path:"/Dashboard.html",element:u.jsx(os,{to:"/admin",replace:!0})}),u.jsx(Ie,{path:"/Profile.html",element:u.jsx(os,{to:"/customer/profile",replace:!0})}),u.jsx(Ie,{path:"/Planning.html",element:u.jsx(os,{to:"/customer/planning",replace:!0})}),u.jsx(Ie,{path:"/Messages.html",element:u.jsx(os,{to:"/customer/messages",replace:!0})}),u.jsx(Ie,{path:"/Evidence.html",element:u.jsx(os,{to:"/customer/planning",replace:!0})}),u.jsx(Ie,{path:"/index.html",element:u.jsx(os,{to:"/",replace:!0})}),u.jsx(Ie,{path:"*",element:u.jsx(os,{to:"/",replace:!0})})]})});function _V(){return u.jsx(yV,{})}const vV=jC.createRoot(document.getElementById("root"));vV.render(u.jsx(fu.StrictMode,{children:u.jsx(_V,{})}));
